import{a as ae}from"./chunk-YDZGE3V5.js";import{E as re}from"./chunk-RT7DTAS6.js";import{a as se}from"./chunk-PE7TFI7A.js";import{$f as ge,Bb as L,Bc as ee,Cb as u,Db as Z,Dc as te,E as N,Ea as F,Eb as U,Ha as m,Ic as ne,Mb as G,Na as Q,Nb as J,Ob as C,Pb as K,Rb as W,Sa as H,Ta as j,Ua as z,Y as O,Ya as p,Z as D,Zb as X,aa as d,b as P,c as T,db as h,eb as c,fb as V,ga as B,ha as R,ia as S,jb as E,jc as Y,n as M,nb as f,nc as $,ob as g,oc as l,pa as A,pb as k,pd as ie,qa as I,qd as oe,sb as v,ta as r,tb as q,ua as _,x as w}from"./chunk-F7FAPFPY.js";import{g as fe,i as a}from"./chunk-AI7IVZV2.js";function le(e,t=0){return _e(e)?Number(e):arguments.length===2?t:0}function _e(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function ce(e){return e instanceof _?e.nativeElement:e}function ve(e){if(e.type==="characterData"&&e.target instanceof Comment)return!0;if(e.type==="childList"){for(let t=0;t<e.addedNodes.length;t++)if(!(e.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<e.removedNodes.length;t++)if(!(e.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var ue=(()=>{let t=class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};a(t,"\u0275fac",function(i){return new(i||t)}),a(t,"\u0275prov",O({token:t,factory:t.\u0275fac,providedIn:"root"}));let e=t;return e})(),Ce=(()=>{let t=class t{_mutationObserverFactory=d(ue);_observedElements=new Map;_ngZone=d(I);constructor(){}ngOnDestroy(){this._observedElements.forEach((n,i)=>this._cleanupObserver(i))}observe(n){let i=ce(n);return new P(s=>{let x=this._observeElement(i).pipe(M(b=>b.filter(be=>!ve(be))),w(b=>!!b.length)).subscribe(b=>{this._ngZone.run(()=>{s.next(b)})});return()=>{x.unsubscribe(),this._unobserveElement(i)}})}_observeElement(n){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(n))this._observedElements.get(n).count++;else{let i=new T,s=this._mutationObserverFactory.create(y=>i.next(y));s&&s.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:s,stream:i,count:1})}return this._observedElements.get(n).stream})}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){let{observer:i,stream:s}=this._observedElements.get(n);i&&i.disconnect(),s.complete(),this._observedElements.delete(n)}}};a(t,"\u0275fac",function(i){return new(i||t)}),a(t,"\u0275prov",O({token:t,factory:t.\u0275fac,providedIn:"root"}));let e=t;return e})(),de=(()=>{let t=class t{_contentObserver=d(Ce);_elementRef=d(_);event=new A;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(n){this._debounce=le(n),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let n=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?n.pipe(N(this.debounce)):n).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}};a(t,"\u0275fac",function(i){return new(i||t)}),a(t,"\u0275dir",z({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",l],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}));let e=t;return e})(),pe=(()=>{let t=class t{};a(t,"\u0275fac",function(i){return new(i||t)}),a(t,"\u0275mod",j({type:t})),a(t,"\u0275inj",D({providers:[ue]}));let e=t;return e})();var me=fe(ge());var xe=["labelContent"],Oe=["*"],Ee=e=>({displayed:e});function ke(e,t){e&1&&v(0)}function Le(e,t){if(e&1&&(f(0,"a",2),p(1,ke,1,0,"ng-container",5),g()),e&2){let o=u(),n=C(4);c("ngClass",o.classes)("ngbTooltip",o.tooltip())("routerLink",o.ptRouterLink())("queryParams",o.ptQueryParams())("queryParamsHandling",o.ptQueryParamsHandling())("routerLinkActive",o.ptRouterLinkActive()),h("title",o.title()),m(),c("ngTemplateOutlet",n)}}function Pe(e,t){e&1&&v(0)}function Te(e,t){if(e&1&&(f(0,"a",3),p(1,Pe,1,0,"ng-container",5),g()),e&2){let o=u(),n=C(4);c("ngClass",o.classes)("ngbTooltip",o.tooltip())("href",o.href(),F),h("title",o.title()),m(),c("ngTemplateOutlet",n)}}function Me(e,t){e&1&&v(0)}function we(e,t){if(e&1&&(f(0,"button",4),p(1,Me,1,0,"ng-container",5),g()),e&2){let o=u(),n=C(4);c("ngClass",o.classes)("disabled",o.disabled())("ngbTooltip",o.tooltip()),h("title",o.title()),m(),c("ngTemplateOutlet",n)}}function Ne(e,t){if(e&1&&k(0,"my-global-icon",9),e&2){let o=u(2);c("iconName",o.icon())}}function De(e,t){if(e&1&&K(0),e&2){let o=u(2);W(" ",o.label()," ")}}function Be(e,t){e&1&&U(0)}function Re(e,t){if(e&1){let o=q();k(0,"my-loader",6),p(1,Ne,1,1,"my-global-icon",7),f(2,"span",8,1),L("cdkObserveContent",function(){R(o);let i=u();return S(i.ngOnChanges())}),p(4,De,1,1)(5,Be,1,0),g()}if(e&2){let o=u();c("ngClass",X(4,Ee,o.loading()))("loading",o.loading()),m(),c("ngIf",o.icon()&&!o.loading()),m(3),E(o.label()?4:5)}}var Se=(0,me.default)("peertube:button"),rt=(()=>{let t=class t{cd=d($);label=r("");theme=r("secondary");icon=r(void 0);href=r(void 0);ptRouterLink=r(void 0);ptQueryParams=r(void 0);ptQueryParamsHandling=r(void 0);ptRouterLinkActive=r("");title=r(void 0);tooltip=r(void 0);active=r(!1,{transform:l});loading=r(!1,{transform:l});disabled=r(!1,{transform:l});responsiveLabel=r(!1,{transform:l});autoFontSize=r(!1,{transform:l});rounded=r(!1,{transform:l});small=r(!1,{transform:l});show=r(!1,{transform:l});labelContent=Q("labelContent");classes={};ngOnChanges(){this.buildClasses()}ngAfterViewInit(){this.buildClasses()}onTouchEnd(n){this.disabled()&&(n.preventDefault(),n.stopPropagation())}get pointerEvents(){return this.disabled()?"none":"auto"}buildClasses(){let n=!!this.ptRouterLink()||!!this.href(),i=this.getLabel()||"";this.classes={active:this.active(),"peertube-button":!n,"peertube-button-link":n,"primary-button":this.theme()==="primary","secondary-button":this.theme()==="secondary","tertiary-button":this.theme()==="tertiary","has-icon":!!this.icon(),"rounded-icon-button":!!this.rounded(),"icon-only":!i,"label-xl":this.autoFontSize()&&i.length>10,"responsive-label":this.responsiveLabel(),"small-button":this.small(),show:this.show()},Se("Built button classes",{classes:this.classes,label:i,labelContent:this.labelContent()}),this.cd.markForCheck()}getLabel(){return this.label()||this.labelContent()?.nativeElement?.innerText}};a(t,"\u0275fac",function(i){return new(i||t)}),a(t,"\u0275cmp",H({type:t,selectors:[["my-button"]],viewQuery:function(i,s){i&1&&G(s.labelContent,xe,5),i&2&&J()},hostVars:2,hostBindings:function(i,s){i&1&&L("touchend",function(x){return s.onTouchEnd(x)}),i&2&&V("pointer-events",s.pointerEvents)},inputs:{label:[1,"label"],theme:[1,"theme"],icon:[1,"icon"],href:[1,"href"],ptRouterLink:[1,"ptRouterLink"],ptQueryParams:[1,"ptQueryParams"],ptQueryParamsHandling:[1,"ptQueryParamsHandling"],ptRouterLinkActive:[1,"ptRouterLinkActive"],title:[1,"title"],tooltip:[1,"tooltip"],active:[1,"active"],loading:[1,"loading"],disabled:[1,"disabled"],responsiveLabel:[1,"responsiveLabel"],autoFontSize:[1,"autoFontSize"],rounded:[1,"rounded"],small:[1,"small"],show:[1,"show"]},features:[B],ngContentSelectors:Oe,decls:5,vars:1,consts:[["content",""],["labelContent",""],[1,"action-button","ellipsis",3,"ngClass","ngbTooltip","routerLink","queryParams","queryParamsHandling","routerLinkActive"],["target","_blank",1,"action-button","ellipsis",3,"ngClass","ngbTooltip","href"],["type","button",1,"action-button","ellipsis",3,"ngClass","disabled","ngbTooltip"],[4,"ngTemplateOutlet"],["size","sm",3,"ngClass","loading"],[3,"iconName",4,"ngIf"],[1,"button-label",3,"cdkObserveContent"],[3,"iconName"]],template:function(i,s){i&1&&(Z(),p(0,Le,2,8,"a",2)(1,Te,2,5,"a",3)(2,we,2,5,"button",4)(3,Re,6,6,"ng-template",null,0,Y)),i&2&&E(s.ptRouterLink()||s.ptQueryParams()?0:s.href()?1:2)},dependencies:[te,ee,re,ne,ie,ae,se,pe,de,oe],styles:[`[_nghost-%COMP%]{display:inline-block}.action-button[_ngcontent-%COMP%]{width:100%;vertical-align:top}.action-button[_ngcontent-%COMP%]   my-loader.displayed[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;margin-top:-1px;margin-inline-end:.1875rem}.action-button[_ngcontent-%COMP%]:not(.rounded-icon-button).has-icon   my-global-icon[_ngcontent-%COMP%]{position:relative;top:-1px;right:0;display:inline-block;width:24px;height:24px;line-height:24px}.action-button[_ngcontent-%COMP%]:not(.rounded-icon-button).has-icon:not(.icon-only)   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:0}.action-button.label-xl[_ngcontent-%COMP%]{font-size:90%;padding:var(--input-y-padding) calc(var(--input-x-padding) / 2)!important}@media screen and (max-width: 800px){.responsive-label[_ngcontent-%COMP%]{padding:var(--input-y-padding) calc(var(--input-x-padding) / 2)!important}.responsive-label[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{display:none}}
/*# sourceMappingURL=button.component-SAC5ZTN5.css.map */`],changeDetection:0}));let e=t;return e})();export{le as a,ce as b,rt as c};
/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*/
//# sourceMappingURL=chunk-2O3IZ566.js.map
