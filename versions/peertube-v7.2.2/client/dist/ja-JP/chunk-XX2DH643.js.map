{"version":3,"mappings":"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","names":["VideoStateMessageService","buildWarn","state","manageProcessed","$localize","manageFeaturesDisabled","manageContactAdmin","watchNotPlayable","VideoState","PUBLISHED","LIVE_ENDED","WAITING_FOR_LIVE","TO_TRANSCODE","title","manageMain","manageSecondary","watchMain","watchSecondary","TO_IMPORT","TO_MOVE_TO_FILE_SYSTEM","TO_MOVE_TO_FILE_SYSTEM_FAILED","details","TO_MOVE_TO_EXTERNAL_STORAGE","TO_MOVE_TO_EXTERNAL_STORAGE_FAILED","TO_EDIT","TRANSCODING_FAILED","_","factory","ɵfac","_VideoStateMessageService","i","t","id","from","to","text","I","test","o","ID","TIME_LINE","TEXT","MULTI_LINE_TEXT","FIN_ENTRY","FINISH","N","n","split","e","r","E","length","parseInt","replace","c","S","start","tokens","pos","result","current","params","next","__spreadProps","__spreadValues","includes","T","push","Error","JSON","stringify","p","entries","s","HEADER","ID_OR_NOTE_OR_STYLE_OR_REGION","STYLE","NOTE","REGION","LEGACY_HEADER","u","R","x","toUpperCase","l","O","startsWith","TimeDurationFormatterPipe","transform","value","hours","Math","floor","minutes","seconds","pure","_TimeDurationFormatterPipe","M","a","$","b","w"],"ignoreList":[1],"sources":["src/app/shared/shared-video/video-state-message.service.ts","node_modules/@plussub/srt-vtt-parser/dist/index.js","src/app/shared/shared-main/date/time-duration-formatter.pipe.ts"],"sourcesContent":["import { Injectable } from '@angular/core'\nimport { VideoState, VideoStateType } from '@peertube/peertube-models'\n\n@Injectable()\nexport class VideoStateMessageService {\n  buildWarn (\n    state: VideoStateType\n  ): { title: string, manageMain: string, manageSecondary: string, watchMain: string, watchSecondary: string } {\n    const manageProcessed = $localize`Your video file is being processed.`\n    const manageFeaturesDisabled = $localize`This can take a while and some features may not be available until it is complete.`\n    const manageContactAdmin = $localize`Contact your administrator to fix it.`\n    const watchNotPlayable = $localize`Your web browser may not be able to play it.`\n\n    switch (state) {\n      case VideoState.PUBLISHED:\n      case VideoState.LIVE_ENDED:\n      case VideoState.WAITING_FOR_LIVE:\n        return undefined\n\n      case VideoState.TO_TRANSCODE:\n        return {\n          title: $localize`Transcoding in progress`,\n          manageMain: manageProcessed,\n          manageSecondary: manageFeaturesDisabled,\n          watchMain: watchNotPlayable,\n          watchSecondary: ''\n        }\n\n      case VideoState.TO_IMPORT:\n        return {\n          title: $localize`Import in progress`,\n          manageMain: $localize`Your remote video is being imported.`,\n          manageSecondary: manageFeaturesDisabled,\n          watchMain: $localize`The remote video is being imported, it will be available when the import is complete.`,\n          watchSecondary: ''\n        }\n\n      case VideoState.TO_MOVE_TO_FILE_SYSTEM:\n        return {\n          title: $localize`Moving video files`,\n          manageMain: manageProcessed,\n          manageSecondary: manageFeaturesDisabled,\n          watchMain: watchNotPlayable,\n          watchSecondary: $localize`The video is being moved to the file system.`\n        }\n\n      case VideoState.TO_MOVE_TO_FILE_SYSTEM_FAILED: {\n        const details = $localize`Failed to move video files to the platform file system.`\n\n        return {\n          title: $localize`Failed to move video files`,\n          manageMain: details,\n          manageSecondary: manageContactAdmin,\n          watchMain: watchNotPlayable,\n          watchSecondary: details\n        }\n      }\n\n      case VideoState.TO_MOVE_TO_EXTERNAL_STORAGE:\n        return {\n          title: $localize`Moving video files`,\n          manageMain: manageProcessed,\n          manageSecondary: manageFeaturesDisabled,\n          watchMain: watchNotPlayable,\n          watchSecondary: $localize`The video is being moved to an external storage.`\n        }\n\n      case VideoState.TO_MOVE_TO_EXTERNAL_STORAGE_FAILED: {\n        const details = $localize`Failed to move video files to an external storage.`\n\n        return {\n          title: $localize`Failed to move video files`,\n          manageMain: details,\n          manageSecondary: manageContactAdmin,\n          watchMain: watchNotPlayable,\n          watchSecondary: details\n        }\n      }\n\n      case VideoState.TO_EDIT:\n        return {\n          title: $localize`Studio edition in progress`,\n          manageMain: manageProcessed,\n          manageSecondary: manageFeaturesDisabled,\n          watchMain: watchNotPlayable,\n          watchSecondary: ''\n        }\n\n      case VideoState.TRANSCODING_FAILED:\n        return {\n          title: $localize`Transcoding failed`,\n          manageMain: $localize`Failure during transcoding of your video files`,\n          manageSecondary: manageContactAdmin,\n          watchMain: watchNotPlayable,\n          watchSecondary: ''\n        }\n\n      default:\n        return state satisfies never\n    }\n  }\n}\n","const i = t => typeof t.id == \"string\" && typeof t.from == \"number\" && typeof t.to == \"number\" && typeof t.text == \"string\",\n  I = t => !t || /^\\s*$/.test(t),\n  o = {\n    ID: \"ID\",\n    TIME_LINE: \"TIME_LINE\",\n    TEXT: \"TEXT\",\n    MULTI_LINE_TEXT: \"MULTI_LINE_TEXT\",\n    FIN_ENTRY: \"FIN_ENTRY\",\n    FINISH: \"FINISH\"\n  },\n  N = t => {\n    let n = t.split(\":\"),\n      e,\n      r,\n      E;\n    return n.length === 2 ? [r, E] = n : [e, r, E] = n, parseInt(E.replace(\",\", \"\"), 10) + parseInt(r, 10) * 60 * 1e3 + (e ? parseInt(e, 10) : 0) * 60 * 60 * 1e3;\n  },\n  c = () => ({\n    start(t) {\n      let n = o.ID,\n        e = {\n          tokens: t.split(/\\n/),\n          pos: 0,\n          result: [],\n          current: {}\n        };\n      for (; n !== o.FINISH;) {\n        const r = this[n](e);\n        e = r.params, n = r.next;\n      }\n      return e.result;\n    },\n    [o.ID](t) {\n      const {\n        tokens: n,\n        pos: e,\n        current: r\n      } = t;\n      if (n.length <= e) return {\n        next: o.FINISH,\n        params: t\n      };\n      if (I(n[e])) return {\n        next: o.ID,\n        params: {\n          ...t,\n          pos: e + 1\n        }\n      };\n      const E = n[e].includes(\"-->\");\n      return r.id = E ? \"\" : n[e], {\n        next: o.TIME_LINE,\n        params: {\n          ...t,\n          current: r,\n          tokens: n,\n          pos: E ? e : e + 1\n        }\n      };\n    },\n    [o.TIME_LINE](t) {\n      const {\n          tokens: n,\n          pos: e,\n          current: r\n        } = t,\n        E = n[e],\n        [T, _] = E.split(\"-->\");\n      return r.from = N(T), r.to = N(_), {\n        next: o.TEXT,\n        params: {\n          ...t,\n          current: r,\n          pos: e + 1\n        }\n      };\n    },\n    [o.TEXT](t) {\n      const {\n        tokens: n,\n        pos: e,\n        current: r\n      } = t;\n      return n.length <= e ? {\n        next: o.FINISH,\n        params: t\n      } : (r.text = n[e], {\n        next: o.MULTI_LINE_TEXT,\n        params: {\n          ...t,\n          current: r,\n          pos: e + 1\n        }\n      });\n    },\n    [o.MULTI_LINE_TEXT](t) {\n      const {\n        tokens: n,\n        pos: e,\n        current: r\n      } = t;\n      return n.length <= e || I(n[e]) ? {\n        next: o.FIN_ENTRY,\n        params: t\n      } : (r.text = `${r.text}\n${n[e]}`, {\n        next: o.MULTI_LINE_TEXT,\n        params: {\n          ...t,\n          current: r,\n          pos: e + 1\n        }\n      });\n    },\n    [o.FIN_ENTRY](t) {\n      const {\n        pos: n,\n        current: e,\n        result: r\n      } = t;\n      if (i(e)) r.push(e);else throw new Error(`Parsing error current not complete ${JSON.stringify(e)}`);\n      return {\n        next: o.ID,\n        params: {\n          ...t,\n          current: {},\n          pos: n + 1\n        }\n      };\n    },\n    [o.FINISH](t) {\n      return {\n        next: o.FINISH,\n        params: t\n      };\n    }\n  }),\n  p = t => ({\n    entries: c().start(t)\n  }),\n  s = {\n    HEADER: \"HEADER\",\n    ID: \"ID\",\n    TIME_LINE: \"TIME_LINE\",\n    ID_OR_NOTE_OR_STYLE_OR_REGION: \"ID_OR_NOTE_OR_STYLE_OR_REGION\",\n    STYLE: \"STYLE\",\n    NOTE: \"NOTE\",\n    REGION: \"REGION\",\n    LEGACY_HEADER: \"LEGACY_HEADER\",\n    TEXT: \"TEXT\",\n    MULTI_LINE_TEXT: \"MULTI_LINE_TEXT\",\n    FIN_ENTRY: \"FIN_ENTRY\",\n    FINISH: \"FINISH\"\n  },\n  u = t => {\n    let n = t.split(\":\"),\n      e,\n      r,\n      E;\n    return n.length === 2 ? [r, E] = n : [e, r, E] = n, parseInt(E.replace(\".\", \"\"), 10) + parseInt(r, 10) * 60 * 1e3 + (e ? parseInt(e, 10) : 0) * 60 * 60 * 1e3;\n  },\n  R = () => ({\n    start(t) {\n      let n = s.HEADER,\n        e = {\n          tokens: t.split(/\\n/),\n          pos: 0,\n          result: [],\n          current: {}\n        };\n      for (; n !== s.FINISH;) {\n        const r = this[n](e);\n        e = r.params, n = r.next;\n      }\n      return e.result;\n    },\n    [s.HEADER](t) {\n      return {\n        next: s.LEGACY_HEADER,\n        params: {\n          ...t,\n          pos: t.pos + 1\n        }\n      };\n    },\n    [s.LEGACY_HEADER](t) {\n      const {\n        tokens: n,\n        pos: e\n      } = t;\n      return n.length <= e ? {\n        next: s.FINISH,\n        params: t\n      } : n[e].includes(\":\") && !n[e].includes(\"-->\") ? {\n        next: s.LEGACY_HEADER,\n        params: {\n          ...t,\n          pos: e + 1\n        }\n      } : {\n        next: s.ID_OR_NOTE_OR_STYLE_OR_REGION,\n        params: t\n      };\n    },\n    [s.ID_OR_NOTE_OR_STYLE_OR_REGION](t) {\n      const {\n        tokens: n,\n        pos: e\n      } = t;\n      return n.length <= e ? {\n        next: s.FINISH,\n        params: t\n      } : I(n[e]) ? {\n        next: s.ID_OR_NOTE_OR_STYLE_OR_REGION,\n        params: {\n          ...t,\n          pos: e + 1\n        }\n      } : n[e].toUpperCase().includes(\"NOTE\") ? {\n        next: s.NOTE,\n        params: t\n      } : n[e].toUpperCase().includes(\"STYLE\") ? {\n        next: s.STYLE,\n        params: t\n      } : n[e].toUpperCase().includes(\"REGION\") ? {\n        next: s.REGION,\n        params: t\n      } : {\n        next: s.ID,\n        params: t\n      };\n    },\n    [s.STYLE](t) {\n      const {\n        tokens: n,\n        pos: e\n      } = t;\n      return I(n[e]) ? {\n        next: s.ID_OR_NOTE_OR_STYLE_OR_REGION,\n        params: {\n          ...t,\n          pos: e + 1\n        }\n      } : {\n        next: s.STYLE,\n        params: {\n          ...t,\n          pos: e + 1\n        }\n      };\n    },\n    [s.NOTE](t) {\n      const {\n        tokens: n,\n        pos: e\n      } = t;\n      return I(n[e]) ? {\n        next: s.ID_OR_NOTE_OR_STYLE_OR_REGION,\n        params: {\n          ...t,\n          pos: e + 1\n        }\n      } : {\n        next: s.STYLE,\n        params: {\n          ...t,\n          pos: e + 1\n        }\n      };\n    },\n    [s.REGION](t) {\n      const {\n        tokens: n,\n        pos: e\n      } = t;\n      return I(n[e]) ? {\n        next: s.ID_OR_NOTE_OR_STYLE_OR_REGION,\n        params: {\n          ...t,\n          pos: e + 1\n        }\n      } : {\n        next: s.REGION,\n        params: {\n          ...t,\n          pos: e + 1\n        }\n      };\n    },\n    [s.ID](t) {\n      const {\n        tokens: n,\n        pos: e,\n        current: r\n      } = t;\n      if (n.length <= e) return {\n        next: s.FINISH,\n        params: t\n      };\n      if (I(n[e])) return {\n        next: s.ID,\n        params: {\n          ...t,\n          pos: e + 1\n        }\n      };\n      const E = n[e].includes(\"-->\");\n      return r.id = E ? \"\" : n[e], {\n        next: s.TIME_LINE,\n        params: {\n          ...t,\n          current: r,\n          tokens: n,\n          pos: E ? e : e + 1\n        }\n      };\n    },\n    [s.TIME_LINE](t) {\n      const {\n          tokens: n,\n          pos: e,\n          current: r\n        } = t,\n        E = n[e],\n        [T, _] = E.split(\"-->\");\n      return r.from = u(T), r.to = u(_), {\n        next: s.TEXT,\n        params: {\n          ...t,\n          current: r,\n          pos: e + 1\n        }\n      };\n    },\n    [s.TEXT](t) {\n      const {\n        tokens: n,\n        pos: e,\n        current: r\n      } = t;\n      return n.length <= e ? {\n        next: s.FINISH,\n        params: t\n      } : (r.text = n[e], {\n        next: s.MULTI_LINE_TEXT,\n        params: {\n          ...t,\n          current: r,\n          pos: e + 1\n        }\n      });\n    },\n    [s.MULTI_LINE_TEXT](t) {\n      const {\n        tokens: n,\n        pos: e,\n        current: r\n      } = t;\n      return n.length <= e || I(n[e]) ? {\n        next: s.FIN_ENTRY,\n        params: t\n      } : (r.text = `${r.text}\n${n[e]}`, {\n        next: s.MULTI_LINE_TEXT,\n        params: {\n          ...t,\n          current: r,\n          pos: e + 1\n        }\n      });\n    },\n    [s.FIN_ENTRY](t) {\n      const {\n        pos: n,\n        current: e,\n        result: r\n      } = t;\n      if (i(e)) r.push(e);else throw new Error(`Parsing error current not complete ${JSON.stringify(e)}`);\n      return {\n        next: s.ID_OR_NOTE_OR_STYLE_OR_REGION,\n        params: {\n          ...t,\n          current: {},\n          pos: n + 1\n        }\n      };\n    },\n    [s.FINISH](t) {\n      return {\n        next: s.FINISH,\n        params: t\n      };\n    }\n  }),\n  l = t => ({\n    entries: R().start(t)\n  }),\n  O = t => t.startsWith(\"WEBVTT\") ? l(t) : p(t);\nexport { O as parse };","import { Pipe, PipeTransform } from '@angular/core'\n\n@Pipe({\n  name: 'myTimeDurationFormatter',\n  standalone: true\n})\nexport class TimeDurationFormatterPipe implements PipeTransform {\n\n  transform (value: number): string {\n    const hours = Math.floor(value / 3600)\n    const minutes = Math.floor((value % 3600) / 60)\n    const seconds = value % 60\n\n    if (hours > 0) {\n      let result = $localize`${hours}h`\n\n      if (minutes !== 0) result += ' ' + $localize`${minutes}min`\n      if (seconds !== 0) result += ' ' + $localize`${seconds}sec`\n\n      return result\n    }\n\n    if (minutes > 0) {\n      let result = $localize`${minutes}min`\n\n      if (seconds !== 0) result += ' ' + `${seconds}sec`\n\n      return result\n    }\n\n    return $localize`${seconds} sec`\n  }\n}\n"]}