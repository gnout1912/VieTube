{
  "version": 3,
  "sources": ["src/app/shared/shared-main/custom-page/custom-page.service.ts"],
  "sourcesContent": ["import { of } from 'rxjs'\nimport { catchError } from 'rxjs/operators'\nimport { HttpClient } from '@angular/common/http'\nimport { Injectable, inject } from '@angular/core'\nimport { RestExtractor } from '@app/core'\nimport { CustomPage } from '@peertube/peertube-models'\nimport { environment } from '../../../../environments/environment'\n\n@Injectable()\nexport class CustomPageService {\n  private authHttp = inject(HttpClient)\n  private restExtractor = inject(RestExtractor)\n\n  static BASE_INSTANCE_HOMEPAGE_URL = environment.apiUrl + '/api/v1/custom-pages/homepage/instance'\n\n  getInstanceHomepage () {\n    return this.authHttp.get<CustomPage>(CustomPageService.BASE_INSTANCE_HOMEPAGE_URL)\n      .pipe(\n        catchError(err => {\n          if (err.status === 404) {\n            return of({ content: '' })\n          }\n\n          return this.restExtractor.handleError(err)\n        })\n      )\n  }\n\n  updateInstanceHomepage (content: string) {\n    return this.authHttp.put(CustomPageService.BASE_INSTANCE_HOMEPAGE_URL, { content })\n      .pipe(catchError(err => this.restExtractor.handleError(err)))\n  }\n}\n"],
  "mappings": "8HASM,IAAOA,EAAP,MAAOA,CAAiB,CACpBC,SAAWC,EAAOC,CAAU,EAC5BC,cAAgBF,EAAOG,CAAa,EAI5CC,qBAAmB,CACjB,OAAO,KAAKL,SAASM,IAAgBP,EAAkBQ,0BAA0B,EAC9EC,KACCC,EAAWC,GACLA,EAAIC,SAAW,IACVC,EAAG,CAAEC,QAAS,EAAE,CAAE,EAGpB,KAAKV,cAAcW,YAAYJ,CAAG,CAC1C,CAAC,CAER,CAEAK,uBAAwBF,EAAe,CACrC,OAAO,KAAKb,SAASgB,IAAIjB,EAAkBQ,2BAA4B,CAAEM,QAAAA,CAAO,CAAE,EAC/EL,KAAKC,EAAWC,GAAO,KAAKP,cAAcW,YAAYJ,CAAG,CAAC,CAAC,CAChE,GAlBAO,EAJWlB,EAIJQ,6BAA6BW,EAAYC,OAAS,4CAJ9CpB,wCAAAA,EAAiB,KAAjBA,wBAAAA,EAAiBqB,QAAjBrB,EAAiBsB,SAAA,CAAA,GAAxB,IAAOtB,EAAPuB",
  "names": ["CustomPageService", "authHttp", "inject", "HttpClient", "restExtractor", "RestExtractor", "getInstanceHomepage", "get", "BASE_INSTANCE_HOMEPAGE_URL", "pipe", "catchError", "err", "status", "of", "content", "handleError", "updateInstanceHomepage", "put", "__publicField", "environment", "apiUrl", "factory", "\u0275fac", "_CustomPageService"]
}
