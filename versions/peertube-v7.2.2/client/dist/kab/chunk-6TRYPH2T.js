import{a as $}from"./chunk-C5UL7A6S.js";import{Bc as E,Cb as p,Dc as w,Ea as d,Ha as l,Ic as S,Mb as I,Na as y,Nb as z,Ob as g,Pb as O,Qb as U,Sa as T,Uf as N,Vf as D,Ya as c,aa as v,eb as o,ga as C,jc as P,nb as f,ob as m,oc as M,pb as h,pc as k,pd as L,qb as b,rb as x,re as R,ta as s,ua as A}from"./chunk-F7FAPFPY.js";import{i as _}from"./chunk-AI7IVZV2.js";var H=["avatarEl"];function V(t,a){if(t&1&&h(0,"img",7,1),t&2){let e=p(2);o("ngClass",e.classes)("src",e.previewImage()||e.avatarUrl||e.defaultAvatarUrl,d);}}function j(t,a){if(t&1&&(f(0,"div",8,1)(2,"span"),O(3),m()()),t&2){let e=p(2);o("ngClass",e.classes),l(3),U(e.getActorInitial());}}function F(t,a){if(t&1&&h(0,"div",8,1),t&2){let e=p(2);o("ngClass",e.classes);}}function G(t,a){if(t&1&&c(0,V,2,2,"img",5)(1,j,4,2,"div",6)(2,F,2,1,"div",6),t&2){let e=p();o("ngIf",e.displayImage()),l(),o("ngIf",e.displayActorInitial()),l(),o("ngIf",e.displayPlaceholder());}}function Q(t,a){}function q(t,a){t&1&&c(0,Q,0,0,"ng-template");}function J(t,a){if(t&1&&(f(0,"a",9),c(1,q,1,0,null,10),m()),t&2){let e=p(),n=g(1);o("href",e.href(),d)("title",e.getTitle()),l(),o("ngTemplateOutlet",n);}}function K(t,a){}function B(t,a){t&1&&c(0,K,0,0,"ng-template");}function W(t,a){if(t&1&&(f(0,"a",11),c(1,B,1,0,null,10),m()),t&2){let e=p(),n=g(1);o("routerLink",e.internalHref())("title",e.getTitle()),l(),o("ngTemplateOutlet",n);}}function X(t,a){}function Y(t,a){t&1&&c(0,X,0,0,"ng-template");}function Z(t,a){if(t&1&&(b(0),c(1,Y,1,0,null,10),x()),t&2){p();let e=g(1);l(),o("ngTemplateOutlet",e);}}var ct=(()=>{let a=class a{el=v(A);avatarEl=y("avatarEl");actor=s(void 0);actorType=s(void 0);previewImage=s(void 0);size=s(120,{transform:k});responseSize=s(!1,{transform:M});href=s(void 0);internalHref=s(void 0);title=s();getTitle(){return this.title()?this.title():this.isAccount()?""+this.actor().name+" (asebter n umi\u1E0Dan) ":this.isChannel()?""+this.actor().name+" (asebter n ubadu) ":this.isInstance()?""+this.actor().name+" (instance page)":"";}classes=[];defaultAvatarUrl;avatarUrl;ngOnInit(){this.buildDefaultAvatarUrl(),this.buildAvatarUrl(),this.buildClasses();}ngOnChanges(){this.buildAvatarUrl(),this.buildClasses();}buildClasses(){let n="100%",r="22px";this.classes=["avatar"];let i=this.size();i&&!this.responseSize()&&(n=`${i}px`,i<=18?r="13px":i>=100?r="40px":i>=120&&(r="46px")),this.isChannel()?this.classes.push("channel"):this.isAccount()?this.classes.push("account"):this.isInstance()&&this.classes.push("instance"),this.displayActorInitial()&&(this.classes.push("initial"),this.classes.push(this.getColorTheme()));let u=this.el.nativeElement.style;u.setProperty("--co-avatar-size",n),u.setProperty("--co-font-size",r);}buildDefaultAvatarUrl(){this.defaultAvatarUrl=this.isChannel()?$.GET_DEFAULT_AVATAR_URL(this.getSizeNumber()):D.GET_DEFAULT_AVATAR_URL(this.getSizeNumber());}buildAvatarUrl(){let n=this.actor();if(!n){this.avatarUrl="";return;}if(this.isAccount()||this.isChannel()||this.isInstance()){this.avatarUrl=N.GET_ACTOR_AVATAR_URL(n,this.getSizeNumber());return;}this.avatarUrl="";}displayImage(){return this.actorType()==="unlogged"||this.previewImage()?!0:!!(this.actor()&&this.avatarUrl);}displayActorInitial(){return!this.displayImage()&&this.actor()&&!this.avatarUrl;}displayPlaceholder(){return this.actorType()!=="unlogged"&&!this.actor();}getActorInitial(){let n=this.actor()?.name;return n?n.slice(0,1):"";}isAccount(){return this.actorType()==="account";}isChannel(){return this.actorType()==="channel";}isInstance(){return this.actorType()==="instance";}getSizeNumber(){let n=this.size();if(n)return+n;}getColorTheme(){let n=this.getActorInitial().toLowerCase(),r={"0123456789abc":"blue",def:"green",ghi:"purple",jkl:"gray",mno:"yellow",pqr:"orange",stvu:"red",wxyz:"dark-blue"},i=R(r).find(u=>u.includes(n));return r[i]||"blue";}};_(a,"\u0275fac",function(r){return new(r||a)();}),_(a,"\u0275cmp",T({type:a,selectors:[["my-actor-avatar"]],viewQuery:function(r,i){r&1&&I(i.avatarEl,H,5),r&2&&z();},inputs:{actor:[1,"actor"],actorType:[1,"actorType"],previewImage:[1,"previewImage"],size:[1,"size"],responseSize:[1,"responseSize"],href:[1,"href"],internalHref:[1,"internalHref"],title:[1,"title"]},features:[C],decls:5,vars:3,consts:[["img",""],["avatarEl",""],["target","_blank","rel","noopener noreferrer",3,"href","title",4,"ngIf"],[3,"routerLink","title",4,"ngIf"],[4,"ngIf"],["alt","",3,"ngClass","src",4,"ngIf"],[3,"ngClass",4,"ngIf"],["alt","",3,"ngClass","src"],[3,"ngClass"],["target","_blank","rel","noopener noreferrer",3,"href","title"],[4,"ngTemplateOutlet"],[3,"routerLink","title"]],template:function(r,i){r&1&&c(0,G,3,3,"ng-template",null,0,P)(2,J,2,3,"a",2)(3,W,2,3,"a",3)(4,Z,2,1,"ng-container",4),r&2&&(l(2),o("ngIf",i.actor()&&i.href()),l(),o("ngIf",i.actor()&&i.internalHref()),l(),o("ngIf",!i.actor()||!i.href()&&!i.internalHref()));},dependencies:[w,E,S,L],styles:[`.avatar[_ngcontent-%COMP%]{width:var(--co-avatar-size);height:var(--co-avatar-size);min-width:var(--co-avatar-size);min-height:var(--co-avatar-size)}.avatar.account[_ngcontent-%COMP%]{object-fit:cover;border-radius:50%}.avatar.channel[_ngcontent-%COMP%]{border-radius:5px}.avatar.instance[_ngcontent-%COMP%]{border-radius:31%}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active{text-decoration:none}a[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.initial[_ngcontent-%COMP%]{background-color:#3c2109;color:#fff;display:flex;align-items:center;justify-content:center;font-size:var(--co-font-size)}.initial.blue[_ngcontent-%COMP%]{background-color:#009fd4}.initial.green[_ngcontent-%COMP%]{background-color:#0a5}.initial.purple[_ngcontent-%COMP%]{background-color:#b381b3}.initial.gray[_ngcontent-%COMP%]{background-color:#939393}.initial.yellow[_ngcontent-%COMP%]{background-color:#aa8f00}.initial.orange[_ngcontent-%COMP%]{background-color:#d47500}.initial.red[_ngcontent-%COMP%]{background-color:#e76e3c}.initial.dark-blue[_ngcontent-%COMP%]{background-color:#0a3055}
/*# sourceMappingURL=actor-avatar.component-VTUDJANV.css.map */`]}));let t=a;return t;})();export{ct as a};/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*///# sourceMappingURL=chunk-6TRYPH2T.js.map