import{A as j,B}from"./chunk-UFXFCZP3.js";import{a as $}from"./chunk-C5UL7A6S.js";import{E as G}from"./chunk-RT7DTAS6.js";import{B as T,a as S,c as k,g as E,m as R}from"./chunk-WO4VNXA3.js";import{a as H}from"./chunk-PE7TFI7A.js";import{Bb as g,Bc as D,Cb as _,Dc as z,Ha as r,Oc as W,Pb as F,Qb as O,Sa as C,Ub as y,Vb as M,Wb as b,X as f,Xb as I,Xf as U,Ya as v,aa as w,eb as l,ga as h,ha as N,ia as P,nb as p,ob as m,pb as x,sa as A,ta as a,tb as V,xb as L}from"./chunk-F7FAPFPY.js";import{i as d}from"./chunk-AI7IVZV2.js";var ae=(()=>{let n=class n{inputId=a.required();items=a([]);channels;selectedId;ngOnChanges(){this.channels=this.items().map(e=>{let i=e.avatarPath?e.avatarPath:$.GET_DEFAULT_AVATAR_URL(21);return Object.assign({},e,{imageUrl:i});});}propagateChange=e=>{};writeValue(e){this.selectedId=typeof e=="string"?parseInt(e,10):e;}registerOnChange(e){this.propagateChange=e;}registerOnTouched(){}onModelChange(){this.propagateChange(this.selectedId);}getSelectedChannel(){return(this.channels||[]).find(e=>e.id+""==this.selectedId+"");}};d(n,"\u0275fac",function(i){return new(i||n)();}),d(n,"\u0275cmp",C({type:n,selectors:[["my-select-channel"]],inputs:{inputId:[1,"inputId"],items:[1,"items"]},features:[I([{provide:S,useExisting:f(()=>n),multi:!0}]),h],decls:1,vars:4,consts:[[3,"ngModelChange","inputId","items","ngModel","filter"]],template:function(i,t){i&1&&(p(0,"my-select-options",0),b("ngModelChange",function(s){return M(t.selectedId,s)||(t.selectedId=s),s;}),g("ngModelChange",function(){return t.onModelChange();}),m()),i&2&&(l("inputId",t.inputId())("items",t.channels),y("ngModel",t.selectedId),l("filter",t.channels&&t.channels.length>5));},dependencies:[j,T,E,R,W,B],encapsulation:2}));let o=n;return o;})();function J(o,n){if(o&1&&x(0,"my-global-icon",7),o&2){let u=_();l("iconName",u.icon());}}function K(o,n){if(o&1&&(p(0,"div",8),F(1),m()),o&2){let u=_();r(),O(u.filename);}}function Q(o,n){if(o&1){let u=V();p(0,"button",9),g("click",function(){N(u);let i=_();return P(i.reset());}),L(1,0),m();}}var fe=(()=>{let n=class n{notifier=w(U);theme=a("secondary");inputLabel=a(void 0);inputName=a(void 0);extensions=a([]);maxFileSize=a(void 0);displayFilename=a(!1);displayReset=a(!1);icon=a(void 0);buttonTooltip=a(void 0);fileChanged=A();classes={};allowedExtensionsMessage="";fileInputValue;file;get filename(){return this.file?this.file.name:"";}ngOnInit(){this.allowedExtensionsMessage=this.extensions().join(", "),this.buildClasses();}ngOnChanges(){this.buildClasses();}buildClasses(){this.classes={"with-icon":!!this.icon(),"primary-button":this.theme()==="primary","secondary-button":this.theme()==="secondary"};}fileChange(e){if(e.target.files?.length){let[i]=e.target.files;if(i.size>this.maxFileSize()){this.notifier.error("Afaylu-a \u0263ezzif a\u1E6Das.");return;}let t="."+i.name.split(".").pop();if(this.extensions().includes(t.toLowerCase())===!1){let c="PeerTube cannot handle this kind of file. Accepted extensions are "+this.allowedExtensionsMessage+".";this.notifier.error(c);return;}this.file=i,this.propagateChange(this.file);}this.fileChanged.emit(this.file);}reset(){this.writeValue(void 0),this.propagateChange(void 0),this.fileChanged.emit(void 0);}propagateChange=e=>{};writeValue(e){this.file=e,this.file||(this.fileInputValue=null);}registerOnChange(e){this.propagateChange=e;}registerOnTouched(){}};d(n,"\u0275fac",function(i){return new(i||n)();}),d(n,"\u0275cmp",C({type:n,selectors:[["my-reactive-file"]],inputs:{theme:[1,"theme"],inputLabel:[1,"inputLabel"],inputName:[1,"inputName"],extensions:[1,"extensions"],maxFileSize:[1,"maxFileSize"],displayFilename:[1,"displayFilename"],displayReset:[1,"displayReset"],icon:[1,"icon"],buttonTooltip:[1,"buttonTooltip"]},outputs:{fileChanged:"fileChanged"},features:[I([{provide:S,useExisting:f(()=>n),multi:!0}]),h],decls:8,vars:10,consts:()=>{let e;return e="Ales awennez",[e,[1,"root"],[1,"button-file",3,"ngClass","ngbTooltip"],[3,"iconName",4,"ngIf"],["type","file",3,"change","ngModelChange","name","id","accept","ngModel"],["class","filename",4,"ngIf"],["class","reset-button reset-button-small ms-2",3,"click",4,"ngIf"],[3,"iconName"],[1,"filename"],[1,"reset-button","reset-button-small","ms-2",3,"click"]];},template:function(i,t){i&1&&(p(0,"div",1)(1,"div",2),v(2,J,1,1,"my-global-icon",3),p(3,"span"),F(4),m(),p(5,"input",4),g("change",function(s){return t.fileChange(s);}),b("ngModelChange",function(s){return M(t.fileInputValue,s)||(t.fileInputValue=s),s;}),m()(),v(6,K,2,1,"div",5)(7,Q,2,0,"button",6),m()),i&2&&(r(),l("ngClass",t.classes)("ngbTooltip",t.buttonTooltip()),r(),l("ngIf",t.icon()),r(2),O(t.inputLabel()),r(),l("name",t.inputName())("id",t.inputName())("accept",t.extensions()),y("ngModel",t.fileInputValue),r(),l("ngIf",t.displayFilename()===!0&&t.filename),r(),l("ngIf",t.displayReset()&&t.filename));},dependencies:[D,G,z,H,T,k,E,R],styles:[`.root[_ngcontent-%COMP%]{height:auto;display:flex;align-items:center}.root[_ngcontent-%COMP%]   .button-file.with-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;top:-1px;right:0;display:inline-block;width:24px;height:24px;line-height:24px}.root[_ngcontent-%COMP%]   .button-file.with-icon[_ngcontent-%COMP%]:not(.icon-only)   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:.1875rem}.root[_ngcontent-%COMP%]   .filename[_ngcontent-%COMP%]{font-weight:600;margin-inline-start:.3125rem}
/*# sourceMappingURL=reactive-file.component-MA2RWFVA.css.map */`]}));let o=n;return o;})();export{ae as a,fe as b};/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*///# sourceMappingURL=chunk-TBYV5OLF.js.map