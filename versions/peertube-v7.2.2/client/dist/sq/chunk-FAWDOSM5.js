import{a as P,b as w,c as M}from"./chunk-37VQK6GQ.js";import{a as E}from"./chunk-47BTBF55.js";import{a as n}from"./chunk-LSIL47EV.js";import"./chunk-RJFLITAD.js";import"./chunk-DJO6R22E.js";import{b as O}from"./chunk-5PLTSPIA.js";import"./chunk-MLUQ7CKS.js";import{d as F,h as C,i as A}from"./chunk-DUA2DJQ3.js";import"./chunk-FJ2ZROHN.js";import"./chunk-EBEN7JLX.js";import"./chunk-HRQFMPLQ.js";import"./chunk-VM462Q6H.js";import"./chunk-WUGJOXHJ.js";import"./chunk-4XG2BQGM.js";import"./chunk-4INQOBVN.js";import"./chunk-SDLUASD2.js";import"./chunk-EFI4VIXO.js";import"./chunk-576ZABFD.js";import"./chunk-UFXFCZP3.js";import"./chunk-V73D6FBB.js";import{c as I}from"./chunk-BFVCLNOF.js";import"./chunk-3PB3Q4OH.js";import"./chunk-24ZAFI2J.js";import"./chunk-6TRYPH2T.js";import"./chunk-JVRBW57G.js";import"./chunk-ANGOORPW.js";import"./chunk-25AA3I7H.js";import"./chunk-2O3IZ566.js";import"./chunk-YDZGE3V5.js";import"./chunk-S5ARXDTR.js";import"./chunk-EECS7F3M.js";import"./chunk-OPOGZMDG.js";import"./chunk-UI5MIAKJ.js";import"./chunk-C5UL7A6S.js";import"./chunk-WZVFW7AN.js";import"./chunk-6JJL547V.js";import"./chunk-RT7DTAS6.js";import"./chunk-WO4VNXA3.js";import"./chunk-PE7TFI7A.js";import{Ag as k,Bg as V,Ha as m,Q as p,Qg as _,S as u,Sa as S,aa as o,eb as v,lg as T,m as l,nb as b,ob as f,pb as h,rg as y,xb as g}from"./chunk-F7FAPFPY.js";import{a as c,b as a,i as d}from"./chunk-AI7IVZV2.js";var R=(()=>{let r=class r{authService=o(T);userSubscription=o(n);hooks=o(_);videoService=o(I);scopedTokensService=o(y);getVideosObservableFunction=this.getVideosObservable.bind(this);getSyndicationItemsFunction=this.getSyndicationItems.bind(this);defaultSort="-publishedAt";actions=[{routerLink:"/my-library/subscriptions",label:"Manage",iconName:"cog"}];disabled=!1;feedToken;getVideosObservable(e,i){let t=a(c({},i.toVideosAPIObject()),{videoPagination:e,skipCount:!0});return this.hooks.wrapObsFun(this.userSubscription.getUserSubscriptionVideos.bind(this.userSubscription),t,"common","filter:api.user-subscriptions-videos.videos.list.params","filter:api.user-subscriptions-videos.videos.list.result");}getSyndicationItems(){return this.loadFeedToken().then(()=>{let e=this.authService.getUser();return this.videoService.getVideoSubscriptionFeedUrls(e.account.id,this.feedToken);});}disableForReuse(){this.disabled=!0;}enabledForReuse(){this.disabled=!1;}loadFeedToken(){if(this.feedToken)return Promise.resolve(this.feedToken);let e=this.authService.userInformationLoaded.pipe(p(()=>this.scopedTokensService.getScopedTokens()),u(i=>this.feedToken=i.feedToken));return l(e);}};d(r,"\u0275fac",function(i){return new(i||r)();}),d(r,"\u0275cmp",S({type:r,selectors:[["my-videos-user-subscriptions"]],decls:3,vars:5,consts:()=>{let e;return e="Videos from your subscriptions",[e,[1,"visually-hidden"],["displayFilters","false","loadUserVideoPreferences","false","groupByDate","true","highlightLives","false",3,"getVideosObservableFunction","getSyndicationItemsFunction","defaultSort","disabled","headerActions"]];},template:function(i,t){i&1&&(b(0,"h1",1),g(1,0),f(),h(2,"my-videos-list",2)),i&2&&(m(2),v("getVideosObservableFunction",t.getVideosObservableFunction)("getSyndicationItemsFunction",t.getSyndicationItemsFunction)("defaultSort",t.defaultSort)("disabled",t.disabled)("headerActions",t.actions));},dependencies:[E],encapsulation:2}));let s=r;return s;})();var te=[{path:"",providers:[P,n,O,F,A,C],children:[{path:"overview",component:w,data:{meta:{title:"Discover videos"},reuse:{enabled:!0,key:"videos-discover"}}},{path:"most-liked",redirectTo:"browse?scope=federated&sort=-likes"},{path:"trending",redirectTo:()=>"browse?scope=federated&sort=-"+o(k).getDefaultTrendingSort()},{path:"recently-added",redirectTo:"browse?scope=federated&sort=-publishedAt"},{path:"local",redirectTo:"browse?scope=local&sort=-publishedAt"},{path:"browse",component:M,data:{reuse:{enabled:!0,key:"videos-list"}}},{path:"subscriptions",canActivate:[V],component:R,data:{meta:{title:"Pajtime"},reuse:{enabled:!0,key:"subscription-videos-list"}}}]}];export{te as default};/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*///# sourceMappingURL=chunk-FAWDOSM5.js.map