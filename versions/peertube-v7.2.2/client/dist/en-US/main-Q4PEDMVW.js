import{a as Zr}from"./chunk-SRLZETCR.js";import{a as gs}from"./chunk-RXNERS4P.js";import{g as ds,h as us,i as ms}from"./chunk-5OEJ5BCC.js";import{a as ps}from"./chunk-UPLS62YG.js";import{a as Xr}from"./chunk-WUGJOXHJ.js";import{a as Jr,c as Ai}from"./chunk-75FQF3UG.js";import"./chunk-KDYMPZ5E.js";import{a as rs}from"./chunk-2M6JBXI4.js";import{a as es,c as ts,d as Bt}from"./chunk-DEVNJA25.js";import{a as ls,b as cs}from"./chunk-4XG2BQGM.js";import"./chunk-4INQOBVN.js";import{a as as}from"./chunk-SDLUASD2.js";import{a as Un}from"./chunk-IESFBSCZ.js";import{a as Kr,b as qr}from"./chunk-HO54TQU6.js";import"./chunk-EFI4VIXO.js";import"./chunk-ID3GIFOG.js";import"./chunk-576ZABFD.js";import{a as L,b as Me,c as Si,d as bi,e as jo,f as et,g as Ko,h as _n,i as Qo,j as qo,k as tt,l as yn,m as Ut,n as Ti,o as Tr,p as wr}from"./chunk-UFXFCZP3.js";import{a as Pi}from"./chunk-V73D6FBB.js";import{a as os}from"./chunk-A2KNDDCC.js";import{a as Yr}from"./chunk-HH4YHD3C.js";import{b as ss,c as Bn}from"./chunk-BFVCLNOF.js";import{b as ns}from"./chunk-3PB3Q4OH.js";import{a as kn,b as wi,c as Mr}from"./chunk-24ZAFI2J.js";import{a as Wr}from"./chunk-6TRYPH2T.js";import{a as jr}from"./chunk-JVRBW57G.js";import{a as is}from"./chunk-BOZAQTZE.js";import{a as zn,b as Gn}from"./chunk-ANGOORPW.js";import{a as mr,b as pr}from"./chunk-25AA3I7H.js";import{c as kt}from"./chunk-2O3IZ566.js";import{a as Gr}from"./chunk-YDZGE3V5.js";import{a as Hn}from"./chunk-ROB72YBH.js";import{a as Br}from"./chunk-EECS7F3M.js";import{b as Sr}from"./chunk-OPOGZMDG.js";import{a as Cr,b as vr,c as An}from"./chunk-UI5MIAKJ.js";import"./chunk-C5UL7A6S.js";import{b as Qr}from"./chunk-WZVFW7AN.js";import"./chunk-6JJL547V.js";import{b as gr,k as hr,l as fr,m as wn,o as Pn,p as On,q as Pt,r as _r,s as Ie,t as yr}from"./chunk-RT7DTAS6.js";import{B as wt,c as bn,g as Mt,m as Tt}from"./chunk-WO4VNXA3.js";import{a as K}from"./chunk-PE7TFI7A.js";import{$ as qe,$a as Vt,$b as Ao,$c as Uo,$e as Er,$f as Ir,Aa as Ci,Ag as Ue,B as rn,Bb as w,Bc as pe,Bd as Ei,Cb as g,Cc as Ne,Da as We,Dc as j,Dg as Z,Ea as ft,Eg as Ln,F as dt,Fd as or,Fe as Mn,Fg as Oi,Gd as rr,Ge as cr,Gg as Dr,Ha as m,Hb as Oo,Hc as Lo,Ib as vi,Ic as St,Ie as dr,Ja as bo,Jb as mn,Je as ur,K as Fe,Ka as Eo,Kb as pn,Kc as $o,Ke as Tn,Kg as It,La as Ve,Ld as En,Lg as xt,Mb as G,Md as sr,Mg as Lr,Na as q,Nb as te,Ng as $r,Oa as Mo,Ob as W,Oc as fe,Og as Fr,Pb as I,Pg as $n,Q as Se,Qb as F,Qc as Fo,Qg as Fn,Rb as Re,Rf as Ar,Rg as Vr,S as yo,Sa as D,Sg as Vn,Ta as _t,Tg as Hr,Ub as Xe,Ug as Ur,V as x,Vb as Ye,Ve as br,Vg as zr,W as Co,Wa as ln,Wb as Ze,We as Ot,Xe as Nn,Xf as Nr,Y as ue,Ya as C,Yc as Vo,Z as ut,Zb as B,Zc as Ho,_ as vo,_a as cn,_b as Je,aa as h,ab as dn,ac as No,ad as zo,b as nn,ba as So,bb as un,bd as fn,bf as Mi,c as Qe,ca as _i,cg as xr,db as z,dd as Go,de as ar,e as _o,eb as p,ed as Bo,ef as In,fd as Wo,ff as xn,gb as To,gd as Cn,ha as S,hd as Xo,hf as He,ia as b,ib as ke,id as Yo,if as Rn,j as Ae,ja as sn,jb as se,jc as ne,jd as Zo,jf as zt,k as fi,kd as bt,la as an,lc as Io,ld as vn,lf as De,lg as ae,mc as gn,mf as Gt,n as ve,na as mt,nb as d,nc as xo,nd as Jo,nf as Pr,ob as u,oc as hn,od as _e,of as Or,pa as yi,pb as v,pc as Ht,pd as Et,qa as pt,qb as be,qd as Sn,r as on,rb as Ee,rd as er,re as lr,sa as gt,sb as me,sd as tr,sg as kr,ta as ht,tb as k,td as nr,tg as At,uc as vt,ug as Nt,vb as wo,vd as ir,w as ct,wb as Po,wc as ko,wg as Rr,x as he,xb as R,xc as Ro,xg as ye,yb as yt,yg as Dn,zb as Ct,zc as Do}from"./chunk-F7FAPFPY.js";import{a as at,c as ho,g as fo,i as f,j as lt}from"./chunk-AI7IVZV2.js";function hs(o){return new x(3e3,!1);}function Ga(){return new x(3100,!1);}function Ba(){return new x(3101,!1);}function ja(o){return new x(3001,!1);}function Ka(o){return new x(3003,!1);}function Qa(o){return new x(3004,!1);}function _s(o,e){return new x(3005,!1);}function ys(){return new x(3006,!1);}function Cs(){return new x(3007,!1);}function vs(o,e){return new x(3008,!1);}function Ss(o){return new x(3002,!1);}function bs(o,e,t,n,i){return new x(3010,!1);}function Es(){return new x(3011,!1);}function Ms(){return new x(3012,!1);}function Ts(){return new x(3200,!1);}function ws(){return new x(3202,!1);}function Ps(){return new x(3013,!1);}function Os(o){return new x(3014,!1);}function As(o){return new x(3015,!1);}function Ns(o){return new x(3016,!1);}function Is(o,e){return new x(3404,!1);}function qa(o){return new x(3502,!1);}function xs(o){return new x(3503,!1);}function ks(){return new x(3300,!1);}function Rs(o){return new x(3504,!1);}function Ds(o){return new x(3301,!1);}function Ls(o,e){return new x(3302,!1);}function $s(o){return new x(3303,!1);}function Fs(o,e){return new x(3400,!1);}function Vs(o){return new x(3401,!1);}function Hs(o){return new x(3402,!1);}function Us(o,e){return new x(3505,!1);}function Le(o){switch(o.length){case 0:return new tt();case 1:return o[0];default:return new yn(o);}}function ki(o,e,t=new Map(),n=new Map()){let i=[],r=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),_=c==s,y=_&&a||new Map();l.forEach((O,M)=>{let T=M,N=O;if(M!=="offset")switch(T=o.normalizePropertyName(T,i),N){case Ut:N=t.get(M);break;case Me:N=n.get(M);break;default:N=o.normalizeStyleValue(M,T,N,i);break;}y.set(T,N);}),_||r.push(y),a=y,s=c;}),i.length)throw qa(i);return r;}function jn(o,e,t,n){switch(e){case"start":o.onStart(()=>n(t&&Ni(t,"start",o)));break;case"done":o.onDone(()=>n(t&&Ni(t,"done",o)));break;case"destroy":o.onDestroy(()=>n(t&&Ni(t,"destroy",o)));break;}}function Ni(o,e,t){let n=t.totalTime,i=!!t.disabled,r=Kn(o.element,o.triggerName,o.fromState,o.toState,e||o.phaseName,n??o.totalTime,i),s=o._data;return s!=null&&(r._data=s),r;}function Kn(o,e,t,n,i="",r=0,s){return{element:o,triggerName:e,fromState:t,toState:n,phaseName:i,totalTime:r,disabled:!!s};}function le(o,e,t){let n=o.get(e);return n||o.set(e,n=t),n;}function Ri(o){let e=o.indexOf(":"),t=o.substring(1,e),n=o.slice(e+1);return[t,n];}var Wa=typeof document>"u"?null:document.documentElement;function Qn(o){let e=o.parentNode||o.host||null;return e===Wa?null:e;}function Xa(o){return o.substring(1,6)=="ebkit";}var nt=null,fs=!1;function zs(o){nt||(nt=Ya()||{},fs=nt.style?"WebkitAppearance"in nt.style:!1);let e=!0;return nt.style&&!Xa(o)&&(e=o in nt.style,!e&&fs&&(e="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in nt.style)),e;}function Ya(){return typeof document<"u"?document.body:null;}function Di(o,e){for(;e;){if(e===o)return!0;e=Qn(e);}return!1;}function Li(o,e,t){if(t)return Array.from(o.querySelectorAll(e));let n=o.querySelector(e);return n?[n]:[];}var Za=1e3,$i="{{",Ja="}}",Fi="ng-enter",qn="ng-leave",jt="ng-trigger",Kt=".ng-trigger",Vi="ng-animating",Wn=".ng-animating";function xe(o){if(typeof o=="number")return o;let e=o.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ii(parseFloat(e[1]),e[2]);}function Ii(o,e){switch(e){case"s":return o*Za;default:return o;}}function Qt(o,e,t){return o.hasOwnProperty("duration")?o:el(o,e,t);}function el(o,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,r=0,s="";if(typeof o=="string"){let a=o.match(n);if(a===null)return e.push(hs(o)),{duration:0,delay:0,easing:""};i=Ii(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(r=Ii(parseFloat(l),a[4]));let c=a[5];c&&(s=c);}else i=o;if(!t){let a=!1,l=e.length;i<0&&(e.push(Ga()),a=!0),r<0&&(e.push(Ba()),a=!0),a&&e.splice(l,0,hs(o));}return{duration:i,delay:r,easing:s};}function Gs(o){return o.length?o[0]instanceof Map?o:o.map(e=>new Map(Object.entries(e))):[];}function Te(o,e,t){e.forEach((n,i)=>{let r=Xn(i);t&&!t.has(i)&&t.set(i,o.style[r]),o.style[r]=n;});}function ze(o,e){e.forEach((t,n)=>{let i=Xn(n);o.style[i]="";});}function Rt(o){return Array.isArray(o)?o.length==1?o[0]:jo(o):o;}function Bs(o,e,t){let n=e.params||{},i=Hi(o);i.length&&i.forEach(r=>{n.hasOwnProperty(r)||t.push(ja(r));});}var xi=new RegExp(`${$i}\\s*(.+?)\\s*${Ja}`,"g");function Hi(o){let e=[];if(typeof o=="string"){let t;for(;t=xi.exec(o);)e.push(t[1]);xi.lastIndex=0;}return e;}function Dt(o,e,t){let n=`${o}`,i=n.replace(xi,(r,s)=>{let a=e[s];return a==null&&(t.push(Ka(s)),a=""),a.toString();});return i==n?o:i;}var tl=/-+([a-z0-9])/g;function Xn(o){return o.replace(tl,(...e)=>e[1].toUpperCase());}function js(o,e){return o===0||e===0;}function Ks(o,e,t){if(t.size&&e.length){let n=e[0],i=[];if(t.forEach((r,s)=>{n.has(s)||i.push(s),n.set(s,r);}),i.length)for(let r=1;r<e.length;r++){let s=e[r];i.forEach(a=>s.set(a,Yn(o,a)));}}return e;}function ce(o,e,t){switch(e.type){case L.Trigger:return o.visitTrigger(e,t);case L.State:return o.visitState(e,t);case L.Transition:return o.visitTransition(e,t);case L.Sequence:return o.visitSequence(e,t);case L.Group:return o.visitGroup(e,t);case L.Animate:return o.visitAnimate(e,t);case L.Keyframes:return o.visitKeyframes(e,t);case L.Style:return o.visitStyle(e,t);case L.Reference:return o.visitReference(e,t);case L.AnimateChild:return o.visitAnimateChild(e,t);case L.AnimateRef:return o.visitAnimateRef(e,t);case L.Query:return o.visitQuery(e,t);case L.Stagger:return o.visitStagger(e,t);default:throw Qa(e.type);}}function Yn(o,e){return window.getComputedStyle(o)[e];}var io=(()=>{let e=class e{validateStyleProperty(n){return zs(n);}containsElement(n,i){return Di(n,i);}getParentElement(n){return Qn(n);}query(n,i,r){return Li(n,i,r);}computeStyle(n,i,r){return r||"";}animate(n,i,r,s,a,l=[],c){return new tt(r,s);}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275prov",ue({token:e,factory:e.Éµfac}));let o=e;return o;})(),Ge=class{};f(Ge,"NOOP",new io());var ot=class{};var nl=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ni=class extends ot{normalizePropertyName(e,t){return Xn(e);}normalizeStyleValue(e,t,n,i){let r="",s=n.toString().trim();if(nl.has(t)&&n!==0&&n!=="0")if(typeof n=="number")r="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(_s(e,n));}return s+r;}};var ii="*";function il(o,e){let t=[];return typeof o=="string"?o.split(/\s*,\s*/).forEach(n=>ol(n,t,e)):t.push(o),t;}function ol(o,e,t){if(o[0]==":"){let l=rl(o,t);if(typeof l=="function"){e.push(l);return;}o=l;}let n=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(As(o)),e;let i=n[1],r=n[2],s=n[3];e.push(Qs(i,s));let a=i==ii&&s==ii;r[0]=="<"&&!a&&e.push(Qs(s,i));}function rl(o,e){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(Ns(o)),"* => *";}}var Zn=new Set(["true","1"]),Jn=new Set(["false","0"]);function Qs(o,e){let t=Zn.has(o)||Jn.has(o),n=Zn.has(e)||Jn.has(e);return(i,r)=>{let s=o==ii||o==i,a=e==ii||e==r;return!s&&t&&typeof i=="boolean"&&(s=i?Zn.has(o):Jn.has(o)),!a&&n&&typeof r=="boolean"&&(a=r?Zn.has(e):Jn.has(e)),s&&a;};}var ia=":self",sl=new RegExp(`s*${ia}s*,?`,"g");function oa(o,e,t,n){return new Ki(o).build(e,t,n);}var qs="",Ki=class{_driver;constructor(e){this._driver=e;}build(e,t,n){let i=new Qi(t);return this._resetContextStyleTimingState(i),ce(this,Rt(e),i);}_resetContextStyleTimingState(e){e.currentQuerySelector=qs,e.collectedStyles=new Map(),e.collectedStyles.set(qs,new Map()),e.currentTime=0;}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0,r=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(ys()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==L.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(_=>{l.name=_,r.push(this.visitState(l,t));}),l.name=c;}else if(a.type==L.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,i+=l.depCount,s.push(l);}else t.errors.push(Cs());}),{type:L.Trigger,name:e.name,states:r,transitions:s,queryCount:n,depCount:i,options:null};}visitState(e,t){let n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){let r=new Set(),s=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Hi(l).forEach(c=>{s.hasOwnProperty(c)||r.add(c);});});}),r.size&&t.errors.push(vs(e.name,[...r.values()]));}return{type:L.State,name:e.name,style:n,options:i?{params:i}:null};}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=ce(this,Rt(e.animation),t),i=il(e.expr,t.errors);return{type:L.Transition,matchers:i,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:it(e.options)};}visitSequence(e,t){return{type:L.Sequence,steps:e.steps.map(n=>ce(this,n,t)),options:it(e.options)};}visitGroup(e,t){let n=t.currentTime,i=0,r=e.steps.map(s=>{t.currentTime=n;let a=ce(this,s,t);return i=Math.max(i,t.currentTime),a;});return t.currentTime=i,{type:L.Group,steps:r,options:it(e.options)};}visitAnimate(e,t){let n=dl(e.timings,t.errors);t.currentAnimateTimings=n;let i,r=e.styles?e.styles:et({});if(r.type==L.Keyframes)i=this.visitKeyframes(r,t);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=et(c);}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l;}return t.currentAnimateTimings=null,{type:L.Animate,timings:n,style:i,options:null};}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n;}_makeStyleAst(e,t){let n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Me?n.push(a):t.errors.push(Ss(a)):n.push(new Map(Object.entries(a)));let r=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!r)){for(let l of a.values())if(l.toString().indexOf($i)>=0){r=!0;break;}}}),{type:L.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:r,options:null};}_validateStyleAst(e,t){let n=t.currentAnimateTimings,i=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),_=c.get(l),y=!0;_&&(r!=i&&r>=_.startTime&&i<=_.endTime&&(t.errors.push(bs(l,_.startTime,_.endTime,r,i)),y=!1),r=_.startTime),y&&c.set(l,{startTime:r,endTime:i}),t.options&&Bs(a,t.options,t.errors);});});}visitKeyframes(e,t){let n={type:L.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Es()),n;let i=1,r=0,s=[],a=!1,l=!1,c=0,_=e.steps.map(Q=>{let X=this._makeStyleAst(Q,t),ie=X.offset!=null?X.offset:cl(X.styles),J=0;return ie!=null&&(r++,J=X.offset=ie),l=l||J<0||J>1,a=a||J<c,c=J,s.push(J),X;});l&&t.errors.push(Ms()),a&&t.errors.push(Ts());let y=e.steps.length,O=0;r>0&&r<y?t.errors.push(ws()):r==0&&(O=i/(y-1));let M=y-1,T=t.currentTime,N=t.currentAnimateTimings,V=N.duration;return _.forEach((Q,X)=>{let ie=O>0?X==M?1:O*X:s[X],J=ie*V;t.currentTime=T+N.delay+J,N.duration=J,this._validateStyleAst(Q,t),Q.offset=ie,n.styles.push(Q);}),n;}visitReference(e,t){return{type:L.Reference,animation:ce(this,Rt(e.animation),t),options:it(e.options)};}visitAnimateChild(e,t){return t.depCount++,{type:L.AnimateChild,options:it(e.options)};}visitAnimateRef(e,t){return{type:L.AnimateRef,animation:this.visitReference(e.animation,t),options:it(e.options)};}visitQuery(e,t){let n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[r,s]=al(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,le(t.collectedStyles,t.currentQuerySelector,new Map());let a=ce(this,Rt(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:L.Query,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:it(e.options)};}visitStagger(e,t){t.currentQuery||t.errors.push(Ps());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Qt(e.timings,t.errors,!0);return{type:L.Stagger,animation:ce(this,Rt(e.animation),t),timings:n,options:null};}};function al(o){let e=!!o.split(/\s*,\s*/).find(t=>t==ia);return e&&(o=o.replace(sl,"")),o=o.replace(/@\*/g,Kt).replace(/@\w+/g,t=>Kt+"-"+t.slice(1)).replace(/:animating/g,Wn),[o,e];}function ll(o){return o?at({},o):null;}var Qi=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map();options=null;unsupportedCSSPropertiesFound=new Set();constructor(e){this.errors=e;}};function cl(o){if(typeof o=="string")return null;let e=null;if(Array.isArray(o))o.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset");}});else if(o instanceof Map&&o.has("offset")){let t=o;e=parseFloat(t.get("offset")),t.delete("offset");}return e;}function dl(o,e){if(o.hasOwnProperty("duration"))return o;if(typeof o=="number"){let r=Qt(o,e).duration;return Ui(r,0,"");}let t=o;if(t.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=Ui(0,0,"");return r.dynamic=!0,r.strValue=t,r;}let i=Qt(t,e);return Ui(i.duration,i.delay,i.easing);}function it(o){return o?(o=at({},o),o.params&&(o.params=ll(o.params))):o={},o;}function Ui(o,e,t){return{duration:o,delay:e,easing:t};}function oo(o,e,t,n,i,r,s=null,a=!1){return{type:1,element:o,keyframes:e,preStyleProps:t,postStyleProps:n,duration:i,delay:r,totalTime:i+r,easing:s,subTimeline:a};}var Wt=class{_map=new Map();get(e){return this._map.get(e)||[];}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t);}has(e){return this._map.has(e);}clear(){this._map.clear();}},ul=1,ml=":enter",pl=new RegExp(ml,"g"),gl=":leave",hl=new RegExp(gl,"g");function ra(o,e,t,n,i,r=new Map(),s=new Map(),a,l,c=[]){return new qi().buildKeyframes(o,e,t,n,i,r,s,a,l,c);}var qi=class{buildKeyframes(e,t,n,i,r,s,a,l,c,_=[]){c=c||new Wt();let y=new Wi(e,t,c,i,r,_,[]);y.options=l;let O=l.delay?xe(l.delay):0;y.currentTimeline.delayNextStep(O),y.currentTimeline.setStyles([s],null,y.errors,l),ce(this,n,y);let M=y.timelines.filter(T=>T.containsAnimation());if(M.length&&a.size){let T;for(let N=M.length-1;N>=0;N--){let V=M[N];if(V.element===t){T=V;break;}}T&&!T.allowOnlyTimelineStyles()&&T.setStyles([a],null,y.errors,l);}return M.length?M.map(T=>T.buildKeyframes()):[oo(t,[],[],[],0,O,"",!1)];}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&t.transformIntoNewTimeline(s);}t.previousNode=e;}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e;}_applyAnimationRefDelays(e,t,n){for(let i of e){let r=i?.delay;if(r){let s=typeof r=="number"?r:xe(Dt(r,i?.params??{},t.errors));n.delayNextStep(s);}}}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime,s=n.duration!=null?xe(n.duration):null,a=n.delay!=null?xe(n.delay):null;return s!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,s,a);r=Math.max(r,c.duration+c.delay);}),r;}visitReference(e,t){t.updateOptions(e.options,!0),ce(this,e.animation,t),t.previousNode=e;}visitSequence(e,t){let n=t.subContextCount,i=t,r=e.options;if(r&&(r.params||r.delay)&&(i=t.createSubContext(r),i.transformIntoNewTimeline(),r.delay!=null)){i.previousNode.type==L.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=oi);let s=xe(r.delay);i.delayNextStep(s);}e.steps.length&&(e.steps.forEach(s=>ce(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e;}visitGroup(e,t){let n=[],i=t.currentTimeline.currentTime,r=e.options&&e.options.delay?xe(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);r&&a.delayNextStep(r),ce(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline);}),n.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e;}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,i=t.params?Dt(n,t.params,t.errors):n;return Qt(i,t.errors);}else return{duration:e.duration,delay:e.delay,easing:e.easing};}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());let r=e.style;r.type==L.Keyframes?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e;}visitStyle(e,t){let n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e;}visitKeyframes(e,t){let n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*r),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe();}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+r),t.previousNode=e;}visitQuery(e,t){let n=t.currentTimeline.currentTime,i=e.options||{},r=i.delay?xe(i.delay):0;r&&(t.previousNode.type===L.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=oi);let s=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,_)=>{t.currentQueryIndex=_;let y=t.createSubContext(e.options,c);r&&y.delayNextStep(r),c===t.element&&(l=y.currentTimeline),ce(this,e.animation,y),y.currentTimeline.applyStylesToKeyframe();let O=y.currentTimeline.currentTime;s=Math.max(s,O);}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e;}visitStagger(e,t){let n=t.parentContext,i=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break;}let _=t.currentTimeline;l&&_.delayNextStep(l);let y=_.currentTime;ce(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-y+(i.startTime-n.currentTimeline.startTime);}},oi={},Wi=class o{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=oi;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,i,r,s,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=a,this.currentTimeline=l||new ri(this._driver,t,0),a.push(this.currentTimeline);}get params(){return this.options.params;}updateOptions(e,t){if(!e)return;let n=e,i=this.options;n.duration!=null&&(i.duration=xe(n.duration)),n.delay!=null&&(i.delay=xe(n.delay));let r=n.params;if(r){let s=i.params;s||(s=this.options.params={}),Object.keys(r).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Dt(r[a],s,this.errors));});}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(i=>{n[i]=t[i];});}}return e;}createSubContext(e=null,t,n){let i=t||this.element,r=new o(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r;}transformIntoNewTimeline(e){return this.previousNode=oi,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline;}appendInstructionToTimeline(e,t,n){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},r=new Xi(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i;}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e);}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e);}invokeQuery(e,t,n,i,r,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(pl,"."+this._enterClassName),e=e.replace(hl,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c);}return!r&&a.length==0&&s.push(Os(t)),a;}},ri=class o{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map();_currentKeyframe=new Map();_keyframes=new Map();_styleSummary=new Map();_localTimelineStyles=new Map();_globalTimelineStyles;_pendingStyles=new Map();_backFill=new Map();_currentEmptyStepKeyframe=null;constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map()),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe();}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0;}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0;}get currentTime(){return this.startTime+this.duration;}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e;}fork(e,t){return this.applyStylesToKeyframe(),new o(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup);}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map(),this._keyframes.set(this.duration,this._currentKeyframe));}forwardFrame(){this.duration+=ul,this._loadKeyframe();}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe();}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t});}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe;}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||Me),this._currentKeyframe.set(t,Me);this._currentEmptyStepKeyframe=this._currentKeyframe;}setStyles(e,t,n,i){t&&this._previousKeyframe.set("easing",t);let r=i&&i.params||{},s=fl(e,this._globalTimelineStyles);for(let[a,l]of s){let c=Dt(l,r,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Me),this._updateStyle(a,c);}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e);}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e);}));}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t);}getFinalKeyframe(){return this._keyframes.get(this.duration);}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e;}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let i=this._styleSummary.get(n);(!i||t.time>i.time)&&this._updateStyle(n,t.value);});}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set(),t=new Set(),n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((_,y)=>{_===Ut?e.add(y):_===Me&&t.add(y);}),n||c.set("offset",l/this.duration),i.push(c);});let r=[...e.values()],s=[...t.values()];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l];}return oo(this.element,i,r,s,this.duration,this.startTime,this.easing,!1);}},Xi=class extends ri{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,i,r,s,a=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing};}containsAnimation(){return this.keyframes.length>1;}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let r=[],s=n+t,a=t/s,l=new Map(e[0]);l.set("offset",0),r.push(l);let c=new Map(e[0]);c.set("offset",Ws(a)),r.push(c);let _=e.length-1;for(let y=1;y<=_;y++){let O=new Map(e[y]),M=O.get("offset"),T=t+M*n;O.set("offset",Ws(T/s)),r.push(O);}n=s,t=0,i="",e=r;}return oo(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0);}};function Ws(o,e=3){let t=Math.pow(10,e-1);return Math.round(o*t)/t;}function fl(o,e){let t=new Map(),n;return o.forEach(i=>{if(i==="*"){n??=e.keys();for(let r of n)t.set(r,Me);}else for(let[r,s]of i)t.set(r,s);}),t;}function Xs(o,e,t,n,i,r,s,a,l,c,_,y,O){return{type:0,element:o,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:r,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:_,totalTime:y,errors:O};}var zi={},si=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n;}match(e,t,n,i){return _l(this.ast.matchers,e,t,n,i);}buildStyles(e,t,n){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,n):new Map();}build(e,t,n,i,r,s,a,l,c,_){let y=[],O=this.ast.options&&this.ast.options.params||zi,M=a&&a.params||zi,T=this.buildStyles(n,M,y),N=l&&l.params||zi,V=this.buildStyles(i,N,y),Q=new Set(),X=new Map(),ie=new Map(),J=i==="void",rt={params:sa(N,O),delay:this.ast.options?.delay},Pe=_?[]:ra(e,t,this.ast.animation,r,s,T,V,rt,c,y),oe=0;return Pe.forEach(re=>{oe=Math.max(re.duration+re.delay,oe);}),y.length?Xs(t,this._triggerName,n,i,J,T,V,[],[],X,ie,oe,y):(Pe.forEach(re=>{let Be=re.element,st=le(X,Be,new Set());re.preStyleProps.forEach(je=>st.add(je));let uo=le(ie,Be,new Set());re.postStyleProps.forEach(je=>uo.add(je)),Be!==t&&Q.add(Be);}),Xs(t,this._triggerName,n,i,J,T,V,Pe,[...Q.values()],X,ie,oe));}};function _l(o,e,t,n,i){return o.some(r=>r(e,t,n,i));}function sa(o,e){let t=at({},e);return Object.entries(o).forEach(([n,i])=>{i!=null&&(t[n]=i);}),t;}var Yi=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n;}buildStyles(e,t){let n=new Map(),i=sa(e,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((s,a)=>{s&&(s=Dt(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),n.set(a,s);});}),n;}};function yl(o,e,t){return new Zi(o,e,t);}var Zi=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map();constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(i=>{let r=i.options&&i.options.params||{};this.states.set(i.name,new Yi(i.style,r,n));}),Ys(this.states,"true","1"),Ys(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new si(e,i,this.states));}),this.fallbackTransition=Cl(e,this.states);}get containsQueries(){return this.ast.queryCount>0;}matchTransition(e,t,n,i){return this.transitionFactories.find(s=>s.match(e,t,n,i))||null;}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n);}};function Cl(o,e,t){let n=[(s,a)=>!0],i={type:L.Sequence,steps:[],options:null},r={type:L.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new si(o,r,e);}function Ys(o,e,t){o.has(e)?o.has(t)||o.set(t,o.get(e)):o.has(t)&&o.set(e,o.get(t));}var vl=new Wt(),Ji=class{bodyNode;_driver;_normalizer;_animations=new Map();_playersById=new Map();players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n;}register(e,t){let n=[],i=[],r=oa(this._driver,t,n,i);if(n.length)throw xs(n);this._animations.set(e,r);}_buildPlayer(e,t,n){let i=e.element,r=ki(this._normalizer,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0);}create(e,t,n={}){let i=[],r=this._animations.get(e),s,a=new Map();if(r?(s=ra(this._driver,t,r,Fi,qn,new Map(),new Map(),n,vl,i),s.forEach(_=>{let y=le(a,_.element,new Map());_.postStyleProps.forEach(O=>y.set(O,null));})):(i.push(ks()),s=[]),i.length)throw Rs(i);a.forEach((_,y)=>{_.forEach((O,M)=>{_.set(M,this._driver.computeStyle(y,M,Me));});});let l=s.map(_=>{let y=a.get(_.element);return this._buildPlayer(_,new Map(),y);}),c=Le(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c;}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1);}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Ds(e);return t;}listen(e,t,n,i){let r=Kn(t,"","","");return jn(this._getPlayer(e),n,r,i),()=>{};}command(e,t,n,i){if(n=="register"){this.register(e,i[0]);return;}if(n=="create"){let s=i[0]||{};this.create(e,t,s);return;}let r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break;}}},Zs="ng-animate-queued",Sl=".ng-animate-queued",Gi="ng-animate-disabled",bl=".ng-animate-disabled",El="ng-star-inserted",Ml=".ng-star-inserted",Tl=[],aa={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},we="__ng_removed",Xt=class{namespaceId;value;options;get params(){return this.options.params;}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),i=n?e.value:e;if(this.value=Ol(i),n){let r=e,{value:s}=r,a=ho(r,["value"]);this.options=a;}else this.options={};this.options.params||(this.options.params={});}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(i=>{n[i]==null&&(n[i]=t[i]);});}}},qt="void",Bi=new Xt(qt),eo=class{id;hostElement;_engine;players=[];_triggers=new Map();_queue=[];_elementListeners=new Map();_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,Ce(t,this._hostClassName);}listen(e,t,n,i){if(!this._triggers.has(t))throw Ls(n,t);if(n==null||n.length==0)throw $s(t);if(!Al(n))throw Fs(n,t);let r=le(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};r.push(s);let a=le(this._engine.statesByElement,e,new Map());return a.has(t)||(Ce(e,jt),Ce(e,jt+"-"+t),a.set(t,Bi)),()=>{this._engine.afterFlush(()=>{let l=r.indexOf(s);l>=0&&r.splice(l,1),this._triggers.has(t)||a.delete(t);});};}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0);}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Vs(e);return t;}trigger(e,t,n,i=!0){let r=this._getTrigger(t),s=new Yt(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Ce(e,jt),Ce(e,jt+"-"+t),this._engine.statesByElement.set(e,a=new Map()));let l=a.get(t),c=new Xt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Bi),!(c.value===qt)&&l.value===c.value){if(!xl(l.params,c.params)){let N=[],V=r.matchStyles(l.value,l.params,N),Q=r.matchStyles(c.value,c.params,N);N.length?this._engine.reportError(N):this._engine.afterFlush(()=>{ze(e,V),Te(e,Q);});}return;}let O=le(this._engine.playersByElement,e,[]);O.forEach(N=>{N.namespaceId==this.id&&N.triggerName==t&&N.queued&&N.destroy();});let M=r.matchTransition(l.value,c.value,e,c.params),T=!1;if(!M){if(!i)return;M=r.fallbackTransition,T=!0;}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:M,fromState:l,toState:c,player:s,isFallbackTransition:T}),T||(Ce(e,Zs),s.onStart(()=>{Lt(e,Zs);})),s.onDone(()=>{let N=this.players.indexOf(s);N>=0&&this.players.splice(N,1);let V=this._engine.playersByElement.get(e);if(V){let Q=V.indexOf(s);Q>=0&&V.splice(Q,1);}}),this.players.push(s),O.push(s),s;}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(i=>i.name!=e));});}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e));}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,Kt,!0);n.forEach(i=>{if(i[we])return;let r=this._engine.fetchNamespacesByElement(i);r.size?r.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i);}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)));}triggerLeaveAnimation(e,t,n,i){let r=this._engine.statesByElement.get(e),s=new Map();if(r){let a=[];if(r.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let _=this.trigger(e,c,qt,i);_&&a.push(_);}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),n&&Le(a).onDone(()=>this._engine.processLeaveNode(e)),!0;}return!1;}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let i=new Set();t.forEach(r=>{let s=r.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||Bi,_=new Xt(qt),y=new Yt(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:_,player:y,isFallbackTransition:!0});});}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){let r=n.players.length?n.playersByQueriedElement.get(e):[];if(r&&r.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break;}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{let r=e[we];(!r||r===aa)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t));}}insertNode(e,t){Ce(e,this._hostClassName);}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let r=n.element,s=this._elementListeners.get(r);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=Kn(r,n.triggerName,n.fromState.value,n.toState.value);l._data=e,jn(n.player,a.phase,l,a.callback);}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy();}):t.push(n);}),this._queue=[],t.sort((n,i)=>{let r=n.transition.ast.depCount,s=i.transition.ast.depCount;return r==0||s==0?r-s:this._engine.driver.containsElement(n.element,i.element)?1:-1;});}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e);}},to=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map();playersByElement=new Map();playersByQueriedElement=new Map();statesByElement=new Map();disabledNodes=new Set();totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map();collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t);}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n;}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n);});}),e;}createNamespace(e,t){let n=new eo(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n;}_balanceNamespaceList(e,t){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),s=!0;break;}a=this.driver.getParentElement(a);}s||n.unshift(e);}else n.push(e);return i.set(t,e),e;}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n;}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++;}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(t),delete this._namespaceLookup[e];}));}_fetchNamespace(e){return this._namespaceLookup[e];}fetchNamespacesByElement(e){let t=new Set(),n=this.statesByElement.get(e);if(n){for(let i of n.values())if(i.namespaceId){let r=this._fetchNamespace(i.namespaceId);r&&t.add(r);}}return t;}trigger(e,t,n,i){if(ei(t)){let r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0;}return!1;}insertNode(e,t,n,i){if(!ei(t))return;let r=t[we];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1);}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,n);}i&&this.collectEnterElement(t);}collectEnterElement(e){this.collectedEnterElements.push(e);}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ce(e,Gi)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Lt(e,Gi));}removeNode(e,t,n){if(ei(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,n);}else this._onRemovalComplete(t,n);}markElementAsRemoved(e,t,n,i,r){this.collectedLeaveElements.push(t),t[we]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:r};}listen(e,t,n,i,r){return ei(t)?this._fetchNamespace(e).listen(t,n,i,r):()=>{};}_buildInstruction(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r);}destroyInnerAnimations(e){let t=this.driver.query(e,Kt,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Wn,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)));}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy();});}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish());}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Le(this.players).onDone(()=>e());e();});}processLeaveNode(e){let t=e[we];if(t&&t.setForRemoval){if(e[we]=aa,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e);}this._onRemovalComplete(e,t.setForRemoval);}e.classList?.contains(Gi)&&this.markElementAsDisabled(e,!1),this.driver.query(e,bl,!0).forEach(n=>{this.markElementAsDisabled(n,!1);});}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];Ce(i,El);}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e);}finally{for(let i=0;i<n.length;i++)n[i]();}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i);}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?Le(t).onDone(()=>{n.forEach(i=>i());}):n.forEach(i=>i());}}reportError(e){throw Hs(e);}_flushAnimations(e,t){let n=new Wt(),i=[],r=new Map(),s=[],a=new Map(),l=new Map(),c=new Map(),_=new Set();this.disabledNodes.forEach(E=>{_.add(E);let P=this.driver.query(E,Sl,!0);for(let A=0;A<P.length;A++)_.add(P[A]);});let y=this.bodyNode,O=Array.from(this.statesByElement.keys()),M=ta(O,this.collectedEnterElements),T=new Map(),N=0;M.forEach((E,P)=>{let A=Fi+N++;T.set(P,A),E.forEach($=>Ce($,A));});let V=[],Q=new Set(),X=new Set();for(let E=0;E<this.collectedLeaveElements.length;E++){let P=this.collectedLeaveElements[E],A=P[we];A&&A.setForRemoval&&(V.push(P),Q.add(P),A.hasAnimation?this.driver.query(P,Ml,!0).forEach($=>Q.add($)):X.add(P));}let ie=new Map(),J=ta(O,Array.from(Q));J.forEach((E,P)=>{let A=qn+N++;ie.set(P,A),E.forEach($=>Ce($,A));}),e.push(()=>{M.forEach((E,P)=>{let A=T.get(P);E.forEach($=>Lt($,A));}),J.forEach((E,P)=>{let A=ie.get(P);E.forEach($=>Lt($,A));}),V.forEach(E=>{this.processLeaveNode(E);});});let rt=[],Pe=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(t).forEach(A=>{let $=A.player,Y=A.element;if(rt.push($),this.collectedEnterElements.length){let ee=Y[we];if(ee&&ee.setForMove){if(ee.previousTriggersValues&&ee.previousTriggersValues.has(A.triggerName)){let Ke=ee.previousTriggersValues.get(A.triggerName),ge=this.statesByElement.get(A.element);if(ge&&ge.has(A.triggerName)){let tn=ge.get(A.triggerName);tn.value=Ke,ge.set(A.triggerName,tn);}}$.destroy();return;}}let Oe=!y||!this.driver.containsElement(y,Y),de=ie.get(Y),$e=T.get(Y),H=this._buildInstruction(A,n,$e,de,Oe);if(H.errors&&H.errors.length){Pe.push(H);return;}if(Oe){$.onStart(()=>ze(Y,H.fromStyles)),$.onDestroy(()=>Te(Y,H.toStyles)),i.push($);return;}if(A.isFallbackTransition){$.onStart(()=>ze(Y,H.fromStyles)),$.onDestroy(()=>Te(Y,H.toStyles)),i.push($);return;}let go=[];H.timelines.forEach(ee=>{ee.stretchStartingKeyframe=!0,this.disabledNodes.has(ee.element)||go.push(ee);}),H.timelines=go,n.append(Y,H.timelines);let za={instruction:H,player:$,element:Y};s.push(za),H.queriedElements.forEach(ee=>le(a,ee,[]).push($)),H.preStyleProps.forEach((ee,Ke)=>{if(ee.size){let ge=l.get(Ke);ge||l.set(Ke,ge=new Set()),ee.forEach((tn,hi)=>ge.add(hi));}}),H.postStyleProps.forEach((ee,Ke)=>{let ge=c.get(Ke);ge||c.set(Ke,ge=new Set()),ee.forEach((tn,hi)=>ge.add(hi));});});if(Pe.length){let E=[];Pe.forEach(P=>{E.push(Us(P.triggerName,P.errors));}),rt.forEach(P=>P.destroy()),this.reportError(E);}let oe=new Map(),re=new Map();s.forEach(E=>{let P=E.element;n.has(P)&&(re.set(P,P),this._beforeAnimationBuild(E.player.namespaceId,E.instruction,oe));}),i.forEach(E=>{let P=E.element;this._getPreviousPlayers(P,!1,E.namespaceId,E.triggerName,null).forEach($=>{le(oe,P,[]).push($),$.destroy();});});let Be=V.filter(E=>na(E,l,c)),st=new Map();ea(st,this.driver,X,c,Me).forEach(E=>{na(E,l,c)&&Be.push(E);});let je=new Map();M.forEach((E,P)=>{ea(je,this.driver,new Set(E),l,Ut);}),Be.forEach(E=>{let P=st.get(E),A=je.get(E);st.set(E,new Map([...(P?.entries()??[]),...(A?.entries()??[])]));});let gi=[],mo=[],po={};s.forEach(E=>{let{element:P,player:A,instruction:$}=E;if(n.has(P)){if(_.has(P)){A.onDestroy(()=>Te(P,$.toStyles)),A.disabled=!0,A.overrideTotalTime($.totalTime),i.push(A);return;}let Y=po;if(re.size>1){let de=P,$e=[];for(;de=de.parentNode;){let H=re.get(de);if(H){Y=H;break;}$e.push(de);}$e.forEach(H=>re.set(H,Y));}let Oe=this._buildAnimation(A.namespaceId,$,oe,r,je,st);if(A.setRealPlayer(Oe),Y===po)gi.push(A);else{let de=this.playersByElement.get(Y);de&&de.length&&(A.parentPlayer=Le(de)),i.push(A);}}else ze(P,$.fromStyles),A.onDestroy(()=>Te(P,$.toStyles)),mo.push(A),_.has(P)&&i.push(A);}),mo.forEach(E=>{let P=r.get(E.element);if(P&&P.length){let A=Le(P);E.setRealPlayer(A);}}),i.forEach(E=>{E.parentPlayer?E.syncPlayerEvents(E.parentPlayer):E.destroy();});for(let E=0;E<V.length;E++){let P=V[E],A=P[we];if(Lt(P,qn),A&&A.hasAnimation)continue;let $=[];if(a.size){let Oe=a.get(P);Oe&&Oe.length&&$.push(...Oe);let de=this.driver.query(P,Wn,!0);for(let $e=0;$e<de.length;$e++){let H=a.get(de[$e]);H&&H.length&&$.push(...H);}}let Y=$.filter(Oe=>!Oe.destroyed);Y.length?Nl(this,P,Y):this.processLeaveNode(P);}return V.length=0,gi.forEach(E=>{this.players.push(E),E.onDone(()=>{E.destroy();let P=this.players.indexOf(E);this.players.splice(P,1);}),E.play();}),gi;}afterFlush(e){this._flushFns.push(e);}afterFlushAnimationsDone(e){this._whenQuietFns.push(e);}_getPreviousPlayers(e,t,n,i,r){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a);}else{let a=this.playersByElement.get(e);if(a){let l=!r||r==qt;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c);});}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s;}_beforeAnimationBuild(e,t,n){let i=t.triggerName,r=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,_=c!==r,y=le(n,c,[]);this._getPreviousPlayers(c,_,s,a,t.toState).forEach(M=>{let T=M.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),M.destroy(),y.push(M);});}ze(r,t.fromStyles);}_buildAnimation(e,t,n,i,r,s){let a=t.triggerName,l=t.element,c=[],_=new Set(),y=new Set(),O=t.timelines.map(T=>{let N=T.element;_.add(N);let V=N[we];if(V&&V.removedBeforeQueried)return new tt(T.duration,T.delay);let Q=N!==l,X=Il((n.get(N)||Tl).map(oe=>oe.getRealPlayer())).filter(oe=>{let re=oe;return re.element?re.element===N:!1;}),ie=r.get(N),J=s.get(N),rt=ki(this._normalizer,T.keyframes,ie,J),Pe=this._buildPlayer(T,rt,X);if(T.subTimeline&&i&&y.add(N),Q){let oe=new Yt(e,a,N);oe.setRealPlayer(Pe),c.push(oe);}return Pe;});c.forEach(T=>{le(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>Pl(this.playersByQueriedElement,T.element,T));}),_.forEach(T=>Ce(T,Vi));let M=Le(O);return M.onDestroy(()=>{_.forEach(T=>Lt(T,Vi)),Te(l,t.toStyles);}),y.forEach(T=>{le(i,T,[]).push(M);}),M;}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new tt(e.duration,e.delay);}},Yt=class{namespaceId;triggerName;element;_player=new tt();_containsRealPlayer=!1;_queuedCallbacks=new Map();destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n;}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(i=>jn(e,n,void 0,i));}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1);}getRealPlayer(){return this._player;}overrideTotalTime(e){this.totalTime=e;}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy());}_queueEvent(e,t){le(this._queuedCallbacks,e,[]).push(t);}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e);}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e);}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e);}init(){this._player.init();}hasStarted(){return this.queued?!1:this._player.hasStarted();}play(){!this.queued&&this._player.play();}pause(){!this.queued&&this._player.pause();}restart(){!this.queued&&this._player.restart();}finish(){this._player.finish();}destroy(){this.destroyed=!0,this._player.destroy();}reset(){!this.queued&&this._player.reset();}setPosition(e){this.queued||this._player.setPosition(e);}getPosition(){return this.queued?0:this._player.getPosition();}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e);}};function Pl(o,e,t){let n=o.get(e);if(n){if(n.length){let i=n.indexOf(t);n.splice(i,1);}n.length==0&&o.delete(e);}return n;}function Ol(o){return o??null;}function ei(o){return o&&o.nodeType===1;}function Al(o){return o=="start"||o=="done";}function Js(o,e){let t=o.style.display;return o.style.display=e??"none",t;}function ea(o,e,t,n,i){let r=[];t.forEach(l=>r.push(Js(l)));let s=[];n.forEach((l,c)=>{let _=new Map();l.forEach(y=>{let O=e.computeStyle(c,y,i);_.set(y,O),(!O||O.length==0)&&(c[we]=wl,s.push(c));}),o.set(c,_);});let a=0;return t.forEach(l=>Js(l,r[a++])),s;}function ta(o,e){let t=new Map();if(o.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,i=new Set(e),r=new Map();function s(a){if(!a)return n;let l=r.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:i.has(c)?l=n:l=s(c),r.set(a,l),l;}return e.forEach(a=>{let l=s(a);l!==n&&t.get(l).push(a);}),t;}function Ce(o,e){o.classList?.add(e);}function Lt(o,e){o.classList?.remove(e);}function Nl(o,e,t){Le(t).onDone(()=>o.processLeaveNode(e));}function Il(o){let e=[];return la(o,e),e;}function la(o,e){for(let t=0;t<o.length;t++){let n=o[t];n instanceof yn?la(n.players,e):e.push(n);}}function xl(o,e){let t=Object.keys(o),n=Object.keys(e);if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i];if(!e.hasOwnProperty(r)||o[r]!==e[r])return!1;}return!0;}function na(o,e,t){let n=t.get(o);if(!n)return!1;let i=e.get(o);return i?n.forEach(r=>i.add(r)):e.set(o,n),t.delete(o),!0;}var $t=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new to(e.body,t,n),this._timelineEngine=new Ji(e.body,t,n),this._transitionEngine.onRemovalComplete=(i,r)=>this.onRemovalComplete(i,r);}registerTrigger(e,t,n,i,r){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],_=oa(this._driver,r,l,c);if(l.length)throw Is(i,l);a=yl(i,_,this._normalizer),this._triggerCache[s]=a;}this._transitionEngine.registerTrigger(t,i,a);}register(e,t){this._transitionEngine.register(e,t);}destroy(e,t){this._transitionEngine.destroy(e,t);}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i);}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n);}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t);}process(e,t,n,i){if(n.charAt(0)=="@"){let[r,s]=Ri(n),a=i;this._timelineEngine.command(r,t,s,a);}else this._transitionEngine.trigger(e,t,n,i);}listen(e,t,n,i,r){if(n.charAt(0)=="@"){let[s,a]=Ri(n);return this._timelineEngine.listen(s,t,a,r);}return this._transitionEngine.listen(e,t,n,i,r);}flush(e=-1){this._transitionEngine.flush(e);}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players];}whenRenderingDone(){return this._transitionEngine.whenRenderingDone();}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e);}};function kl(o,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=ji(e[0]),e.length>1&&(n=ji(e[e.length-1]))):e instanceof Map&&(t=ji(e)),t||n?new Rl(o,t,n):null;}var Rl=(()=>{let e=class e{_element;_startStyles;_endStyles;_state=0;_initialStyles;constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r;let s=e.initialStylesByElement.get(n);s||e.initialStylesByElement.set(n,s=new Map()),this._initialStyles=s;}start(){this._state<1&&(this._startStyles&&Te(this._element,this._startStyles,this._initialStyles),this._state=1);}finish(){this.start(),this._state<2&&(Te(this._element,this._initialStyles),this._endStyles&&(Te(this._element,this._endStyles),this._endStyles=null),this._state=1);}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(ze(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ze(this._element,this._endStyles),this._endStyles=null),Te(this._element,this._initialStyles),this._state=3);}};f(e,"initialStylesByElement",new WeakMap());let o=e;return o;})();function ji(o){let e=null;return o.forEach((t,n)=>{Dl(n)&&(e=e||new Map(),e.set(n,t));}),e;}function Dl(o){return o==="display"||o==="position";}var ai=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map();constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay;}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]);}init(){this._buildPlayer(),this._preparePlayerBeforeStart();}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map();let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t);});}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause();}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n));}),t;}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n);}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e);}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e);}onDestroy(e){this._onDestroyFns.push(e);}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play();}pause(){this.init(),this.domPlayer.pause();}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish();}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns;}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel();}restart(){this.reset(),this.play();}hasStarted(){return this._started;}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[]);}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time;}getPosition(){return+(this.domPlayer.currentTime??0)/this.time;}get totalTime(){return this._delay+this._duration;}beforeDestroy(){let e=new Map();this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&e.set(i,this._finished?n:Yn(this.element,i));}),this.currentSnapshot=e;}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0;}},li=class{validateStyleProperty(e){return!0;}validateAnimatableStyleProperty(e){return!0;}containsElement(e,t){return Di(e,t);}getParentElement(e){return Qn(e);}query(e,t,n){return Li(e,t,n);}computeStyle(e,t,n){return Yn(e,t);}animate(e,t,n,i,r,s=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};r&&(l.easing=r);let c=new Map(),_=s.filter(M=>M instanceof ai);js(n,i)&&_.forEach(M=>{M.currentSnapshot.forEach((T,N)=>c.set(N,T));});let y=Gs(t).map(M=>new Map(M));y=Ks(e,y,c);let O=kl(e,y);return new ai(e,y,l,O);}};var ti="@",ca="@.disabled",ci=class{namespaceId;delegate;engine;_onDestroy;Éµtype=0;constructor(e,t,n,i){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=i;}get data(){return this.delegate.data;}destroyNode(e){this.delegate.destroyNode?.(e);}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy();});}),this._onDestroy?.();}createElement(e,t){return this.delegate.createElement(e,t);}createComment(e){return this.delegate.createComment(e);}createText(e){return this.delegate.createText(e);}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1);}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i);}removeChild(e,t,n){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate);}selectRootElement(e,t){return this.delegate.selectRootElement(e,t);}parentNode(e){return this.delegate.parentNode(e);}nextSibling(e){return this.delegate.nextSibling(e);}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i);}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n);}addClass(e,t){this.delegate.addClass(e,t);}removeClass(e,t){this.delegate.removeClass(e,t);}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i);}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n);}setProperty(e,t,n){t.charAt(0)==ti&&t==ca?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n);}setValue(e,t){this.delegate.setValue(e,t);}listen(e,t,n,i){return this.delegate.listen(e,t,n,i);}disableAnimations(e,t){this.engine.disableAnimations(e,t);}},no=class extends ci{factory;constructor(e,t,n,i,r){super(t,n,i,r),this.factory=e,this.namespaceId=t;}setProperty(e,t,n){t.charAt(0)==ti?t.charAt(1)=="."&&t==ca?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n);}listen(e,t,n,i){if(t.charAt(0)==ti){let r=Ll(e),s=t.slice(1),a="";return s.charAt(0)!=ti&&([s,a]=$l(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l);});}return this.delegate.listen(e,t,n,i);}};function Ll(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o;}}function $l(o){let e=o.indexOf("."),t=o.substring(0,e),n=o.slice(e+1);return[t,n];}var di=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map();_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(i,r)=>{r?.removeChild(null,i);};}createRenderer(e,t){let n="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,_=c.get(i);if(!_){let y=()=>c.delete(i);_=new ci(n,i,this.engine,y),c.set(i,_);}return _;}let r=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(r,s,e,c.name,c);};return t.data.animation.forEach(a),new no(this,s,i,this.engine);}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin();}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++;});}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return;}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(r=>{let[s,a]=r;s(a);}),this._animationCallbacksBuffer=[];});}),i.push([t,n]);}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId);}),this.delegate.end&&this.delegate.end();}whenRenderingDone(){return this.engine.whenRenderingDone();}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e);}};var Vl=(()=>{let e=class e extends $t{constructor(n,i,r){super(n,i,r);}ngOnDestroy(){this.flush();}};f(e,"\u0275fac",function(i){return new(i||e)(qe(vt),qe(Ge),qe(ot));}),f(e,"\u0275prov",ue({token:e,factory:e.Éµfac}));let o=e;return o;})();function Hl(){return new ni();}function Ul(o,e,t){return new di(o,e,t);}var ua=[{provide:ot,useFactory:Hl},{provide:$t,useClass:Vl},{provide:bo,useFactory:Ul,deps:[Uo,$t,pt]}],zl=[{provide:Ge,useClass:io},{provide:Ci,useValue:"NoopAnimations"},...ua],da=[{provide:Ge,useFactory:()=>new li()},{provide:Ci,useFactory:()=>"BrowserAnimations"},...ua],ma=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?zl:da};}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275mod",_t({type:e})),f(e,"\u0275inj",ut({providers:da,imports:[fn]}));let o=e;return o;})();var ro="Service workers are disabled or not supported by this browser",Ft=class{serviceWorker;worker;registration;events;constructor(e,t){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new nn(n=>n.error(new x(5601,!1)));else{let n=null,i=new Qe();this.worker=new nn(c=>(n!==null&&c.next(n),i.subscribe(_=>c.next(_))));let r=()=>{let{controller:c}=e;c!==null&&(n=c,i.next(n));};e.addEventListener("controllerchange",r),r(),this.registration=this.worker.pipe(Se(()=>e.getRegistration()));let s=new Qe();this.events=s.asObservable();let a=c=>{let{data:_}=c;_?.type&&s.next(_);};e.addEventListener("message",a),t?.get(Vt,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",r),e.removeEventListener("message",a);});}}postMessage(e,t){return new Promise(n=>{this.worker.pipe(dt(1)).subscribe(i=>{i.postMessage(at({action:e},t)),n();});});}postMessageWithOperation(e,t,n){let i=this.waitForOperationCompleted(n),r=this.postMessage(e,t);return Promise.all([r,i]).then(([,s])=>s);}generateNonce(){return Math.round(Math.random()*1e7);}eventsOfType(e){let t;return typeof e=="string"?t=n=>n.type===e:t=n=>e.includes(n.type),this.events.pipe(he(t));}nextEventOfType(e){return this.eventsOfType(e).pipe(dt(1));}waitForOperationCompleted(e){return new Promise((t,n)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(he(i=>i.nonce===e),dt(1),ve(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error);})).subscribe({next:t,error:n});});}get isEnabled(){return!!this.serviceWorker;}},ga=(()=>{let e=class e{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled;}pushManager=null;subscriptionChanges=new Qe();constructor(n){if(this.sw=n,!n.isEnabled){this.messages=ct,this.notificationClicks=ct,this.subscription=ct;return;}this.messages=this.sw.eventsOfType("PUSH").pipe(ve(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ve(r=>r.data)),this.pushManager=this.sw.registration.pipe(ve(r=>r.pushManager));let i=this.pushManager.pipe(Se(r=>r.getSubscription()));this.subscription=new nn(r=>{let s=i.subscribe(r),a=this.subscriptionChanges.subscribe(r);return()=>{s.unsubscribe(),a.unsubscribe();};});}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(ro));let i={userVisibleOnly:!0},r=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let a=0;a<r.length;a++)s[a]=r.charCodeAt(a);return i.applicationServerKey=s,new Promise((a,l)=>{this.pushManager.pipe(Se(c=>c.subscribe(i)),dt(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),a(c);},error:l});});}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(ro));let n=i=>{if(i===null)throw new x(5602,!1);return i.unsubscribe().then(r=>{if(!r)throw new x(5603,!1);this.subscriptionChanges.next(null);});};return new Promise((i,r)=>{this.subscription.pipe(dt(1),Se(n)).subscribe({next:i,error:r});});}decodeBase64(n){return atob(n);}};f(e,"\u0275fac",function(i){return new(i||e)(qe(Ft));}),f(e,"\u0275prov",ue({token:e,factory:e.Éµfac}));let o=e;return o;})(),ha=(()=>{let e=class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled;}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=ct,this.unrecoverable=ct;return;}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE");}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ro));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n);}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new x(5601,!1));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n);}};f(e,"\u0275fac",function(i){return new(i||e)(qe(Ft));}),f(e,"\u0275prov",ue({token:e,factory:e.Éµfac}));let o=e;return o;})();var fa=new vo("");function Gl(){let o=h(Zt);if(!("serviceWorker"in navigator&&o.enabled!==!1))return;let e=h(fa),t=h(pt),n=h(Vt);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,r=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",r),n.onDestroy(()=>{i.removeEventListener("controllerchange",r);});}),t.runOutsideAngular(()=>{let i,{registrationStrategy:r}=o;if(typeof r=="function")i=new Promise(s=>r().subscribe(()=>s()));else{let[s,...a]=(r||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=pa(+a[0]||0);break;case"registerWhenStable":i=Promise.race([n.whenStable(),pa(+a[0])]);break;default:throw new x(5600,!1);}}i.then(()=>navigator.serviceWorker.register(e,{scope:o.scope}).catch(s=>console.error(Co(5604,!1))));});}function pa(o){return new Promise(e=>setTimeout(e,o));}function Bl(o,e){return new Ft(o.enabled!==!1?navigator.serviceWorker:void 0,e);}var Zt=class{enabled;scope;registrationStrategy;};function jl(o,e={}){return So([ga,ha,{provide:fa,useValue:o},{provide:Zt,useValue:e},{provide:Ft,useFactory:Bl,deps:[Zt,mt]},cn(Gl)]);}var _a=(()=>{let e=class e{static register(n,i={}){return{ngModule:e,providers:[jl(n,i)]};}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275mod",_t({type:e})),f(e,"\u0275inj",ut({providers:[ga,ha]}));let o=e;return o;})();function ya(){return[mr,pr];}var so=(()=>{let e=class e extends kn{pathId;ngOnInit(){this.pathId="url(#"+Ot()+")";}};f(e,"\u0275fac",(()=>{let n;return function(r){return(n||(n=an(e)))(r||e);};})()),f(e,"\u0275cmp",D({type:e,selectors:[["ExclamationTriangleIcon"]],features:[ln],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(sn(),d(0,"svg",0)(1,"g"),v(2,"path",1)(3,"path",2)(4,"path",3),u(),d(5,"defs")(6,"clipPath",4),v(7,"rect",5),u()()()),i&2&&(ke(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),z("clip-path",r.pathId),m(5),p("id",r.pathId));},encapsulation:2}));let o=e;return o;})();var ao=(()=>{let e=class e extends kn{pathId;ngOnInit(){this.pathId="url(#"+Ot()+")";}};f(e,"\u0275fac",(()=>{let n;return function(r){return(n||(n=an(e)))(r||e);};})()),f(e,"\u0275cmp",D({type:e,selectors:[["InfoCircleIcon"]],features:[ln],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(sn(),d(0,"svg",0)(1,"g"),v(2,"path",1),u(),d(3,"defs")(4,"clipPath",2),v(5,"rect",3),u()()()),i&2&&(ke(r.getClassNames()),z("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),z("clip-path",r.pathId),m(3),p("id",r.pathId));},encapsulation:2}));let o=e;return o;})();var Ca=["container"],Ql=o=>[o,"p-toast-message"],ql=(o,e,t,n)=>({showTransformParams:o,hideTransformParams:e,showTransitionParams:t,hideTransitionParams:n}),Wl=o=>({value:"visible",params:o}),Xl=(o,e)=>({$implicit:o,closeFn:e}),Yl=o=>({$implicit:o});function Zl(o,e){o&1&&me(0);}function Jl(o,e){if(o&1&&(be(0),C(1,Zl,1,0,"ng-container",4),Ee()),o&2){let t=g();m(),p("ngTemplateOutlet",t.headlessTemplate)("ngTemplateOutletContext",Je(2,Xl,t.message,t.onCloseIconClick));}}function ec(o,e){if(o&1&&v(0,"span"),o&2){let t=g(3);ke("p-toast-message-icon pi "+t.message.icon);}}function tc(o,e){o&1&&v(0,"CheckIcon"),o&2&&z("aria-hidden",!0)("data-pc-section","icon");}function nc(o,e){o&1&&v(0,"InfoCircleIcon"),o&2&&z("aria-hidden",!0)("data-pc-section","icon");}function ic(o,e){o&1&&v(0,"TimesCircleIcon"),o&2&&z("aria-hidden",!0)("data-pc-section","icon");}function oc(o,e){o&1&&v(0,"ExclamationTriangleIcon"),o&2&&z("aria-hidden",!0)("data-pc-section","icon");}function rc(o,e){if(o&1&&(d(0,"span",13),be(1),C(2,tc,1,2,"CheckIcon",6)(3,nc,1,2,"InfoCircleIcon",6)(4,ic,1,2,"TimesCircleIcon",6)(5,oc,1,2,"ExclamationTriangleIcon",6),Ee(),u()),o&2){let t=g(3);z("aria-hidden",!0)("data-pc-section","icon"),m(2),p("ngIf",t.message.severity==="success"),m(),p("ngIf",t.message.severity==="info"),m(),p("ngIf",t.message.severity==="error"),m(),p("ngIf",t.message.severity==="warn");}}function sc(o,e){if(o&1&&(be(0),C(1,ec,1,2,"span",8)(2,rc,6,6,"span",9),d(3,"div",10)(4,"div",11),I(5),u(),d(6,"div",12),I(7),u()(),Ee()),o&2){let t=g(2);m(),p("ngIf",t.message.icon),m(),p("ngIf",!t.message.icon),m(),z("data-pc-section","text"),m(),z("data-pc-section","summary"),m(),F(t.message.summary),m(),z("data-pc-section","detail"),m(),F(t.message.detail);}}function ac(o,e){o&1&&me(0);}function lc(o,e){if(o&1&&v(0,"span"),o&2){let t=g(3);ke("pt-1 text-base p-toast-message-icon pi "+t.message.closeIcon);}}function cc(o,e){o&1&&v(0,"TimesIcon",16),o&2&&(p("styleClass","p-toast-icon-close-icon"),z("aria-hidden",!0)("data-pc-section","closeicon"));}function dc(o,e){if(o&1){let t=k();d(0,"button",14),w("click",function(i){S(t);let r=g(2);return b(r.onCloseIconClick(i));})("keydown.enter",function(i){S(t);let r=g(2);return b(r.onCloseIconClick(i));}),C(1,lc,1,2,"span",8)(2,cc,1,3,"TimesIcon",15),u();}if(o&2){let t=g(2);z("aria-label",t.closeAriaLabel)("data-pc-section","closebutton"),m(),p("ngIf",t.message.closeIcon),m(),p("ngIf",!t.message.closeIcon);}}function uc(o,e){if(o&1&&(d(0,"div",5),C(1,sc,8,7,"ng-container",6)(2,ac,1,0,"ng-container",4)(3,dc,3,4,"button",7),u()),o&2){let t=g();p("ngClass",t.message==null?null:t.message.contentStyleClass),z("data-pc-section","content"),m(),p("ngIf",!t.template),m(),p("ngTemplateOutlet",t.template)("ngTemplateOutletContext",B(6,Yl,t.message)),m(),p("ngIf",(t.message==null?null:t.message.closable)!==!1);}}function mc(o,e){if(o&1){let t=k();d(0,"p-toastItem",3),w("onClose",function(i){S(t);let r=g();return b(r.onMessageClose(i));})("@toastAnimation.start",function(i){S(t);let r=g();return b(r.onAnimationStart(i));})("@toastAnimation.done",function(i){S(t);let r=g();return b(r.onAnimationEnd(i));}),u();}if(o&2){let t=e.$implicit,n=e.index,i=g();p("message",t)("index",n)("life",i.life)("template",i.template)("headlessTemplate",i.headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",i.showTransformOptions)("hideTransformOptions",i.hideTransformOptions)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions);}}var pc=(()=>{let e=class e{zone;config;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new yi();containerViewChild;timeout;constructor(n,i){this.zone=n,this.config=i;}ngAfterViewInit(){this.initTimeout();}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message});},this.message?.life||this.life||3e3);});}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null);}onMouseEnter(){this.clearTimeout();}onMouseLeave(){this.initTimeout();}onCloseIconClick=n=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),n.preventDefault();};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0;}ngOnDestroy(){this.clearTimeout();}};f(e,"\u0275fac",function(i){return new(i||e)(Ve(pt),Ve(Mi));}),f(e,"\u0275cmp",D({type:e,selectors:[["p-toastItem"]],viewQuery:function(i,r){if(i&1&&vi(Ca,5),i&2){let s;mn(s=pn())&&(r.containerViewChild=s.first);}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:[2,"index","index",Ht],life:[2,"life","life",Ht],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},standalone:!1,decls:5,vars:18,consts:[["container",""],["notHeadless",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){if(i&1){let s=k();d(0,"div",2,0),w("mouseenter",function(){return S(s),b(r.onMouseEnter());})("mouseleave",function(){return S(s),b(r.onMouseLeave());}),C(2,Jl,2,5,"ng-container",3)(3,uc,4,8,"ng-template",null,1,ne),u();}if(i&2){let s=W(4);ke(r.message==null?null:r.message.styleClass),p("ngClass",B(9,Ql,"p-toast-message-"+(r.message==null?null:r.message.severity)))("@messageState",B(16,Wl,No(11,ql,r.showTransformOptions,r.hideTransformOptions,r.showTransitionOptions,r.hideTransitionOptions))),z("id",r.message==null?null:r.message.id)("data-pc-name","toast")("data-pc-section","root"),m(2),p("ngIf",r.headlessTemplate)("ngIfElse",s);}},dependencies:()=>[pe,j,St,Tr,Ti,ao,Pi,so,wi],encapsulation:2,data:{animation:[Si("messageState",[Ko("visible",et({transform:"translateY(0)",opacity:1})),_n("void => *",[et({transform:"{{showTransformParams}}",opacity:0}),bi("{{showTransitionParams}}")]),_n("* => void",[bi("{{hideTransitionParams}}",et({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}));let o=e;return o;})(),va=(()=>{let e=class e{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position;}set position(n){this._position=n,this.cd.markForCheck();}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new yi();containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;headlessTemplate;_position="top-right";constructor(n,i,r,s,a){this.document=n,this.renderer=i,this.messageService=r,this.cd=s,this.config=a;}styleElement;id=Ot();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(n=>{if(n)if(Array.isArray(n)){let i=n.filter(r=>this.canAdd(r));this.add(i);}else this.canAdd(n)&&this.add([n]);}),this.clearSubscription=this.messageService.clearObserver.subscribe(n=>{n?this.key===n&&(this.messages=null):this.messages=null,this.cd.markForCheck();});}ngAfterViewInit(){this.breakpoints&&this.createStyle();}add(n){this.messages=this.messages?[...this.messages,...n]:[...n],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...n]:[...n]),this.cd.markForCheck();}canAdd(n){let i=this.key===n.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,n)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,n)),i;}containsMessage(n,i){return n?n.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)!=null:!1;}ngAfterContentInit(){this.templates?.forEach(n=>{switch(n.getType()){case"message":this.template=n.template;break;case"headless":this.headlessTemplate=n.template;break;default:this.template=n.template;break;}});}onMessageClose(n){this.messages?.splice(n.index,1),this.onClose.emit({message:n.message}),this.cd.detectChanges();}onAnimationStart(n){n.fromState==="void"&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&this.containerViewChild?.nativeElement.style.zIndex===""&&Nn.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal));}onAnimationEnd(n){n.toState==="void"&&this.autoZIndex&&br.isEmpty(this.messages)&&Nn.clear(this.containerViewChild?.nativeElement);}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",Mr.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let n="";for(let i in this.breakpoints){let r="";for(let s in this.breakpoints[i])r+=s+":"+this.breakpoints[i][s]+" !important;";n+=`
                    @media screen and (max-width: ${i}) {
                        .p-toast[${this.id}] {
                           ${r}
                        }
                    }
                `;}this.renderer.setProperty(this.styleElement,"innerHTML",n);}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null);}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Nn.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle();}};f(e,"\u0275fac",function(i){return new(i||e)(Ve(vt),Ve(Eo),Ve(Er),Ve(xo),Ve(Mi));}),f(e,"\u0275cmp",D({type:e,selectors:[["p-toast"]],contentQueries:function(i,r,s){if(i&1&&Oo(s,In,4),i&2){let a;mn(a=pn())&&(r.templates=a);}},viewQuery:function(i,r){if(i&1&&vi(Ca,5),i&2){let s;mn(s=pn())&&(r.containerViewChild=s.first);}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",hn],baseZIndex:[2,"baseZIndex","baseZIndex",Ht],life:[2,"life","life",Ht],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",hn],preventDuplicates:[2,"preventDuplicates","preventDuplicates",hn],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},standalone:!1,decls:3,vars:5,consts:[["container",""],[1,"p-toast","p-component",3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(i,r){i&1&&(d(0,"div",1,0),C(2,mc,1,10,"p-toastItem",2),u()),i&2&&(ke(r.styleClass),p("ngClass","p-toast-"+r._position)("ngStyle",r.style),m(2),p("ngForOf",r.messages));},dependencies:[pe,Ne,Lo,pc],styles:[`@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}
`],encapsulation:2,data:{animation:[Si("toastAnimation",[_n(":enter, :leave",[qo("@*",Qo())])])]},changeDetection:0}));let o=e;return o;})(),ui=(()=>{let e=class e{};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275mod",_t({type:e})),f(e,"\u0275inj",ut({imports:[fe,wr,Ti,ao,Pi,so,wi,xn]}));let o=e;return o;})();var hc=["modal"];function fc(o,e){if(o&1){let t=k();d(0,"button",6),w("click",function(){S(t);let i=g(2);return b(i.onCloseClick());}),v(1,"my-global-icon",7),u();}}function _c(o,e){if(o&1){let t=k();d(0,"input",11),w("click",function(){S(t);let i=g(3);return b(i.onCancelClick());})("key.enter",function(){S(t);let i=g(3);return b(i.onCancelClick());}),u();}if(o&2){let t=g(3);p("value",t.cancel.value);}}function yc(o,e){if(o&1){let t=k();d(0,"input",12),w("click",function(){S(t);let i=g(3);return b(i.onConfirmClick());})("key.enter",function(){S(t);let i=g(3);return b(i.onConfirmClick());}),u();}if(o&2){let t=g(3);p("value",t.confirm.value);}}function Cc(o,e){if(o&1&&(d(0,"div",8),C(1,_c,1,1,"input",9)(2,yc,1,1,"input",10),u()),o&2){let t=g(2);m(),p("ngIf",t.hasCancel()),m(),p("ngIf",t.hasConfirm());}}function vc(o,e){if(o&1&&(d(0,"div",1)(1,"h4",2),I(2),u(),C(3,fc,2,0,"button",3),u(),v(4,"div",4),C(5,Cc,3,2,"div",5)),o&2){let t=g();m(2),F(t.title),m(),p("ngIf",t.close),m(),p("innerHTML",t.content,We),m(),p("ngIf",t.hasCancel()||t.hasConfirm());}}var Sa=(()=>{let e=class e{modalService=h(Ie);modal=q("modal");title;content;close;cancel;confirm;modalRef;show(n){if(this.modalRef instanceof _r&&this.modalService.hasOpenModals()){De.error("Cannot open another custom modal, one is already opened.");return;}let{title:i,content:r,close:s,cancel:a,confirm:l}=n;this.title=i,this.content=r,this.close=s,this.cancel=a,this.confirm=l,this.modalRef=this.modalService.open(this.modal(),{centered:!0,backdrop:"static",keyboard:!1,size:"lg"});}onCancelClick(){this.modalRef.close();let n=this.cancel;typeof n.action=="function"&&n.action(),this.destroy();}onCloseClick(){this.modalRef.close(),this.destroy();}onConfirmClick(){this.modalRef.close();let n=this.confirm;typeof n.action=="function"&&n.action(),this.destroy();}hasCancel(){return typeof this.cancel<"u";}hasConfirm(){return typeof this.confirm<"u";}destroy(){delete this.modalRef,delete this.title,delete this.content,delete this.close,delete this.cancel,delete this.confirm;}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-custom-modal"]],viewQuery:function(i,r){i&1&&G(r.modal,hc,5),i&2&&te();},decls:2,vars:0,consts:()=>{let n;return n="Close this modal",[["modal",""],[1,"modal-header"],[1,"modal-title"],["class","border-0 p-0","title",n,3,"click",4,"ngIf"],[1,"modal-body",3,"innerHTML"],["class","modal-footer inputs",4,"ngIf"],["title",n,1,"border-0","p-0",3,"click"],["iconName","cross"],[1,"modal-footer","inputs"],["type","button","role","button","class","peertube-button secondary-button",3,"value","click","key.enter",4,"ngIf"],["type","button","role","button","class","peertube-button primary-button",3,"value","click","key.enter",4,"ngIf"],["type","button","role","button",1,"peertube-button","secondary-button",3,"click","key.enter","value"],["type","button","role","button",1,"peertube-button","primary-button",3,"click","key.enter","value"]];},template:function(i,r){i&1&&C(0,vc,6,4,"ng-template",null,0,ne);},dependencies:[j,K],styles:[`li[_ngcontent-%COMP%]{margin-bottom:10px}
/*# sourceMappingURL=custom-modal.component-NYWPEMLU.css.map */`]}));let o=e;return o;})();var bc=["dropdown"],Ec=()=>[import("./chunk-UEFMD23G.js").then(o=>o.UserNotificationsComponent)],Mc=(o,e)=>({shown:o,hidden:e}),Tc=o=>({loaded:o});function wc(o,e){if(o&1&&(d(0,"div",11),I(1),u()),o&2){let t=g(2);m(),F(t.unreadNotifications);}}function Pc(o,e){o&1&&(d(0,"div",11),I(1,"99+"),u());}function Oc(o,e){if(o&1&&C(0,wc,2,1,"div",10)(1,Pc,2,0,"div",10),o&2){let t=g();p("ngIf",t.unreadNotifications>0&&t.unreadNotifications<100),m(),p("ngIf",t.unreadNotifications>=100);}}function Ac(o,e){o&1&&v(0,"my-global-icon",12);}function Nc(o,e){o&1&&v(0,"my-global-icon",13);}function Ic(o,e){if(o&1&&C(0,Ac,1,0,"my-global-icon",12)(1,Nc,1,0,"my-global-icon",13),o&2){let t=g();se(t.unreadNotifications?0:1);}}function xc(o,e){o&1&&me(0);}function kc(o,e){o&1&&me(0);}function Rc(o,e){if(o&1){let t=k();d(0,"a",14,2),w("click",function(){S(t);let i=W(1),r=g();return b(r.onNavigate(i));}),C(2,xc,1,0,"ng-container",15)(3,kc,1,0,"ng-container",15),u();}if(o&2){g();let t=W(1),n=W(3);m(2),p("ngTemplateOutlet",t),m(),p("ngTemplateOutlet",n);}}function Dc(o,e){o&1&&me(0);}function Lc(o,e){o&1&&me(0);}function $c(o,e){if(o&1){let t=k();d(0,"button",27),w("click",function(){S(t);let i=g(2);return b(i.markAllAsRead());}),v(1,"my-global-icon",28),u();}}function Fc(o,e){if(o&1){let t=k();d(0,"my-user-notifications",29),w("notificationsLoaded",function(){S(t);let i=g(2);return b(i.onNotificationLoaded());}),u();}if(o&2){let t=g(2);p("ignoreLoadingBar",!0)("infiniteScroll",!1)("itemsPerPage",10)("markAllAsReadSubject",t.markAllAsReadSubject);}}function Vc(o,e){o&1&&(d(0,"div",30),v(1,"my-loader",31),u());}function Hc(o,e){if(o&1){let t=k();d(0,"a",32,5),w("click",function(){S(t);let i=W(1),r=g(2);return b(r.onNavigate(i));}),R(2,7),u();}}function Uc(o,e){if(o&1){let t=k();d(0,"div",16,3),w("openChange",function(i){S(t);let r=g();return b(i===!0?r.onDropdownShown():r.onDropdownHidden());}),d(2,"button",17),C(3,Dc,1,0,"ng-container",15)(4,Lc,1,0,"ng-container",15),u(),d(5,"div",18)(6,"div",19)(7,"div",20)(8,"div"),R(9,6),u(),d(10,"div"),C(11,$c,2,0,"button",21),d(12,"a",22,4),w("click",function(){S(t);let i=W(13),r=g();return b(r.onNavigate(i));}),v(14,"my-global-icon",23),u()()(),C(15,Fc,1,4),dn(16,15,Ec),C(18,Vc,2,0,"div",24),d(19,"div",25),C(20,Hc,3,0,"a",26),u()()()();}if(o&2){let t=g(),n=W(1),i=W(3);m(2),p("ngClass",Je(8,Mc,t.opened,t.isInMobileView)),m(),p("ngTemplateOutlet",n),m(),p("ngTemplateOutlet",i),m(2),p("ngClass",B(11,Tc,t.loaded)),m(5),p("ngIf",t.unreadNotifications),m(5),un(t.opened),m(2),p("ngIf",!t.loaded),m(2),p("ngIf",t.loaded);}}var ba=(()=>{let e=class e{userNotificationService=h(Hn);screenService=h(It);peertubeSocket=h(Lr);notifier=h(Nr);router=h(_e);dropdown=q("dropdown");navigate=gt();unreadNotifications=0;loaded=!1;opened=!1;markAllAsReadSubject=new Qe();userNotificationReload=new Qe();notificationSub;routeSub;ngOnInit(){this.userNotificationService.countUnreadNotifications().subscribe({next:n=>{this.unreadNotifications=n,this.subscribeToNotifications();},error:n=>this.notifier.error(n.message)}),this.routeSub=this.router.events.pipe(he(n=>n instanceof Cn)).subscribe(()=>this.closeDropdown());}ngOnDestroy(){this.notificationSub&&this.notificationSub.unsubscribe(),this.routeSub&&this.routeSub.unsubscribe();}get isInMobileView(){return this.screenService.isInMobileView();}closeDropdown(){let n=this.dropdown();n&&n.close();}onDropdownShown(){this.loaded&&this.userNotificationReload.next(!0),this.opened=!0;}onDropdownHidden(){this.opened=!1;}onNotificationLoaded(){this.loaded=!0;}onNavigate(n){this.closeDropdown(),this.navigate.emit(n);}markAllAsRead(){this.markAllAsReadSubject.next(!0);}subscribeToNotifications(){return lt(this,null,function*(){let n=yield this.peertubeSocket.getMyNotificationsSocket();this.notificationSub=n.subscribe(i=>{if(i.type==="new")return this.unreadNotifications++;if(i.type==="read")return this.unreadNotifications--;if(i.type==="read-all")return this.unreadNotifications=0;});});}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-notification-dropdown"]],viewQuery:function(i,r){i&1&&G(r.dropdown,bc,5),i&2&&te();},outputs:{navigate:"navigate"},decls:6,vars:1,consts:()=>{let n;n="View your notifications";let i;i="View your notifications";let r;r="Mark all as read";let s;s="Update your notification preferences";let a;a="Notifications";let l;return l=" View all ",[["notificationNumber",""],["notificationIcon",""],["link",""],["dropdown","ngbDropdown"],["settingsNotifications",""],["notifications",""],a,l,["title",n,"routerLink","/my-account/notifications","routerLinkActive","active",1,"peertube-button","tertiary-button","rounded-icon-button","notification-inbox-link"],["ngbDropdown","","autoClose","outside","placement","bottom-end auto","container","body","dropdownClass","dropdown-notifications"],["class","unread-notifications",4,"ngIf"],[1,"unread-notifications"],["iconName","opened-bell"],["iconName","bell"],["title",n,"routerLink","/my-account/notifications","routerLinkActive","active",1,"peertube-button","tertiary-button","rounded-icon-button","notification-inbox-link",3,"click"],[4,"ngTemplateOutlet"],["ngbDropdown","","autoClose","outside","placement","bottom-end auto","container","body","dropdownClass","dropdown-notifications",3,"openChange"],["title",i,"ngbDropdownToggle","",1,"peertube-button","tertiary-button","rounded-icon-button","disable-dropdown-caret","notification-inbox-dropdown",3,"ngClass"],["ngbDropdownMenu",""],[1,"content",3,"ngClass"],[1,"notifications-header"],["title",r,"class","me-2 peertube-button tertiary-button rounded-icon-button",3,"click",4,"ngIf"],["title",s,"routerLink","/my-account/settings","fragment","notifications",1,"peertube-button-link","tertiary-button","rounded-icon-button",3,"click"],["iconName","cog"],["class","loader mt-4",4,"ngIf"],[1,"all-notifications"],["class","text-decoration-underline","routerLink","/my-account/notifications",3,"click",4,"ngIf"],["title",r,1,"me-2","peertube-button","tertiary-button","rounded-icon-button",3,"click"],["iconName","tick"],[3,"notificationsLoaded","ignoreLoadingBar","infiniteScroll","itemsPerPage","markAllAsReadSubject"],[1,"loader","mt-4"],["size","xl","loading","true"],["routerLink","/my-account/notifications",1,"text-decoration-underline",3,"click"]];},template:function(i,r){i&1&&C(0,Oc,2,2,"ng-template",null,0,ne)(2,Ic,2,1,"ng-template",null,1,ne)(4,Rc,4,2,"a",8)(5,Uc,21,13,"div",9),i&2&&(m(4),se(r.isInMobileView?4:5));},dependencies:[fe,pe,j,St,K,Gr,Et,Sn,Pt,On,Pn,wn],styles:[`.content[_ngcontent-%COMP%]{scrollbar-color:auto}  .dropdown-notifications .dropdown-menu{padding:0;font-size:14px;font-family:Source Sans Pro,sans-serif;width:400px}  .dropdown-notifications .dropdown-menu .loader{display:flex;align-items:center;justify-content:center;padding:5px 0}  .dropdown-notifications .dropdown-menu .content{max-height:150px;transition:max-height .15s ease-out;display:flex;height:500px;flex-direction:column}  .dropdown-notifications .dropdown-menu .content.loaded{max-height:500px}  .dropdown-notifications .dropdown-menu .content>my-user-notifications:nth-child(2){overflow-y:auto;flex-grow:1}  .dropdown-notifications .dropdown-menu .notifications-header{display:flex;justify-content:space-between;border-bottom:1px solid var(--bg-secondary-450);align-items:center;padding:0 12px;font-size:14px;line-height:normal;font-weight:700;text-transform:uppercase;min-height:50px}  .dropdown-notifications .dropdown-menu .all-notifications{border-top:1px solid var(--bg-secondary-450);margin-top:-1px;text-align:center;padding:.75rem 0}.notification-inbox-dropdown[_ngcontent-%COMP%], .notification-inbox-link[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:inline-block}.notification-inbox-dropdown[_ngcontent-%COMP%]   .unread-notifications[_ngcontent-%COMP%], .notification-inbox-link[_ngcontent-%COMP%]   .unread-notifications[_ngcontent-%COMP%]{margin-left:20px}.notification-inbox-dropdown[_ngcontent-%COMP%]   .unread-notifications[_ngcontent-%COMP%], .notification-inbox-link[_ngcontent-%COMP%]   .unread-notifications[_ngcontent-%COMP%]{position:absolute;top:6px;left:0;background-color:var(--primary);color:var(--on-primary);font-weight:700;font-size:10px;border-radius:16px;line-height:16px;padding:0 3px;min-width:16px}
/*# sourceMappingURL=notification-dropdown.component-ZUBP7S2V.css.map */`]}));let o=e;return o;})();var zc=["modal"];function Gc(o,e){if(o&1&&(d(0,"a",10),I(1),u()),o&2){let t=e.$implicit,n=g(2);p("href",n.buildLanguageLink(t),ft)("lang",t.iso),m(),F(t.label);}}function Bc(o,e){if(o&1){let t=k();d(0,"div",3)(1,"h4",4),R(2,1),u(),d(3,"button",5),w("click",function(){let i=S(t).close;return b(i());}),v(4,"my-global-icon",6),u()(),d(5,"a",7),R(6,2),u(),d(7,"div",8),C(8,Gc,2,3,"a",9),u();}if(o&2){let t=g();m(8),p("ngForOf",t.languages);}}var Ea=(()=>{let e=class e{modalService=h(Ie);localeId=h(gn);modal=q("modal");languages=[];constructor(){let n=lr(Mn).map(i=>({id:i,label:Mn[i],iso:Tn(i)}));this.languages=ar(n,"label");}show(){this.modalService.open(this.modal(),{centered:!0});}buildLanguageLink(n){return window.location.origin+"/"+n.id;}getCurrentLanguage(){let n="English",i=Pr()?Or():ur(this.localeId);return i&&Mn[i]||n;}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-language-chooser"]],viewQuery:function(i,r){i&1&&G(r.modal,zc,5),i&2&&te();},decls:2,vars:0,consts:()=>{let n;n="Close this modal";let i;i="Change the language";let r;return r=" Help to translate PeerTube! ",[["modal",""],i,r,[1,"modal-header"],[1,"modal-title"],["title",n,1,"border-0","p-0",3,"click"],["iconName","cross"],["target","_blank","rel","noreferrer noopener","href","https://github.com/Chocobozzz/PeerTube/blob/develop/support/doc/translation.md",1,"peertube-button-link","primary-button","rounded-0"],[1,"modal-body"],[3,"href","lang",4,"ngFor","ngForOf"],[3,"href","lang"]];},template:function(i,r){i&1&&C(0,Bc,9,1,"ng-template",null,0,ne);},dependencies:[fe,Ne,K],styles:[`.modal-body[_ngcontent-%COMP%]{text-align:center}.modal-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;margin:15px}
/*# sourceMappingURL=language-chooser.component-KQ2UCSR3.css.map */`]}));let o=e;return o;})();var jc=["modal"];function Kc(o,e){if(o&1&&v(0,"my-user-video-settings",15),o&2){let t=g(2);p("user",t.user)("userInformationLoaded",t.userInformationLoaded)("reactiveUpdate",!0)("notifyOnUpdate",!0);}}function Qc(o,e){if(o&1&&v(0,"my-user-interface-settings",15),o&2){let t=g(2);p("user",t.user)("userInformationLoaded",t.userInformationLoaded)("reactiveUpdate",!0)("notifyOnUpdate",!0);}}function qc(o,e){if(o&1){let t=k();d(0,"div",6)(1,"h4",7),R(2,1),u(),d(3,"button",8),w("click",function(){let i=S(t).close;return b(i());}),v(4,"my-global-icon",9),u()(),d(5,"div",10)(6,"my-alert",11),R(7,2),u(),d(8,"h5",12),R(9,3),u(),C(10,Kc,1,4,"my-user-video-settings",13),d(11,"h5",12),R(12,4),u(),C(13,Qc,1,4,"my-user-interface-settings",13),d(14,"my-button",14),w("click",function(){S(t);let i=g();return b(i.changeLanguage());}),R(15,5),u()();}if(o&2){let t=g();m(10),p("ngIf",!t.isUserLoggedIn()),m(3),p("ngIf",!t.isUserLoggedIn());}}var Ma=(()=>{let e=class e{modalService=h(Ie);userService=h(Vn);authService=h(ae);localStorageService=h(Dn);route=h(bt);peertubeRouter=h(Ln);modal=q("modal");openLanguageModal=gt();user;userInformationLoaded=new _o(1);openedModal;routeSub;loginSub;localStorageSub;ngOnInit(){this.user=this.userService.getAnonymousUser(),this.localStorageSub=this.localStorageService.watch().subscribe({next:()=>this.user=this.userService.getAnonymousUser()}),this.userInformationLoaded.next(!0),this.loginSub=this.authService.loginChangedSource.pipe(he(n=>n!==He.LoggedIn)).subscribe({next:()=>{this.user=this.userService.getAnonymousUser(),this.userInformationLoaded.next(!0);}}),this.routeSub=this.route.queryParams.subscribe(n=>{n.modal===e.QUERY_MODAL_NAME&&(this.openedModal=this.modalService.open(this.modal(),{centered:!0}),this.openedModal.hidden.subscribe(()=>this.setModalQuery("remove")));});}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe(),this.loginSub&&this.loginSub.unsubscribe(),this.localStorageSub&&this.localStorageSub.unsubscribe();}isUserLoggedIn(){return this.authService.isLoggedIn();}show(){this.setModalQuery("add");}changeLanguage(){this.openedModal.close(),this.openLanguageModal.emit();}setModalQuery(n){let i=n==="add"?e.QUERY_MODAL_NAME:null;this.peertubeRouter.silentNavigate([],{modal:i},this.route);}};f(e,"QUERY_MODAL_NAME","quick-settings"),f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-quick-settings"]],viewQuery:function(i,r){i&1&&G(r.modal,jc,5),i&2&&te();},outputs:{openLanguageModal:"openLanguageModal"},decls:2,vars:0,consts:()=>{let n;n="Close this modal";let i;i="My settings";let r;r="These settings apply only to your session on this instance.";let s;s="VIDEOS";let a;a="INTERFACE";let l;return l="Change interface language",[["modal",""],i,r,s,a,l,[1,"modal-header"],[1,"modal-title"],["title",n,1,"border-0","p-0",3,"click"],["iconName","cross"],[1,"modal-body"],["type","primary"],[1,"section-label","mt-4","mb-2"],[3,"user","userInformationLoaded","reactiveUpdate","notifyOnUpdate",4,"ngIf"],["theme","secondary","icon","language",1,"mt-2",3,"click"],[3,"user","userInformationLoaded","reactiveUpdate","notifyOnUpdate"]];},template:function(i,r){i&1&&C(0,qc,16,2,"ng-template",null,0,ne);},dependencies:[fe,j,K,qr,Kr,jr,kt],encapsulation:2}));let o=e;return o;})();var wa=fo(Ir());function Wc(o,e){o&1&&(d(0,"span"),R(1,0),u());}function Xc(o,e){o&1&&(d(0,"span"),R(1,1),u());}var mi=(()=>{let e=class e{result=ht(void 0);highlight=ht(void 0);describedby=ht(void 0);disabled=!1;active=!1;getTitle(){let n=this.result();if(n.type==="search-instance")return"Search \""+n.text+"\" in this instance's network";if(n.type==="search-index")return"Search \""+n.text+"\" in the vidiverse";}ngOnInit(){this.result().default&&(this.active=!0);}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-suggestion"]],inputs:{result:[1,"result"],highlight:[1,"highlight"],describedby:[1,"describedby"]},decls:7,vars:8,consts:()=>{let n;n="In this instance's network";let i;return i="In the vidiverse",[n,i,["tabindex","-1",1,"d-flex","flex-auto","align-items-center","p-2"],["iconName","search",1,"me-2"],[1,"flex-auto","overflow-hidden","no-wrap","d-flex","align-items-center"],[1,"result-type","border","rounded","flex-shrink-0","px-1","ms-1","f6"],[4,"ngIf"]];},template:function(i,r){i&1&&(d(0,"a",2),v(1,"my-global-icon",3),d(2,"div",4),I(3),u(),d(4,"div",5),C(5,Wc,2,0,"span",6)(6,Xc,2,0,"span",6),u()()),i&2&&(To("focus-visible",r.active),z("title",r.getTitle())("aria-describedby",r.describedby()),m(2),z("aria-label",r.result().text),m(),Re(" ",r.result().text," "),m(2),p("ngIf",r.result().type==="search-instance"),m(),p("ngIf",r.result().type==="search-index"));},dependencies:[K,j],styles:[`a[_ngcontent-%COMP%]{width:100%}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:active{text-decoration:none}a[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:var(--fg);opacity:1}a.focus-visible[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover.focus-visible{background-color:var(--primary);color:var(--on-primary)}.result-type[_ngcontent-%COMP%]{background-color:var(--bg);color:var(--fg-400)}my-global-icon[_ngcontent-%COMP%]{color:var(--on-primary);display:inline-block;width:17px;height:17px;line-height:17px}
/*# sourceMappingURL=suggestion.component-WZXUGYFM.css.map */`]}));let o=e;return o;})();function Yc(o,e){if(o&1){let t=k();d(0,"li",21),w("mouseenter",function(){let i=S(t).index,r=g();return b(r.onSuggestionHover(i));})("click",function(){let i=S(t).$implicit,r=g();return b(r.onSuggestionClicked(i));})("keyup.enter",function(){let i=S(t).$implicit,r=g();return b(r.onSuggestionClicked(i));}),v(1,"my-suggestion",22),u();}if(o&2){let t=e.$implicit,n=g();m(),p("result",t)("highlight",n.search)("describedby",n.showSearchGlobalHelp()?"typeahead-help":void 0);}}function Zc(o,e){if(o&1&&(d(0,"span",18),R(1,8),u()),o&2){let t=g(2);m(),yt(t.serverConfig.search.searchIndex.url),Ct(1);}}function Jc(o,e){if(o&1&&(d(0,"div",23)(1,"div",24)(2,"div",25),R(3,6),u(),C(4,Zc,2,1,"span",26),u(),d(5,"div",18),R(6,7),u()()),o&2){let t=g();m(4),p("ngIf",t.serverConfig);}}var ed=(0,wa.default)("peertube:search"),Pa=(()=>{let e=class e{authService=h(ae);router=h(_e);route=h(bt);serverService=h(ye);injector=h(mt);suggestionItems=Mo(mi);hasChannel=!1;inChannel=!1;areSuggestionsOpened=!0;search="";serverConfig;inThisChannelText;keyboardEventsManager;results=[];activeSearch;scheduleKeyboardEventsInit=!1;ngOnInit(){this.route.queryParams.pipe(Fe(n=>this.isOnSearch()&&n.search!==void 0&&n.search!==null)).subscribe(n=>this.search=n.search),this.serverConfig=this.serverService.getHTMLConfig(),this.computeTypeahead(),this.serverService.configReloaded.subscribe(n=>{this.serverConfig=n,this.computeTypeahead();});}ngAfterViewChecked(){this.scheduleKeyboardEventsInit&&!this.keyboardEventsManager&&setTimeout(()=>this.initKeyboardEventsManager(),0);}ngOnDestroy(){this.keyboardEventsManager&&this.keyboardEventsManager.change.unsubscribe();}showSearchGlobalHelp(){return this.search&&this.areSuggestionsOpened&&this.keyboardEventsManager?.activeItem?.result()?.type==="search-index";}canSearchAnyURI(){return this.authService.isLoggedIn()?this.serverConfig.search.remoteUri.users:this.serverConfig.search.remoteUri.anonymous;}onSearchChange(){this.computeTypeahead();}initKeyboardEventsManager(){if(this.keyboardEventsManager)return;this.keyboardEventsManager=new Ai(this.suggestionItems,this.injector);let n=this.suggestionItems().findIndex(i=>i.result().default===!0);n===-1&&De.error("Cannot find active index.",{suggestionItems:this.suggestionItems()}),this.updateItemsState(n),this.keyboardEventsManager.change.subscribe(i=>this.updateItemsState());}computeTypeahead(){let n=this.serverConfig.search.searchIndex;this.activeSearch||(n.enabled&&(n.isDefaultSearch||n.disableLocalSearch)?this.activeSearch="search-index":this.activeSearch="search-instance"),this.areSuggestionsOpened=!0,this.results=[],this.search&&((n.enabled===!1||n.disableLocalSearch!==!0)&&this.results.push({text:this.search,type:"search-instance",default:this.activeSearch==="search-instance"}),n.enabled&&this.results.push({text:this.search,type:"search-index",default:this.activeSearch==="search-index"}),this.scheduleKeyboardEventsInit=!0,ed("Typeahead rebuilt",this.results));}updateItemsState(n){if(this.keyboardEventsManager){n!==void 0&&this.keyboardEventsManager.setActiveItem(n);for(let i of this.suggestionItems()){if(this.keyboardEventsManager.activeItem&&this.keyboardEventsManager.activeItem===i){i.active=!0,this.activeSearch=i.result().type;continue;}i.active=!1;}}}onSuggestionClicked(n){this.doSearch(this.buildSearchTarget(n));}onSuggestionHover(n){this.updateItemsState(n);}handleKey(n){if(this.keyboardEventsManager)switch(n.key){case"ArrowDown":case"ArrowUp":n.stopPropagation(),this.keyboardEventsManager.onKeydown(n);break;case"Enter":n.stopPropagation(),this.doSearch();break;}}isOnSearch(){return window.location.pathname==="/search";}doSearch(n){this.areSuggestionsOpened=!1;let i={};this.isOnSearch()&&this.route.snapshot.queryParams&&Object.assign(i,this.route.snapshot.queryParams),n||(n=this.buildSearchTarget(this.keyboardEventsManager.activeItem.result())),Object.assign(i,{search:this.search,searchTarget:n}),(this.authService.isLoggedIn()?this.loadUserLanguagesIfNeeded(i):Ae(!0)).subscribe(()=>this.router.navigate(["/search"],{queryParams:i}));}loadUserLanguagesIfNeeded(n){return n?.languageOneOf?Ae(n):this.authService.userInformationLoaded.pipe(Fe(),yo(()=>Object.assign(n,{languageOneOf:this.authService.getUser().videoLanguages})));}buildSearchTarget(n){return n.type==="search-index"?"search-index":"local";}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-search-typeahead"]],viewQuery:function(i,r){i&1&&G(r.suggestionItems,mi,5),i&2&&te();},decls:30,vars:5,consts:()=>{let n;n="Search";let i;i="Search videos, channels\u2026";let r;r="Your query will be matched against video names or descriptions, channel names.";let s;s="ADVANCED SEARCH";let a;a="will list the matching channel";let l;l="will list the matching channel";let c;c="will list the matching video";let _;_="GLOBAL SEARCH";let y;y="Results will be augmented with those of a third-party index. Only data necessary to make the query will be sent.";let O;return O="using "+"\uFFFD0\uFFFD"+"",[["searchVideo",""],r,s,a,l,c,_,y,O,["id","typeahead-container",1,"position-relative"],["title",n,1,"button-unstyle","search-button",3,"click"],["iconName","search"],["type","search","id","search-video","name","search-video","aria-label","Search videos, playlists, channels\u2026","placeholder",i,"autocomplete","off","aria-describedby","typeahead-input-help",3,"ngModelChange","keydown","ngModel"],[1,"position-absolute","jump-to-suggestions"],["role","listbox",1,"p-0","m-0",3,"hidden"],["class","suggestion d-flex flex-justify-start flex-items-center p-0 f5","role","option","aria-selected","true","tabindex","0",3,"mouseenter","click","keyup.enter",4,"ngFor","ngForOf"],["id","typeahead-suggestion-help","class","overflow-hidden",4,"ngIf"],["id","typeahead-input-help",1,"overflow-hidden",3,"hidden"],[1,"muted"],[1,"mt-3","mb-2","section-label"],[1,"flex-auto","muted"],["role","option","aria-selected","true","tabindex","0",1,"suggestion","d-flex","flex-justify-start","flex-items-center","p-0","f5",3,"mouseenter","click","keyup.enter"],[3,"result","highlight","describedby"],["id","typeahead-suggestion-help",1,"overflow-hidden"],[1,"d-flex","justify-content-between"],[1,"section-label","mb-2"],["class","muted",4,"ngIf"]];},template:function(i,r){if(i&1){let s=k();d(0,"div",9)(1,"button",10),w("click",function(){return S(s),b(r.doSearch());}),v(2,"my-global-icon",11),u(),d(3,"input",12,0),Ze("ngModelChange",function(l){return S(s),Ye(r.search,l)||(r.search=l),b(l);}),w("ngModelChange",function(){return S(s),b(r.onSearchChange());})("keydown",function(l){return S(s),b(r.handleKey(l));}),u(),d(5,"div",13)(6,"ul",14),C(7,Yc,2,3,"li",15),u(),C(8,Jc,7,1,"div",16),d(9,"div",17)(10,"span",18),R(11,1),u(),d(12,"div",19),R(13,2),u(),d(14,"ul")(15,"li")(16,"em"),I(17,"@channel_id@domain"),u(),d(18,"span",20),R(19,3),u()(),d(20,"li")(21,"em"),I(22,"URL"),u(),d(23,"span",18),R(24,4),u()(),d(25,"li")(26,"em"),I(27,"UUID"),u(),d(28,"span",18),R(29,5),u()()()()()();}i&2&&(m(3),Xe("ngModel",r.search),m(3),p("hidden",!r.search||!r.areSuggestionsOpened),m(),p("ngForOf",r.results),m(),p("ngIf",r.showSearchGlobalHelp()),m(),p("hidden",r.search));},dependencies:[wt,bn,Mt,Tt,K,Ne,mi,j],styles:[`#search-video[_ngcontent-%COMP%]{text-overflow:ellipsis;font-size:16px;padding:var(--input-y-padding) var(--input-x-padding);width:100%;max-width:100%;color:var(--input-fg);background-color:var(--input-bg);border:1px solid var(--input-border-color);border-radius:var(--input-border-radius);line-height:24px}#search-video[_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder);font-size:14px}#search-video[readonly][_ngcontent-%COMP%]{color:var(--fg-300)}#search-video[_ngcontent-%COMP%]:focus, #search-video[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100);outline:0}#search-video[disabled][_ngcontent-%COMP%]{color:var(--fg-300);opacity:.8}@media screen and (max-width: calc(100% + 40px)){#search-video[_ngcontent-%COMP%]{width:100%}}#search-video[_ngcontent-%COMP%]{padding-inline-start:42px;padding-inline-end:20px}#search-video[_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder)}.search-button[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0}@supports (inset-inline-start: 18px){.search-button[_ngcontent-%COMP%]{inset-inline-start:18px}}@supports not (inset-inline-start: 18px){.search-button[_ngcontent-%COMP%]{left:18px}}.search-button[_ngcontent-%COMP%]:hover{opacity:.8}.search-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{height:18px;width:18px;position:relative;top:-2px}.jump-to-suggestions[_ngcontent-%COMP%]{top:100%;left:0;z-index:12650;width:100%}#typeahead-suggestion-help[_ngcontent-%COMP%], #typeahead-input-help[_ngcontent-%COMP%], .suggestion[_ngcontent-%COMP%]{border:1px solid var(--bg);background:var(--bg-secondary-400);transition:.3s ease;transition-property:box-shadow;cursor:pointer}#typeahead-suggestion-help[_ngcontent-%COMP%], #typeahead-input-help[_ngcontent-%COMP%], .suggestion[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:3px;border-bottom-left-radius:3px}#typeahead-suggestion-help[_ngcontent-%COMP%], #typeahead-input-help[_ngcontent-%COMP%]{margin-top:9px;width:100%;padding:.5rem 1rem;white-space:normal}#typeahead-suggestion-help[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], #typeahead-input-help[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin-bottom:.5rem}#typeahead-suggestion-help[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   em[_ngcontent-%COMP%], #typeahead-input-help[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-weight:600;font-style:normal;margin-inline-end:.2rem}#typeahead-container[_ngcontent-%COMP%]{font-size:14px}#typeahead-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{display:none}@media screen and (min-width: 500px){#typeahead-container[_ngcontent-%COMP%]:focus-within > div[_ngcontent-%COMP%]:last-child{display:initial!important}}#typeahead-container[_ngcontent-%COMP%]:focus-within > div[_ngcontent-%COMP%]:last-child   #typeahead-suggestion-help[_ngcontent-%COMP%], #typeahead-container[_ngcontent-%COMP%]:focus-within > div[_ngcontent-%COMP%]:last-child   #typeahead-input-help[_ngcontent-%COMP%], #typeahead-container[_ngcontent-%COMP%]:focus-within > div[_ngcontent-%COMP%]:last-child   .suggestion[_ngcontent-%COMP%]{box-shadow:#0003 0 10px 20px -5px}#typeahead-container[_ngcontent-%COMP%]:focus-within   input[_ngcontent-%COMP%]{box-shadow:#0003 0 1px 20px;border-end-start-radius:0;border-end-end-radius:0}@media screen and (min-width: 1000px){#typeahead-container[_ngcontent-%COMP%]:focus-within   input[_ngcontent-%COMP%]{width:500px}}my-suggestion[_ngcontent-%COMP%]{width:100%}
/*# sourceMappingURL=search-typeahead.component-PEH7TBWY.css.map */`]}));let o=e;return o;})();var td=["languageChooserModal"],nd=["quickSettingsModal"],id=["dropdown"],od=o=>({"search-hidden":o}),rd=o=>["/a",o];function sd(o,e){if(o&1){let t=k();d(0,"div",20)(1,"div",21),R(2,5),u(),d(3,"a",22),w("click",function(){S(t);let i=g();return b(i.onOpenClientClick());}),I(4,"Open"),u(),d(5,"button",23),w("click",function(){S(t);let i=g();return b(i.hideMobileMsg());}),v(6,"my-global-icon",24),u()();}if(o&2){let t=g();m(3),p("href",t.androidAppUrl||t.iosAppUrl,ft);}}function ad(o,e){if(o&1&&v(0,"my-search-typeahead",25),o&2){let t=g();p("hidden",!t.isLoaded());}}function ld(o,e){if(o&1&&(d(0,"a",30),v(1,"my-signup-label",31),u()),o&2){let t=g(2);m(),p("requiresApproval",t.requiresApproval);}}function cd(o,e){if(o&1){let t=k();d(0,"my-button",26),w("click",function(){S(t);let i=g();return b(i.openQuickSettings());}),u(),C(1,ld,2,1,"a",27),v(2,"my-login-link",28)(3,"my-login-link",29);}if(o&2){let t=g();m(),p("ngIf",t.isRegistrationAllowed());}}function dd(o,e){if(o&1&&(d(0,"a",50,3),v(2,"my-global-icon",51),be(3),R(4,8),Ee(),u()),o&2){let t=g(2);p("routerLink",B(1,rd,t.user.account.nameWithHost));}}function ud(o,e){o&1&&(d(0,"a",52,4),v(2,"my-global-icon",53),be(3),R(4,9),Ee(),u());}function md(o,e){if(o&1){let t=k();d(0,"button",48),w("click",function(){S(t);let i=g(2);return b(i.openHotkeysCheatSheet());}),v(1,"my-global-icon",54),be(2),R(3,10),Ee(),u();}}function pd(o,e){if(o&1){let t=k();v(0,"my-notification-dropdown",32)(1,"my-button",33),d(2,"div",34,2)(4,"button",35),v(5,"my-actor-avatar",36),d(6,"div",37)(7,"div",38),I(8),u(),d(9,"div",39),I(10),u()()(),d(11,"div",40),C(12,dd,5,3,"a",41),v(13,"div",42),C(14,ud,5,0,"a",43),v(15,"div",42),d(16,"button",44),w("click",function(){S(t);let i=g();return b(i.openLanguageChooser());}),v(17,"my-global-icon",45),d(18,"span"),R(19,6),u(),d(20,"span",46),I(21),u()(),C(22,md,4,0,"button",47),d(23,"button",48),w("click",function(i){S(t);let r=g();return b(r.logout(i));}),v(24,"my-global-icon",49),be(25),R(26,7),Ee(),u()()();}if(o&2){let t=g();m(5),p("actor",t.user.account),m(3),F(t.user.account==null?null:t.user.account.displayName),m(2),Re("@",t.user.username,""),m(2),p("ngIf",t.user.account),m(2),p("ngIf",t.user.account),m(7),F(t.currentInterfaceLanguage),m(),p("ngIf",!t.isInMobileView);}}var Oa=(()=>{let e=class e{authService=h(ae);serverService=h(ye);redirectService=h(Ue);hotkeysService=h(Nt);screenService=h(It);modalService=h(Xr);router=h(_e);menu=h(xt);headerService=h(Ur);languageChooserModal=q("languageChooserModal");quickSettingsModal=q("quickSettingsModal");dropdown=q("dropdown");user;loggedIn;hotkeysHelpVisible=!1;currentInterfaceLanguage;mobileMsg=!1;androidAppUrl="";iosAppUrl="";searchHidden=!1;config;htmlConfig;quickSettingsModalSub;getSearchHiddenSub;hotkeysSub;authSub;get language(){return this.languageChooserModal().getCurrentLanguage();}get requiresApproval(){return this.config.signup.requiresApproval;}get instanceName(){return this.serverService.getHTMLConfig().instance.name;}isLoaded(){return this.config&&(!this.loggedIn||!!this.user?.account);}isInMobileView(){return this.screenService.isInMobileView();}isInSmallView(){return this.screenService.isInSmallView();}ngOnInit(){this.htmlConfig=this.serverService.getHTMLConfig(),this.currentInterfaceLanguage=this.languageChooserModal().getCurrentLanguage(),this.loggedIn=this.authService.isLoggedIn(),this.updateUserState(),this.authSub=this.authService.loginChangedSource.subscribe(n=>{n===He.LoggedIn?this.loggedIn=!0:n===He.LoggedOut&&(this.loggedIn=!1),this.updateUserState();}),this.hotkeysSub=this.hotkeysService.cheatSheetToggle.subscribe(n=>this.hotkeysHelpVisible=n),this.serverService.getConfig().subscribe(n=>this.config=n),this.quickSettingsModalSub=this.modalService.openQuickSettingsSubject.subscribe(()=>this.openQuickSettings()),this.getSearchHiddenSub=this.headerService.getSearchHiddenObs().subscribe(n=>{n?document.body.classList.add("global-search-hidden"):document.body.classList.remove("global-search-hidden"),this.searchHidden=n;}),this.setupMobileMsg();}ngOnDestroy(){this.quickSettingsModalSub&&this.quickSettingsModalSub.unsubscribe(),this.hotkeysSub&&this.hotkeysSub.unsubscribe(),this.authSub&&this.authSub.unsubscribe(),this.getSearchHiddenSub&&this.getSearchHiddenSub.unsubscribe();}getDefaultRoute(){return this.redirectService.getDefaultRoute();}getDefaultRouteQuery(){return this.redirectService.getDefaultRouteQuery();}setupMobileMsg(){if(!this.isInMobileView()||zt.getItem(e.LS_HIDE_MOBILE_MSG)==="true"||!Bt()&&!ts())return;this.mobileMsg=!0,document.body.classList.add("mobile-app-msg");let n=window.location.host,i=this.htmlConfig.client.openInApp.android.intent,r=this.htmlConfig.client.openInApp.ios,s=l=>{let c=l.match(/^\/w\/([^/?;]+)/);if(c)return c[1];},a=l=>{let c=l.match(/^\/c\/([^/?;]+)/);if(c)return c[1];};this.router.events.subscribe(l=>{if(!(l instanceof Cn))return;let c=l.url,_=`intent://${i.host}`,y=`#Intent;scheme=${i.scheme};S.browser_fallback_url=${i.fallbackUrl};end`,O=`peertube://${r.host}`,M=s(c),T=a(c);if(M){Bt()?this.androidAppUrl=`${_}/video/${M}?host=${n}${y}`:this.iosAppUrl=`${O}/video/${M}?host=${n}`;return;}if(T){Bt()?this.androidAppUrl=`${_}/video-channel/${T}?host=${n}${y}`:this.iosAppUrl=`${O}/video/${M}?host=${n}`;return;}Bt()?this.androidAppUrl=`${_}/?host=${n}${y}`:this.iosAppUrl=`${O}/?host=${n}`;});}hideMobileMsg(){this.mobileMsg=!1,document.body.classList.remove("mobile-app-msg"),zt.setItem(e.LS_HIDE_MOBILE_MSG,"true");}onOpenClientClick(){es()&&setTimeout(()=>{window.location.href=this.htmlConfig.client.openInApp.ios.fallbackUrl;},2500);}isRegistrationAllowed(){return this.config?this.config.signup.allowed&&this.config.signup.allowedForCurrentIP:!1;}logout(n){n.preventDefault(),this.authService.logout(),this.redirectService.redirectToHomepage();}openLanguageChooser(){this.languageChooserModal().show();}openQuickSettings(){this.quickSettingsModal().show();}openHotkeysCheatSheet(){this.hotkeysService.cheatSheetToggle.next(!this.hotkeysHelpVisible);}toggleMenu(){this.menu.toggleMenu();}updateUserState(){this.user=this.loggedIn?this.authService.getUser():void 0;}};f(e,"LS_HIDE_MOBILE_MSG","hide-mobile-msg"),f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-header"]],viewQuery:function(i,r){i&1&&(G(r.languageChooserModal,td,5),G(r.quickSettingsModal,nd,5),G(r.dropdown,id,5)),i&2&&te(3);},decls:15,vars:10,consts:()=>{let n;n="Close this message";let i;i="Open in the application?";let r;r="Open settings modal";let s;s="Go to the manage your account page";let a;a="Interface:";let l;l="Log out";let c;c="Public profile";let _;_="Manage my account";let y;return y="Keyboard shortcuts",[["languageChooserModal",""],["quickSettingsModal",""],["dropdown","ngbDropdown"],["profile",""],["manageAccount",""],i,a,l,c,_,y,["class","mobile-msg",4,"ngIf"],[1,"root",3,"ngClass"],[1,"peertube-title",3,"routerLink","queryParams"],[1,"icon-logo"],[1,"instance-name"],[3,"hidden",4,"ngIf"],[1,"d-flex","align-items-center","buttons-container",3,"hidden"],["theme","tertiary","rounded","true","icon","menu",1,"menu-button","margin-button",3,"click"],[3,"openLanguageModal"],[1,"mobile-msg"],[1,"msg","ellipsis","me-auto"],[1,"peertube-button-link","secondary-button","me-3",3,"click","href"],["title",n,1,"border-0","p-0",3,"click"],["iconName","cross"],[3,"hidden"],["title",r,"theme","tertiary","rounded","true","icon","cog",1,"margin-button","settings-button",3,"click"],["routerLink","/signup","class","peertube-button-link secondary-button w-100 ellipsis margin-button create-account-button",4,"ngIf"],["className","peertube-button-link primary-button w-100 ellipsis",1,"login-label"],["className","peertube-button-link primary-button icon-only w-100 ellipsis","icon","true","label","",1,"login-icon"],["routerLink","/signup",1,"peertube-button-link","secondary-button","w-100","ellipsis","margin-button","create-account-button"],[3,"requiresApproval"],[1,"margin-button"],["title",s,"theme","tertiary","rounded","true","icon","cog","ptRouterLink","/my-account",1,"margin-button","settings-button"],["ngbDropdown","","placement","bottom-left auto","container","body",1,"logged-in-container"],["ngbDropdownToggle","",1,"tertiary-button"],["actorType","account","size","34","responseSize","true",3,"actor"],[1,"logged-in-info","text-start","ms-2"],[1,"display-name","ellipsis"],[1,"username","ellipsis","fs-8"],["ngbDropdownMenu",""],["ngbDropdownItem","","class","dropdown-item",3,"routerLink",4,"ngIf"],[1,"dropdown-divider"],["ngbDropdownItem","","class","dropdown-item","routerLink","/my-account",4,"ngIf"],["myPluginSelector","","pluginSelectorId","menu-user-dropdown-language-item","ngbDropdownItem","",1,"dropdown-item",3,"click"],["iconName","language","aria-hidden","true"],[1,"ms-auto","ps-2","muted"],["ngbDropdownItem","","class","dropdown-item",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"dropdown-item",3,"click"],["iconName","sign-out","aria-hidden","true"],["ngbDropdownItem","",1,"dropdown-item",3,"routerLink"],["iconName","user","aria-hidden","true"],["ngbDropdownItem","","routerLink","/my-account",1,"dropdown-item"],["iconName","cog","aria-hidden","true"],["iconName","keyboard","aria-hidden","true"]];},template:function(i,r){if(i&1){let s=k();C(0,sd,7,1,"div",11),d(1,"div",12)(2,"a",13),v(3,"span",14),d(4,"span",15),I(5),u()(),C(6,ad,1,1,"my-search-typeahead",16),d(7,"div",17),C(8,cd,4,1)(9,pd,27,7),u(),d(10,"my-button",18),w("click",function(){return S(s),b(r.toggleMenu());}),u()(),v(11,"my-language-chooser",null,0),d(13,"my-quick-settings",19,1),w("openLanguageModal",function(){S(s);let l=W(12);return b(l.show());}),u();}i&2&&(p("ngIf",r.mobileMsg),m(),p("ngClass",B(8,od,r.searchHidden)),m(),p("routerLink",r.getDefaultRoute())("queryParams",r.getDefaultRouteQuery()),m(3),F(r.instanceName),m(),p("ngIf",!r.searchHidden),m(),p("hidden",!r.isLoaded()),m(),se(r.loggedIn?9:8));},dependencies:[fe,pe,j,ba,Wr,Yr,Jr,Zr,Ea,Ma,K,Et,Pt,On,Pn,wn,hr,fr,Pa,kt],styles:[`.mobile-msg[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1.5rem;height:48px;background:var(--bg-secondary-400)}.mobile-msg[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{color:var(--fg-300);font-weight:700;font-size:.875rem}.mobile-msg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{color:var(--fg-200)}.root[_ngcontent-%COMP%]{--co-logo-size: 34px;--co-root-padding: 1.5rem;background-color:var(--bg);padding:var(--co-root-padding);width:100%;display:flex;align-items:center}.peertube-title[_ngcontent-%COMP%]{flex-shrink:1;min-width:var(--co-logo-size);flex-grow:0;font-size:24px;font-weight:700;color:inherit!important;display:flex;align-items:center;min-height:46px;padding-inline-start:1.125rem;padding-inline-end:.5rem;margin-inline-end:auto}.peertube-title[_ngcontent-%COMP%], .peertube-title[_ngcontent-%COMP%]:hover, .peertube-title[_ngcontent-%COMP%]:focus, .peertube-title[_ngcontent-%COMP%]:active{text-decoration:none}.peertube-title[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.instance-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-inline-start:.625rem}.icon-logo[_ngcontent-%COMP%]{display:inline-block;width:var(--co-logo-size);height:var(--co-logo-size);min-width:var(--co-logo-size);max-width:var(--co-logo-size);background-repeat:no-repeat;background-size:contain}my-search-typeahead[_ngcontent-%COMP%]{max-width:270px;width:100%;margin-inline-end:calc(1.275rem + .3vw)}@media screen and (min-width: 1200px){my-search-typeahead[_ngcontent-%COMP%]{max-width:310px}}@media screen and (min-width: 1600px){my-search-typeahead[_ngcontent-%COMP%]{max-width:350px}}@media (min-width: 1200px){my-search-typeahead[_ngcontent-%COMP%]{margin-inline-end:1.5rem}}.margin-button[_ngcontent-%COMP%]{margin-inline-end:.75rem}.menu-button[_ngcontent-%COMP%]{display:none;justify-self:end}.dropdown[_ngcontent-%COMP%]{z-index:1!important}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;padding:var(--input-y-padding) 15px}.dropdown-item[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;position:relative;top:-2px;margin-inline-end:.625rem}.dropdown-item[_ngcontent-%COMP%]:hover   .hover-display-toggle[_ngcontent-%COMP%]{display:none}.dropdown-item[_ngcontent-%COMP%]:hover   .hover-display-toggle[hidden][_ngcontent-%COMP%]{display:inherit!important}.logged-in-container[_ngcontent-%COMP%]{border-radius:25px;transition:all .1s ease-in-out;cursor:pointer;max-width:250px;height:100%}.logged-in-container[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{font-weight:700;color:var(--fg)}.logged-in-container[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:var(--fg-300)}.logged-in-container[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:6px}.logged-in-container[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]:after{border:0}my-actor-avatar[_ngcontent-%COMP%]{width:34px;height:34px}.login-icon[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 1200px){.peertube-title[_ngcontent-%COMP%]{padding-inline-start:0}.icon-logo[_ngcontent-%COMP%]{margin-inline-start:0}}@media screen and (max-width: 800px){.root[_ngcontent-%COMP%]{--co-root-padding: 1rem}my-search-typeahead[_ngcontent-%COMP%]{margin-inline-end:.5rem}.margin-button[theme=tertiary][_ngcontent-%COMP%]{margin-inline-end:.3125rem}my-actor-avatar[_ngcontent-%COMP%]{width:24px;height:24px}.dropdown-toggle[_ngcontent-%COMP%]{padding:var(--input-y-padding) var(--input-x-padding);font-weight:700;border-radius:var(--input-border-radius);text-align:center;cursor:pointer;font-size:1rem;line-height:1.5;padding:.5rem!important;border-radius:100%!important}.dropdown-toggle[_ngcontent-%COMP%]:not(.icon-only)   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]:not(:empty){margin-inline-start:.5rem}.dropdown-toggle.icon-only[_ngcontent-%COMP%]{padding:var(--input-y-padding) 8px}.dropdown-toggle[_ngcontent-%COMP%]:is(input[type=button]){border-radius:var(--input-border-radius)!important}.dropdown-toggle.small-button[_ngcontent-%COMP%]{padding:6px!important;line-height:0!important}.dropdown-toggle.small-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{line-height:0;display:inline-block;width:12px;height:12px;line-height:12px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.logged-in-info[_ngcontent-%COMP%]{display:none}.login-icon[_ngcontent-%COMP%]{display:inline-block}.login-label[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 500px){.root[_ngcontent-%COMP%]{--co-logo-size: 48px;display:grid;grid-template-columns:auto minmax(0,1fr) auto;row-gap:.5rem;justify-content:space-between}.root[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-row:1}.buttons-container[_ngcontent-%COMP%]{margin:0 auto;max-width:100%}.menu-button[_ngcontent-%COMP%]{display:block;position:relative;right:-10px}my-search-typeahead[_ngcontent-%COMP%]{grid-row:2!important;grid-column:1/4;max-width:100%;margin-inline-end:0}.peertube-title[_ngcontent-%COMP%]{margin-inline-end:.3125rem}.instance-name[_ngcontent-%COMP%]{display:none}}
/*# sourceMappingURL=header.component-6EJKRNDF.css.map */`]}));let o=e;return o;})();var gd=o=>({in:o});function hd(o,e){if(o&1&&(d(0,"span"),I(1),u()),o&2){let t=e.$implicit;m(),F(t);}}function fd(o,e){if(o&1&&(d(0,"li")(1,"div",8),C(2,hd,2,1,"span",6),u(),d(3,"div",9),I(4),u()()),o&2){let t=e.$implicit;m(2),p("ngForOf",t.formatted),m(2),F(t.description);}}var Aa=(()=>{let e=class e{hotkeysService=h(Nt);localStorage=h(Dn);title=ht("Keyboard Shortcuts");hotkeysModalStateChange=gt();hotkeysEnabled=!0;helpVisible=!1;subscription;hotkeys;localStorageHotkeysDisabledKey="peertube-hotkeys-disabled";ngOnInit(){this.localStorage.getItem(this.localStorageHotkeysDisabledKey)==="true"&&(this.hotkeysEnabled=!1,this.hotkeysService.disableHotkeys()),this.subscription=this.hotkeysService.cheatSheetToggle.subscribe(n=>{n!==!1&&(this.hotkeys=this.hotkeysService.getHotkeys().filter(i=>i.description)),n===!1?this.helpVisible=!1:this.toggleHelpVisible(),this.hotkeysModalStateChange.emit(this.helpVisible);});}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe();}toggleCheatSheet(){this.hotkeysService.cheatSheetToggle.next(!this.helpVisible);}toggleHelpVisible(){this.helpVisible=!this.helpVisible;}onHotkeysEnabledChange(){if(!this.hotkeysEnabled){this.localStorage.setItem(this.localStorageHotkeysDisabledKey,"true"),this.hotkeysService.disableHotkeys();return;}this.hotkeysService.enableHotkeys(),this.localStorage.removeItem(this.localStorageHotkeysDisabledKey);}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-hotkeys-cheat-sheet"]],inputs:{title:[1,"title"]},outputs:{hotkeysModalStateChange:"hotkeysModalStateChange"},decls:10,vars:6,consts:()=>{let n;return n="Enable hotkeys in this web browser",[[1,"cfp-hotkeys-container","fade",3,"ngClass"],[1,"cfp-hotkeys"],[1,"cfp-hotkeys-title"],[1,"d-flex","justify-content-center","m-3"],["inputName","enable-hotkeys","labelText",n,3,"ngModelChange","ngModel"],["role","presentation"],[4,"ngFor","ngForOf"],[1,"button-unstyle","cfp-hotkeys-close",3,"click"],[1,"cfp-hotkeys-keys"],[1,"cfp-hotkeys-text"]];},template:function(i,r){i&1&&(d(0,"div",0)(1,"div",1)(2,"h1",2),I(3),u(),d(4,"div",3)(5,"my-peertube-checkbox",4),Ze("ngModelChange",function(a){return Ye(r.hotkeysEnabled,a)||(r.hotkeysEnabled=a),a;}),w("ngModelChange",function(){return r.onHotkeysEnabledChange();}),u()(),d(6,"ul",5),C(7,fd,5,2,"li",6),u(),d(8,"button",7),w("click",function(){return r.toggleCheatSheet();}),I(9,"\xD7"),u()()()),i&2&&(p("ngClass",B(4,gd,r.helpVisible)),m(3),F(r.title()),m(2),Xe("ngModel",r.hotkeysEnabled),m(2),p("ngForOf",r.hotkeys));},dependencies:[pe,Qr,wt,Mt,Tt,Ne],styles:[`.cfp-hotkeys-container[_ngcontent-%COMP%]{display:flex!important;align-items:center;position:fixed;overflow:auto;width:100%;height:100%;top:0;left:0;color:var(--fg);font-size:1em;background-color:var(--bg)}.cfp-hotkeys-container.fade[_ngcontent-%COMP%]{z-index:-1024;visibility:hidden;opacity:0;transition:opacity .15s linear}.cfp-hotkeys-container.fade.in[_ngcontent-%COMP%]{z-index:19000;visibility:visible;opacity:1}.cfp-hotkeys-title[_ngcontent-%COMP%]{font-weight:700;text-align:center;font-size:1.2em}.cfp-hotkeys[_ngcontent-%COMP%]{width:100%;max-height:100%}.cfp-hotkeys[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:auto;width:fit-content;list-style:none;color:var(--fg)}.cfp-hotkeys-keys[_ngcontent-%COMP%], .cfp-hotkeys-text[_ngcontent-%COMP%]{display:inline-block}.cfp-hotkeys-keys[_ngcontent-%COMP%]{padding:5px;min-width:90px}.cfp-hotkeys-keys[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;color:var(--bg);background-color:var(--fg);border:1px solid var(--fg);border-radius:5px;text-align:center;box-shadow:inset 0 1px #666,0 1px #bbb;padding:5px 9px;font-size:1em;margin-inline-end:.3125rem}.cfp-hotkeys-text[_ngcontent-%COMP%]{font-size:1em;padding-inline-start:.625rem}.cfp-hotkeys-close[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;font-size:2em;font-weight:700;padding:5px 10px;border:1px solid #ddd;border-radius:5px;min-height:45px;min-width:45px;text-align:center}.cfp-hotkeys-close[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.8}@media all and (max-width: 500px){.cfp-hotkeys[_ngcontent-%COMP%]{font-size:.8em}}@media all and (min-width: 750px){.cfp-hotkeys[_ngcontent-%COMP%]{font-size:1.2em}}
/*# sourceMappingURL=hotkeys-cheat-sheet.component-7GC7IKPD.css.map */`]}));let o=e;return o;})();var Ia=fo(Ir());var _d=(o,e)=>({collapsed:o,"logged-in":e}),yd=o=>({"menu-collapsed":o}),Cd=(o,e)=>({"icon-only":o,"label-xl":e}),en=o=>({"visually-hidden":o}),vd=o=>[o,"menu-block"];function Sd(o,e){if(o&1&&I(0),o&2){let t=g(2);Re(" ",t.moreInfoLabel," ");}}function bd(o,e){if(o&1&&(d(0,"div",20)(1,"a",21),v(2,"my-global-icon",22),C(3,Sd,1,1),u()()),o&2){let t=g();m(),p("ngClass",Je(2,Cd,t.collapsed,t.moreInfoLabel.length>10)),m(2),se(t.collapsed?-1:3);}}function Ed(o,e){if(o&1){let t=k();d(0,"button",23),w("click",function(){S(t);let i=g();return b(i.toggleMenu());}),v(1,"my-global-icon",24),u();}}function Md(o,e){if(o&1){let t=k();d(0,"button",25),w("click",function(){S(t);let i=g();return b(i.toggleMenu());}),v(1,"my-global-icon",26),u();}}function Td(o,e){o&1&&me(0);}function wd(o,e){if(o&1&&(d(0,"div",27)(1,"div",28),R(2,2),u(),d(3,"div",29),I(4),u(),C(5,Td,1,0,"ng-container",30),u()),o&2){let t=g(),n=W(1);m(),p("ngClass",B(5,en,t.collapsed)),m(),yt(t.instanceName),Ct(2),m(),p("ngClass",B(7,en,t.collapsed)),m(),F(t.shortDescription),m(),p("ngTemplateOutlet",n);}}function Pd(o,e){if(o&1&&I(0),o&2){let t=g(2).$implicit;Re(" ",t.label," ");}}function Od(o,e){if(o&1&&(d(0,"my-button",34),C(1,Pd,1,1),u()),o&2){let t=g().$implicit,n=g(2);p("ngClass",t.ngClass)("icon",t.icon)("title",t.label)("ptRouterLink",t.path)("ptQueryParams",t.query)("href",t.url),m(),se(n.collapsed?-1:1);}}function Ad(o,e){if(o&1&&v(0,"my-global-icon",39),o&2){let t=g(3).$implicit;p("iconName",t.icon)("ngClass",t.iconClass);}}function Nd(o,e){if(o&1&&(C(0,Ad,1,2,"my-global-icon",37),d(1,"span",38),I(2),u()),o&2){let t=g(2).$implicit,n=g(2);p("ngIf",t.icon),m(),p("ngClass",B(3,en,n.collapsed)),m(),F(t.label);}}function Id(o,e){o&1&&me(0);}function xd(o,e){if(o&1&&(d(0,"a",35),C(1,Id,1,0,"ng-container",30),u()),o&2){g();let t=W(1),n=g().$implicit;p("routerLink",n.path)("queryParams",n.query)("ngClass",n.ngClass)("title",n.label),m(),p("ngTemplateOutlet",t);}}function kd(o,e){o&1&&me(0);}function Rd(o,e){if(o&1&&(d(0,"a",36),C(1,kd,1,0,"ng-container",30),u()),o&2){g();let t=W(1),n=g().$implicit;p("href",n.url,ft)("ngClass",n.ngClass)("title",n.label),m(),p("ngTemplateOutlet",t);}}function Dd(o,e){if(o&1&&C(0,Nd,3,5,"ng-template",null,1,ne)(2,xd,2,5,"a",35)(3,Rd,2,4,"a",36),o&2){let t=g().$implicit;m(2),se(t.path?2:3);}}function Ld(o,e){if(o&1&&(d(0,"li"),C(1,Od,2,7,"my-button",34)(2,Dd,4,1),u()),o&2){let t=e.$implicit;m(),se(t.isPrimaryButton===!0?1:2);}}function $d(o,e){if(o&1&&(be(0),d(1,"ul",31)(2,"li")(3,"div",32),I(4),u(),d(5,"ul",33),C(6,Ld,3,1,"li",16),u()()(),Ee()),o&2){let t=e.$implicit,n=g();m(),p("ngClass",B(4,vd,t.key)),m(2),p("ngClass",B(6,en,n.collapsed)),m(),F(t.title),m(2),p("ngForOf",t.links);}}function Fd(o,e){o&1&&me(0);}function Vd(o,e){if(o&1&&(d(0,"div",40)(1,"div",41),I(2),u(),C(3,Fd,1,0,"ng-container",30),u()),o&2){let t=g(),n=W(1);m(),p("ngClass",B(3,en,t.collapsed)),m(),F(t.instanceName),m(),p("ngTemplateOutlet",n);}}function Hd(o,e){o&1&&(d(0,"div",42)(1,"div",43),wo(2,3),v(3,"a",44),Po(),u(),d(4,"a",45),R(5,4),u()());}var Na=(0,Ia.default)("peertube:menu:MenuComponent"),xa=(()=>{let e=class e{authService=h(ae);userService=h(Vn);serverService=h(ye);hooks=h(Fn);menu=h(xt);redirectService=h(Ue);menuSections=[];loggedIn;moreInfoLabel="More info";user;canSeeVideoMakerBlock;authSub;get shortDescription(){return this.serverService.getHTMLConfig().instance.shortDescription;}get instanceName(){return this.serverService.getHTMLConfig().instance.name;}get collapsed(){return this.menu.isCollapsed();}get isOverlay(){return this.menu.isCollapsed();}ngOnInit(){this.loggedIn=this.authService.isLoggedIn(),this.onUserStateChange(),this.authSub=this.authService.loginChangedSource.subscribe(n=>{n===He.LoggedIn?this.loggedIn=!0:n===He.LoggedOut&&(this.loggedIn=!1),this.onUserStateChange();});}ngOnDestroy(){this.authSub&&this.authSub.unsubscribe();}toggleMenu(){this.menu.toggleMenu();}buildMenuSections(){return lt(this,null,function*(){this.menuSections=[];for(let n of[this.buildQuickLinks(),this.buildLibraryLinks(),this.buildVideoMakerLinks(),this.buildAdminLinks()])n.links.length!==0&&this.menuSections.push(n);this.menuSections=yield this.hooks.wrapObject(this.menuSections,"common","filter:left-menu.links.create.result");});}buildQuickLinks(){let n={key:"quick-access",title:"Quick access",links:[{path:this.redirectService.getDefaultRoute(),query:this.redirectService.getDefaultRouteQuery(),icon:"home",label:"Home"}]};return this.loggedIn&&n.links.push({path:"/videos/subscriptions",icon:"subscriptions",label:"Subscriptions"}),n;}buildLibraryLinks(){let n=[];return this.loggedIn&&(n=n.concat([{path:"/my-library/video-playlists",icon:"playlists",label:"Playlists"},{path:"/my-library/history/videos",icon:"history",label:"History"}])),{key:"my-library",title:"My library",links:n};}buildVideoMakerLinks(){let n=[];return this.loggedIn&&this.canSeeVideoMakerBlock&&(n=n.concat([{path:"/my-library/video-channels",icon:"channel",iconClass:"channel-icon",label:"Channels"},{path:"/my-library/videos",icon:"videos",label:"Videos"},{path:"/videos/publish",icon:"upload",label:"Publish",isPrimaryButton:!0,ngClass:"publish-button"}])),{key:"my-video-space",title:"My video space",links:n};}buildAdminLinks(){let n=[];return this.loggedIn&&(this.user.hasRight(En.SEE_ALL_VIDEOS)&&n.push({path:"/admin/overview",icon:"overview",label:"Overview"}),this.user.hasRight(En.MANAGE_ABUSES)&&n.push({path:"/admin/moderation",icon:"moderation",label:"Moderation"}),this.user.hasRight(En.MANAGE_CONFIGURATION)&&n.push({path:"/admin/settings",icon:"config",label:"Settings"})),{key:"admin",title:"Administration",links:n};}computeCanSeeVideoMakerBlock(){return this.loggedIn?this.user.hasUploadDisabled()?this.authService.userInformationLoaded.pipe(Fe(),Se(()=>this.userService.getMyVideoQuotaUsed()),ve(({videoQuotaUsed:n})=>n!==0)):Ae(!0):Ae(!1);}onUserStateChange(){this.user=this.loggedIn?this.authService.getUser():void 0,this.computeCanSeeVideoMakerBlock().subscribe(n=>{this.canSeeVideoMakerBlock=n,this.canSeeVideoMakerBlock?Na("User can see videos link."):Na("User cannot see videos link."),this.buildMenuSections();});}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-menu"]],decls:18,vars:12,consts:()=>{let n;n="Display the lateral menu";let i;i="Hide the lateral menu";let r;r="More info";let s;s=""+"\uFFFD0\uFFFD"+"";let a;a=" Platform powered by "+"\uFFFD#3\uFFFD"+"PeerTube"+"\uFFFD/#3\uFFFD"+"";let l;return l="Discover more platforms",[["moreInfoButton",""],["linkTemplate",""],s,a,l,[1,"menu-container",3,"ngClass"],[1,"main-menu-wrapper"],[1,"main-menu-scrollbar"],[1,"main-menu"],[1,"mobile-controls"],[1,"icon-logo"],["rounded","true","icon","cross","theme","tertiary",3,"click"],[1,"toggle-menu-container"],["type","button","title",n,1,"button-unstyle","toggle-menu"],["type","button","title",i,1,"button-unstyle","toggle-menu"],["class","about about-top",4,"ngIf"],[4,"ngFor","ngForOf"],["class","about",4,"ngIf"],["class","mt-3 mx-4",4,"ngIf"],[1,"menu-overlay",3,"click","ngClass"],[1,"more-info-btn-container"],["routerLink","/about","title",r,"routerLinkActive","active",1,"more-info-btn","peertube-button-link","peertube-button-icon","mt-2","d-block","ellipsis",3,"ngClass"],["iconName","help"],["type","button","title",n,1,"button-unstyle","toggle-menu",3,"click"],["iconName","chevron-left",1,"transform-rotate-180"],["type","button","title",i,1,"button-unstyle","toggle-menu",3,"click"],["iconName","chevron-left"],[1,"about","about-top"],[1,"block-title","me-2",3,"ngClass"],[1,"description",3,"ngClass"],[4,"ngTemplateOutlet"],[1,"ul-unstyle",3,"ngClass"],[1,"block-title","ellipsis",3,"ngClass"],[1,"ul-unstyle"],["theme","primary","autoFontSize","true",1,"d-block","menu-button",3,"ngClass","icon","title","ptRouterLink","ptQueryParams","href"],["routerLinkActive","active",1,"menu-link","ellipsis",3,"routerLink","queryParams","ngClass","title"],["target","_blank",1,"menu-link","ellipsis",3,"href","ngClass","title"],["aria-hidden","true",3,"iconName","ngClass",4,"ngIf"],[3,"ngClass"],["aria-hidden","true",3,"iconName","ngClass"],[1,"about"],[1,"block-title",3,"ngClass"],[1,"mt-3","mx-4"],[1,"fs-8"],["href","https://joinpeertube.org","target","_blank","rel","noopener noreferrer",1,"fw-bold"],["href","https://joinpeertube.org/instances","target","_blank","rel","noopener noreferrer",1,"d-block","fs-8","fw-bold"]];},template:function(i,r){if(i&1){let s=k();C(0,bd,4,5,"ng-template",null,0,ne),d(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9),v(7,"span",10),d(8,"my-button",11),w("click",function(){return S(s),b(r.toggleMenu());}),u()(),d(9,"div",12),C(10,Ed,2,0,"button",13)(11,Md,2,0,"button",14),u(),C(12,wd,6,9,"div",15),d(13,"nav"),C(14,$d,7,8,"ng-container",16),u(),C(15,Vd,4,5,"div",17),u()()(),C(16,Hd,6,0,"div",18),u(),d(17,"div",19),w("click",function(){return S(s),b(r.toggleMenu());}),u();}i&2&&(m(2),p("ngClass",Je(7,_d,r.collapsed,r.loggedIn)),m(8),se(r.collapsed?10:11),m(2),p("ngIf",!r.loggedIn),m(2),p("ngForOf",r.menuSections),m(),p("ngIf",r.loggedIn),m(),p("ngIf",!r.collapsed),m(),p("ngClass",B(10,yd,r.collapsed)));},dependencies:[fe,pe,Ne,j,St,K,Et,Sn,Pt,kt],styles:[`.menu-container[_ngcontent-%COMP%]{--co-menu-x-padding: 1.5rem;z-index:12600;width:calc(248px - 2rem);position:fixed;height:calc(100vh - var(--header-height));margin-inline-start:var(--menu-margin-left)}.menu-container.collapsed[_ngcontent-%COMP%]{--co-menu-x-padding: .25rem;width:auto;margin-inline-start:0}.toggle-menu[_ngcontent-%COMP%]{color:var(--menu-fg-300);width:24px;height:24px;border-radius:100%;background-color:var(--menu-bg-550)}.toggle-menu[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;top:0;right:1px;display:inline-block;width:20px;height:20px;line-height:20px}.toggle-menu[_ngcontent-%COMP%]:not(.icon-only)   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:0}.toggle-menu[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{margin:auto}.toggle-menu[_ngcontent-%COMP%]:hover{opacity:.8}.menu-container[_ngcontent-%COMP%]:not(.collapsed)   .toggle-menu[_ngcontent-%COMP%]{position:absolute;top:22px}@supports (inset-inline-end: 24px){.menu-container[_ngcontent-%COMP%]:not(.collapsed)   .toggle-menu[_ngcontent-%COMP%]{inset-inline-end:24px}}@supports not (inset-inline-end: 24px){.menu-container[_ngcontent-%COMP%]:not(.collapsed)   .toggle-menu[_ngcontent-%COMP%]{right:24px}}.collapsed[_ngcontent-%COMP%]   .toggle-menu[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{right:-1px;top:0}.main-menu-wrapper[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;max-height:calc(100% - 75px)}.main-menu-scrollbar[_ngcontent-%COMP%]{overflow-y:auto;scrollbar-color:transparent transparent;scrollbar-width:thin;max-height:100%}.main-menu-scrollbar[_ngcontent-%COMP%]:focus, .main-menu-scrollbar[_ngcontent-%COMP%]:hover{scrollbar-color:auto}@media not all and (hover: hover) and (pointer: fine){.main-menu-scrollbar[_ngcontent-%COMP%]{border-radius:0;scrollbar-color:auto}}.main-menu[_ngcontent-%COMP%]{position:relative;padding-top:1.5rem;padding-bottom:1.5rem;border-radius:14px;background-color:var(--menu-bg)}.menu-link[_ngcontent-%COMP%], .menu-button[_ngcontent-%COMP%], .block-title[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], .about[_ngcontent-%COMP%]   .more-info-btn-container[_ngcontent-%COMP%]{padding-inline-start:var(--co-menu-x-padding);padding-inline-end:var(--co-menu-x-padding)}.menu-block[_ngcontent-%COMP%]:not(:last-child):after, .logged-in[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]:after, .collapsed[_ngcontent-%COMP%]   .toggle-menu-container[_ngcontent-%COMP%]:after, .about-top[_ngcontent-%COMP%]:after{content:"";display:block;height:2px;margin:1rem var(--co-menu-x-padding);background:var(--menu-bg-600)}.block-title[_ngcontent-%COMP%]{font-weight:700;color:var(--menu-fg-450);font-size:14px;margin-bottom:.5rem;max-width:180px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.menu-link[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:normal;word-break:break-word;transition:background-color .1s ease-in-out;width:100%;padding-top:.5rem;padding-bottom:.5rem}.menu-link[_ngcontent-%COMP%], .menu-link[_ngcontent-%COMP%]:hover, .menu-link[_ngcontent-%COMP%]:focus, .menu-link[_ngcontent-%COMP%]:active{text-decoration:none}.menu-link[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.menu-link[_ngcontent-%COMP%]:hover, .menu-link[_ngcontent-%COMP%]:focus-visible{opacity:1;background-color:var(--menu-bg-550)}.menu-link[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;height:22px;line-height:22px;position:relative;top:-1px}.menu-link[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]:not(.visually-hidden){margin-inline-start:.75rem}.menu-button[_ngcontent-%COMP%]{margin-top:.5rem}.about[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:14px;color:var(--menu-fg-300)}.more-info-btn[_ngcontent-%COMP%]{color:var(--menu-fg);background-color:transparent;border:1px solid var(--menu-bg-600)!important}.more-info-btn[_ngcontent-%COMP%]:active, .more-info-btn.active[_ngcontent-%COMP%], .more-info-btn[_ngcontent-%COMP%]:focus, .more-info-btn[_ngcontent-%COMP%]:focus-visible{color:var(--menu-fg);background-color:var(--menu-bg-600);border-color:var(--menu-bg-600)}.more-info-btn.btn[_ngcontent-%COMP%]:active, .more-info-btn.btn[_ngcontent-%COMP%]:focus-visible, .more-info-btn.btn.show[_ngcontent-%COMP%]{color:var(--menu-fg)!important;background-color:var(--menu-bg-600)!important;border-color:var(--menu-bg-600)!important}.more-info-btn[_ngcontent-%COMP%]:hover{color:var(--menu-fg);background-color:var(--menu-bg-550)}.more-info-btn[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.8}.more-info-btn[_ngcontent-%COMP%]:not(.icon-only)   my-global-icon[_ngcontent-%COMP%]{color:var(--secondary-icon-color)}.more-info-btn.label-xl[_ngcontent-%COMP%]{font-size:90%;padding:var(--input-y-padding) calc(var(--input-x-padding) / 2)!important}.more-info-btn[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%], .menu-link[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{color:var(--secondary-icon-color)}.more-info-btn.active[_ngcontent-%COMP%], .menu-link.active[_ngcontent-%COMP%]{font-weight:700}.more-info-btn.active[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%], .menu-link.active[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{color:var(--menu-fg-600)}.menu-link[_ngcontent-%COMP%]{color:var(--menu-fg)}.menu-link.active[_ngcontent-%COMP%]{background-color:var(--menu-bg-600)}.powered-by[_ngcontent-%COMP%]{color:var(--fg-200)}.collapsed[_ngcontent-%COMP%]   .menu-block[_ngcontent-%COMP%]:after, .collapsed[_ngcontent-%COMP%]   .toggle-menu-container[_ngcontent-%COMP%]:after, .collapsed[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]:after{width:28px;margin:1rem auto}.collapsed[_ngcontent-%COMP%]   .main-menu-wrapper[_ngcontent-%COMP%]{max-height:100%}.collapsed[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]{border-start-start-radius:0;border-end-start-radius:0;padding-top:1rem;padding-bottom:1rem}.collapsed[_ngcontent-%COMP%]   .toggle-menu-container[_ngcontent-%COMP%]{text-align:center}.collapsed[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%], .collapsed[_ngcontent-%COMP%]   .more-info-btn[_ngcontent-%COMP%]{border:0!important;justify-content:center}.collapsed[_ngcontent-%COMP%]   .menu-link[_ngcontent-%COMP%]:not(.active)   my-global-icon[_ngcontent-%COMP%], .collapsed[_ngcontent-%COMP%]   .more-info-btn[_ngcontent-%COMP%]:not(.active)   my-global-icon[_ngcontent-%COMP%]{color:var(--menu-fg-400)}.menu-overlay[_ngcontent-%COMP%]{background-color:#000;width:100vw;height:100vh;opacity:.75;content:"";display:none;position:fixed;z-index:12550}.mobile-controls[_ngcontent-%COMP%]{display:none;padding:0 calc(var(--co-menu-x-padding) - 1rem) 2rem var(--co-menu-x-padding);align-items:center;justify-content:space-between}.mobile-controls[_ngcontent-%COMP%]   .icon-logo[_ngcontent-%COMP%]{display:inline-block;width:48px;height:48px;min-width:48px;max-width:48px;background-repeat:no-repeat;background-size:contain}@media screen and (max-width: 1200px){.menu-container[_ngcontent-%COMP%]:not(.collapsed){--menu-margin-left: 0;border-radius:0;background-color:var(--menu-bg);overflow:auto}.menu-container[_ngcontent-%COMP%]:not(.collapsed)   .main-menu-wrapper[_ngcontent-%COMP%]{height:auto;max-height:unset}.menu-overlay[_ngcontent-%COMP%]:not(.menu-collapsed){display:block}}@media screen and (max-width: 500px){.menu-container[_ngcontent-%COMP%]{height:100vh;margin-top:calc(var(--header-height) * -1);z-index:17501}.menu-container.collapsed[_ngcontent-%COMP%]{display:none}.menu-container[_ngcontent-%COMP%]:not(.collapsed){width:100vw!important}.main-menu[_ngcontent-%COMP%]{padding-top:.75rem}.menu-overlay[_ngcontent-%COMP%]{display:none!important}.mobile-controls[_ngcontent-%COMP%]{display:flex}.toggle-menu-container[_ngcontent-%COMP%]{display:none}.block-title[_ngcontent-%COMP%]{max-width:90%}}
/*# sourceMappingURL=menu.component-R6UGSZD2.css.map */`]}));let o=e;return o;})();var Ud=["confirmModal"];function zd(o,e){if(o&1&&(d(0,"details",8)(1,"summary"),R(2,1),u(),I(3),u()),o&2){let t=g(2);m(2),yt(t.moreInfo.title),Ct(2),m(),Re(" ",t.moreInfo.content," ");}}function Gd(o,e){if(o&1){let t=k();d(0,"my-input-text",18),Ze("ngModelChange",function(i){S(t);let r=g(3);return Ye(r.inputValue,i)||(r.inputValue=i),b(i);}),w("keyup.enter",function(){S(t);let i=g(3);return b(i.confirm());}),u();}if(o&2){let t=g(3);p("autofocus",!0),Xe("ngModel",t.inputValue);}}function Bd(o,e){if(o&1){let t=k();d(0,"input",19),Ze("ngModelChange",function(i){S(t);let r=g(3);return Ye(r.inputValue,i)||(r.inputValue=i),b(i);}),w("keyup.enter",function(){S(t);let i=g(3);return b(i.confirm());}),u();}if(o&2){let t=g(3);Xe("ngModel",t.inputValue);}}function jd(o,e){if(o&1&&(d(0,"div",14)(1,"label",15),I(2),u(),C(3,Gd,1,2,"my-input-text",16)(4,Bd,1,1,"input",17),u()),o&2){let t=g(2);m(2),F(t.inputLabel),m(),se(t.isPasswordInput?3:4);}}function Kd(o,e){if(o&1&&(d(0,"div",20),I(1),u()),o&2){let t=g(2);m(),F(t.errorMessage);}}function Qd(o,e){if(o&1){let t=k();d(0,"div",2)(1,"h4",3),I(2),u(),d(3,"button",4),w("click",function(){let i=S(t).dismiss;return b(i());}),v(4,"my-global-icon",5),u()(),d(5,"div",6),v(6,"div",7),C(7,zd,4,2,"details",8)(8,jd,5,2,"div",9)(9,Kd,2,1,"div",10),u(),d(10,"div",11)(11,"input",12),w("click",function(){let i=S(t).dismiss;return b(i());})("key.enter",function(){let i=S(t).dismiss;return b(i());}),u(),d(12,"input",13),w("click",function(){let i=S(t).close;return b(i());})("key.enter",function(){S(t);let i=g();return b(i.confirm());}),u()();}if(o&2){let t=g();m(2),F(t.title),m(4),p("innerHtml",t.message,We),m(),se(t.moreInfo?7:-1),m(),p("ngIf",t.inputLabel),m(),p("ngIf",t.hasError()),m(2),p("value",t.cancelButtonText),m(),p("value",t.confirmButtonText)("disabled",t.isConfirmationDisabled());}}var ka=(()=>{let e=class e{modalService=h(Ie);html=h($r);confirmService=h(kr);confirmModal=q("confirmModal");title="";message="";expectedInputValue="";inputLabel="";inputValue="";moreInfo;cancelButtonText="";confirmButtonText="";errorMessage="";isPasswordInput=!1;openedModal;ngOnInit(){this.confirmService.showConfirm.subscribe(n=>{this.title="",this.message="",this.expectedInputValue="",this.inputLabel="",this.inputValue="",this.moreInfo=void 0,this.confirmButtonText="",this.isPasswordInput=!1,this.errorMessage="";let{type:i,title:r,message:s,confirmButtonText:a,cancelButtonText:l,errorMessage:c,moreInfo:_}=n;this.title=r,this.moreInfo=_,i==="confirm-expected-input"?(this.inputLabel=n.inputLabel,this.expectedInputValue=n.expectedInputValue):i==="confirm-password"&&(this.inputLabel="Confirm your password",this.isPasswordInput=!0,this.errorMessage=c),this.confirmButtonText=a||"Confirm",this.cancelButtonText=l||"Cancel",this.html.toSimpleSafeHtml(s).then(y=>{this.message=y,this.showModal();});});}confirm(){this.openedModal&&this.openedModal.close();}isConfirmationDisabled(){return!this.inputLabel||!this.expectedInputValue?!1:this.expectedInputValue!==this.inputValue;}hasError(){return this.errorMessage;}showModal(){this.inputValue="",this.openedModal=this.modalService.open(this.confirmModal(),{centered:!0}),this.openedModal.result.then(()=>{this.confirmService.confirmResponse.next({confirmed:!0,value:this.inputValue});}).catch(n=>{(!n||n!==Rn)&&this.confirmService.confirmResponse.next({confirmed:!1,value:this.inputValue});});}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-confirm"]],viewQuery:function(i,r){i&1&&G(r.confirmModal,Ud,5),i&2&&te();},decls:2,vars:0,consts:()=>{let n;n="Close this modal";let i;return i=""+"\uFFFD0\uFFFD"+"",[["confirmModal",""],i,[1,"modal-header"],[1,"modal-title"],["title",n,1,"border-0","p-0",3,"click"],["iconName","cross"],[1,"modal-body"],[3,"innerHtml"],[1,"mt-3"],["class","form-group mt-3",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"modal-footer","inputs"],["type","button","role","button",1,"peertube-button","secondary-button",3,"click","key.enter","value"],["ngbAutofocus","","type","submit",1,"peertube-button","primary-button",3,"click","key.enter","value","disabled"],[1,"form-group","mt-3"],["for","confirmInput"],["autocomplete","on","inputId","confirmInput",3,"autofocus","ngModel"],["type","text","myAutofocus","","id","confirmInput","name","confirmInput",3,"ngModel"],["autocomplete","on","inputId","confirmInput",3,"ngModelChange","keyup.enter","autofocus","ngModel"],["type","text","myAutofocus","","id","confirmInput","name","confirmInput",3,"ngModelChange","keyup.enter","ngModel"],[1,"text-danger"]];},template:function(i,r){i&1&&C(0,Qd,13,8,"ng-template",null,0,ne);},dependencies:[K,j,wt,bn,Mt,Tt,ns],styles:[`.button[_ngcontent-%COMP%]{padding:0 13px}input[type=text][_ngcontent-%COMP%]{display:block;font-size:16px;padding:var(--input-y-padding) var(--input-x-padding);width:100%;max-width:100%;color:var(--input-fg);background-color:var(--input-bg);border:1px solid var(--input-border-color);border-radius:var(--input-border-radius);line-height:24px}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder);font-size:14px}input[type=text][readonly][_ngcontent-%COMP%]{color:var(--fg-300)}input[type=text][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100);outline:0}input[type=text][disabled][_ngcontent-%COMP%]{color:var(--fg-300);opacity:.8}@media screen and (max-width: calc(100% + 40px)){input[type=text][_ngcontent-%COMP%]{width:100%}}
/*# sourceMappingURL=confirm.component-B56S2MWW.css.map */`]}));let o=e;return o;})();var qd=["accountSetupWarningModal"],Wd=["adminWelcomeModal"],Xd=["instanceConfigWarningModal"],Yd=["customModal"],Zd=()=>[import("./chunk-PDYSL6O2.js").then(o=>o.AccountSetupWarningModalComponent),import("./chunk-H6RVIOJP.js").then(o=>o.AdminWelcomeModalComponent),import("./chunk-FKCFW64U.js").then(o=>o.InstanceConfigWarningModalComponent)],Jd=(o,e,t)=>({"user-logged-in":o,"user-not-logged-in":e,"hotkeys-modal-opened":t}),eu=o=>({expanded:o});function tu(o,e){if(o&1&&v(0,"div",20),o&2){let t=g();p("innerHTML",t.customCSS,We);}}function nu(o,e){if(o&1){let t=k();d(0,"button",24),w("click",function(){S(t);let i=g(2);return b(i.hideBroadcastMessage());}),v(1,"my-global-icon",25),u();}}function iu(o,e){if(o&1&&(d(0,"div",21),v(1,"div",22),C(2,nu,2,0,"button",23),u()),o&2){let t=g();p("ngClass",t.broadcastMessage.class),m(),p("innerHTML",t.broadcastMessage.message,We),m(),p("ngIf",t.broadcastMessage.dismissable);}}function ou(o,e){if(o&1&&(d(0,"div",26),v(1,"my-global-icon",27),d(2,"div",28)(3,"h3"),I(4),u(),d(5,"p"),I(6),u()()()),o&2){let t=e.$implicit,n=g();m(),p("iconName",n.getNotificationIcon(t)),m(3),F(t.summary),m(2),F(t.detail);}}function ru(o,e){if(o&1){let t=k();d(0,"my-account-setup-warning-modal",29,2),w("created",function(){S(t);let i=g();return b(i.onModalCreated());}),u(),d(2,"my-admin-welcome-modal",29,3),w("created",function(){S(t);let i=g();return b(i.onModalCreated());}),u(),d(4,"my-instance-config-warning-modal",29,4),w("created",function(){S(t);let i=g();return b(i.onModalCreated());}),u();}}var Ra=(()=>{let e=class e{document=h(vt);localeId=h(gn);router=h(_e);authService=h(ae);serverService=h(ye);peertubeRouter=h(Ln);pluginService=h($n);instanceService=h(Un);domSanitizer=h(Bo);screenService=h(It);hotkeysService=h(Nt);hooks=h(Fn);location=h(ko);modalService=h(Ie);markdownService=h(Fr);ngbConfig=h(gr);loadingBar=h(Cr);scrollService=h(Dr);userLocalStorage=h(Vr);menu=h(xt);accountSetupWarningModal=q("accountSetupWarningModal");adminWelcomeModal=q("adminWelcomeModal");instanceConfigWarningModal=q("instanceConfigWarningModal");customModal=q("customModal");customCSS;broadcastMessage=null;hotkeysModalOpened=!1;serverConfig;userLoaded=!1;constructor(){this.ngbConfig.animation=!1;}ngOnInit(){document.getElementById("incompatible-browser").className+=" browser-ok",this.loadUser(),this.serverConfig=this.serverService.getHTMLConfig(),this.hooks.runAction("action:application.init","common"),this.authService.loadClientCredentials(),this.isUserLoggedIn()&&this.authService.refreshUserInformation(),this.initRouteEvents(),this.scrollService.enableScrollRestoration(),this.injectJS(),this.injectCSS(),this.injectBroadcastMessage(),this.serverService.configReloaded.subscribe(n=>{this.serverConfig=n,this.injectBroadcastMessage(),this.injectCSS();}),this.initHotkeys(),this.location.onPopState(()=>this.modalService.dismissAll(Rn)),this.listenUserChangeForModals(),this.document.documentElement.lang=Tn(this.localeId),this.document.documentElement.dir=Do(this.localeId),this.pluginService.addAction("application:increment-loader",()=>(this.loadingBar.useRef("plugins").start(),Promise.resolve())),this.pluginService.addAction("application:decrement-loader",()=>(this.loadingBar.useRef("plugins").complete(),Promise.resolve()));}ngAfterViewInit(){this.pluginService.initializeCustomModal(this.customModal());}ngOnDestroy(){this.pluginService.removeAction("application:increment-loader"),this.pluginService.removeAction("application:decrement-loader");}isUserLoggedIn(){return this.authService.isLoggedIn();}hideBroadcastMessage(){zt.setItem(e.LS_BROADCAST_MESSAGE,this.serverConfig.broadcastMessage.message),this.broadcastMessage=null,this.screenService.isBroadcastMessageDisplayed=!1;}getNotificationIcon(n){switch(n.severity){case"error":return"cross";case"success":return"tick";case"info":return"help";}}initRouteEvents(){let n=this.router.events;this.peertubeRouter.getNavigationEndEvents().subscribe(i=>{this.hooks.runAction("action:router.navigation-end","common",{path:i.url});}),n.pipe(he(i=>i instanceof Xo),he(()=>this.screenService.isInSmallView()||this.screenService.isInTouchScreen())).subscribe(()=>this.menu.setMenuCollapsed(!0)),n.pipe(he(i=>i instanceof Yo)).subscribe(()=>this.loadingBar.useRef().start()),n.pipe(he(i=>i instanceof Zo)).subscribe(()=>this.loadingBar.useRef().complete());}injectBroadcastMessage(){return lt(this,null,function*(){this.broadcastMessage=null,this.screenService.isBroadcastMessageDisplayed=!1;let n=this.serverConfig.broadcastMessage;if(n.enabled){if(n.dismissable&&localStorage.getItem(e.LS_BROADCAST_MESSAGE)===n.message)return;let i={info:"alert-info",warning:"alert-warning",error:"alert-danger"},r=document.createElement("div");r.innerHTML=yield this.markdownService.markdownToUnsafeHTML({markdown:n.message}),r.querySelectorAll("a").forEach(s=>s.className+=" alert-link"),this.broadcastMessage={message:r.innerHTML,dismissable:n.dismissable,class:i[n.level]},this.screenService.isBroadcastMessageDisplayed=!0;}});}injectJS(){if(this.serverConfig.instance.customizations.javascript)try{window.eval(this.serverConfig.instance.customizations.javascript);}catch(n){De.error("Cannot eval custom JavaScript.",n);}}injectCSS(){let n=document.querySelector("style.custom-css-style");if(n&&n.parentNode.removeChild(n),this.customCSS||this.serverConfig.instance.customizations.css){let i="<style>"+this.serverConfig.instance.customizations.css+"</style>";this.customCSS=this.domSanitizer.bypassSecurityTrustHtml(i);}}listenUserChangeForModals(){this.authService.userInformationLoaded.pipe(ve(()=>this.authService.getUser())).subscribe(n=>{this.userLoaded=!0,this.openModalsIfNeeded(n);});}onModalCreated(){let n=this.authService.getUser();n&&setTimeout(()=>this.openModalsIfNeeded(n));}openModalsIfNeeded(n){this.userLoaded&&(n.role.id===sr.ADMINISTRATOR?this.openAdminModalsIfNeeded(n):this.openAccountModalsIfNeeded(n));}openAdminModalsIfNeeded(n){let i=this.adminWelcomeModal();if(!i)return;if(i.shouldOpen(n))return i.show();let r=this.instanceConfigWarningModal();r&&r.shouldOpenByUser(n)&&on([this.serverService.getConfig().pipe(Fe()),this.instanceService.getAbout().pipe(Fe())]).subscribe(([s,a])=>{let l=this.instanceConfigWarningModal();l.shouldOpen(s,a)&&l.show(a);});}openAccountModalsIfNeeded(n){let i=this.accountSetupWarningModal();i&&i.shouldOpen(n)&&i.show(n);}initHotkeys(){this.hotkeysService.add([new At(["Shift+/","s"],()=>(document.getElementById("search-video").focus(),!1),"Focus the search bar"),new At("b",()=>(this.menu.toggleMenu(),!1),"Toggle the left menu"),new At("g o",()=>(this.router.navigate(["/videos/overview"]),!1),"Go to the \"Discover videos\" page"),new At("g v",()=>(this.router.navigate(["/videos/browse"]),!1),"Go to the \"Browse videos\" page"),new At("g u",()=>(this.router.navigate(["/videos/upload"]),!1),"Go to the \"Publish video\" page")]);}onHotkeysModalStateChange(n){this.hotkeysModalOpened=n;}loadUser(){let n=this.userLocalStorage.getTokens();if(!n)return;let i=this.userLocalStorage.getLoggedInUser();i&&this.authService.buildAuthUser(i,n);}};f(e,"LS_BROADCAST_MESSAGE","app-broadcast-message-dismissed"),f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-app"]],viewQuery:function(i,r){i&1&&(G(r.accountSetupWarningModal,qd,5),G(r.adminWelcomeModal,Wd,5),G(r.instanceConfigWarningModal,Xd,5),G(r.customModal,Yd,5)),i&2&&te(4);},decls:23,vars:12,consts:()=>{let n;n="Skip to main content";let i;return i="Close this message",[["mainContent",""],["customModal",""],["accountSetupWarningModal",""],["adminWelcomeModal",""],["instanceConfigWarningModal",""],n,[3,"innerHTML",4,"ngIf"],["href","#content",1,"visually-hidden-focusable","skip-to-content",3,"click"],[3,"hotkeysModalStateChange"],[1,"peertube-container",3,"ngClass"],[1,"root-header"],[1,"w-100"],[1,"sub-header-container"],["id","left-menu","role","navigation","aria-label","Main menu"],["tabindex","-1","id","content",1,"main-col",3,"ngClass"],[1,"main-row"],["class","broadcast-message alert margin-content",3,"ngClass",4,"ngIf"],["color","var(--border-primary)",3,"includeSpinner"],["position","bottom-right"],["pTemplate","message"],[3,"innerHTML"],[1,"broadcast-message","alert","margin-content",3,"ngClass"],[1,"text-break",3,"innerHTML"],["class","border-0","title",i,3,"click",4,"ngIf"],["title",i,1,"border-0",3,"click"],["iconName","cross"],[1,"notification-block"],[3,"iconName"],[1,"message"],[3,"created"]];},template:function(i,r){if(i&1){let s=k();C(0,tu,1,1,"div",6),d(1,"a",7),w("click",function(l){S(s);let c=W(10);return l.preventDefault(),b(c.focus());}),R(2,5),u(),d(3,"my-hotkeys-cheat-sheet",8),w("hotkeysModalStateChange",function(l){return S(s),b(r.onHotkeysModalStateChange(l));}),u(),d(4,"div",9)(5,"header",10),v(6,"my-header",11),u(),d(7,"div",12),v(8,"my-menu",13),d(9,"main",14,0)(11,"div",15),C(12,iu,3,3,"div",16),v(13,"router-outlet"),u()()()(),v(14,"ngx-loading-bar",17)(15,"my-confirm"),d(16,"p-toast",18),C(17,ou,7,3,"ng-template",19),u(),C(18,ru,6,0),dn(19,18,Zd),v(21,"my-custom-modal",null,1);}i&2&&(p("ngIf",r.customCSS),m(4),p("ngClass",Ao(6,Jd,r.isUserLoggedIn(),!r.isUserLoggedIn(),r.hotkeysModalOpened)),m(5),p("ngClass",B(10,eu,r.menu.isCollapsed())),m(3),p("ngIf",r.broadcastMessage),m(2),p("includeSpinner",!1),m(5),un(r.isUserLoggedIn()));},dependencies:[j,Aa,pe,Oa,xa,K,vn,An,vr,ka,ui,va,In,xn,Sa],styles:[`.skip-to-content[_ngcontent-%COMP%]{position:absolute;top:0;display:block;z-index:19000;width:100%;background:var(--bg);padding:1rem;text-align:center;text-decoration:underline}.peertube-container[_ngcontent-%COMP%]{padding-bottom:20px}.peertube-container.hotkeys-modal-opened[_ngcontent-%COMP%]{display:none}.main-row[_ngcontent-%COMP%]{min-height:calc(100vh - var(--header-height) - 30px - 30px)}.sub-header-container[_ngcontent-%COMP%]{margin-top:var(--header-height);background-color:var(--bg);width:100%}.root-header[_ngcontent-%COMP%]{height:var(--header-height);position:fixed;top:0;width:100%;background:var(--bg)}.broadcast-message[_ngcontent-%COMP%]{min-height:50px;text-align:center;margin-bottom:2rem;display:grid;grid-template-columns:1fr 30px;column-gap:10px}.broadcast-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;color:inherit;height:fit-content;margin:auto}.broadcast-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > my-global-icon[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;line-height:20px}
/*# sourceMappingURL=app.component-7AQ6BDL4.css.map */`]}));let o=e;return o;})();var Da=(()=>{let e=class e{};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-empty"]],decls:0,vars:0,template:function(i,r){},encapsulation:2}));let o=e;return o;})();var lo=(()=>{let e=class e{route=h(bt);redirectService=h(Ue);ngOnInit(){let n=this.route.snapshot.url;(n.length===0||dr("/"+n[0]))&&this.redirectService.redirectToHomepage(!0);}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,r){},encapsulation:2}));let o=e;return o;})();var pi=(()=>{let e=class e{router=h(_e);accountService=h(zn);channelService=h(Gn);canActivate(n){let i=n.params.actorName;return on([this.accountService.getAccount(i).pipe(this.orUndefined()),this.channelService.getVideoChannel(i).pipe(this.orUndefined())]).pipe(ve(([r,s])=>r?this.router.parseUrl(`/a/${i}`):s?this.router.parseUrl(`/c/${i}`):this.router.parseUrl("/404")));}orUndefined(){return rn(()=>Ae(void 0));}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275prov",ue({token:e,factory:e.Éµfac}));let o=e;return o;})();var La=(()=>{let e=class e{server=h(ye);authService=h(ae);menuEntries=[];sub;ngOnInit(){this.buildMenu(),this.sub=this.authService.loginChangedSource.subscribe(()=>this.buildMenu());}ngOnDestroy(){this.sub&&this.sub.unsubscribe();}buildMenu(){let n=this.server.getHTMLConfig();this.menuEntries=[],n.homepage.enabled&&this.menuEntries.push({label:"Home",routerLink:"/home"}),this.menuEntries.push({label:"Discover",routerLink:"/videos/overview"}),this.authService.isLoggedIn()&&this.menuEntries.push({label:"Subscriptions",routerLink:"/videos/subscriptions"}),this.menuEntries.push({label:"Browse videos",routerLink:"/videos/browse"});}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["my-home-menu"]],decls:2,vars:1,consts:[[1,"margin-content"],[3,"menuEntries"]],template:function(i,r){i&1&&(d(0,"div",0),v(1,"my-horizontal-menu",1),u()),i&2&&(m(),p("menuEntries",r.menuEntries));},dependencies:[os],encapsulation:2}));let o=e;return o;})();var $a=(()=>{let e=class e{disableForReuse(){}enabledForReuse(){}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275cmp",D({type:e,selectors:[["ng-component"]],decls:2,vars:0,template:function(i,r){i&1&&v(0,"my-home-menu")(1,"router-outlet");},dependencies:[La,vn],encapsulation:2}));let o=e;return o;})();var co=[{path:"admin",loadChildren:()=>import("./chunk-G2CU7BRQ.js"),canActivateChild:[Z]},{path:"my-account",loadChildren:()=>import("./chunk-AQYX4XZC.js"),canActivateChild:[Z]},{path:"my-library",loadChildren:()=>import("./chunk-VNUGWIL2.js"),canActivateChild:[Z]},{path:"verify-account",loadChildren:()=>import("./chunk-DOXZFYH3.js"),canActivateChild:[Z]},{path:"accounts",redirectTo:"a"},{path:"a",loadChildren:()=>import("./chunk-XGKTKRW6.js"),canActivateChild:[Z]},{path:"video-channels",redirectTo:"c"},{path:"c",loadChildren:()=>import("./chunk-HM255OUP.js"),canActivateChild:[Z]},{path:"manage/create",redirectTo:"/my-library/video-channels/create",pathMatch:"full"},{path:"manage/update/:channel",pathMatch:"full",redirectTo:"/my-library/video-channels/update/:channel"},{path:"p",loadChildren:()=>import("./chunk-VBX6LSNP.js"),canActivateChild:[Z],data:{parentRoute:"/"}},{path:"about",loadChildren:()=>import("./chunk-LUPEMT3R.js"),canActivateChild:[Z]},{path:"signup",loadChildren:()=>import("./chunk-OVEMZCR7.js"),canActivateChild:[Z]},{path:"reset-password",loadChildren:()=>import("./chunk-7WOUPEM7.js"),canActivateChild:[Z]},{path:"login",loadChildren:()=>import("./chunk-WRCDCDZL.js"),canActivateChild:[Z]},{path:"search",loadChildren:()=>import("./chunk-T4AHU7TM.js"),canActivateChild:[Z]},{path:"studio/edit/:videoId",redirectTo:"/videos/manage/:videoId/studio",pathMatch:"full"},{path:"stats/videos/:videoId",redirectTo:"/videos/manage/:videoId/stats",pathMatch:"full"},{path:"videos/upload",redirectTo:"/videos/publish",pathMatch:"full"},{path:"videos/update/:uuid",pathMatch:"full",redirectTo:"/videos/manage/:uuid"},{path:"videos/manage/:uuid",loadChildren:()=>import("./chunk-OMYB6L3X.js"),canActivateChild:[Z],data:{meta:{title:"Manage your video"}}},{path:"videos/publish",loadChildren:()=>import("./chunk-AKYZEIXO.js"),canActivateChild:[Z],data:{meta:{title:"Publish your video"}}},{path:"video-playlists/watch",redirectTo:"w/p"},{path:"videos/watch/playlist",redirectTo:"w/p"},{path:"videos/watch",redirectTo:"w"},{path:"w",loadChildren:()=>import("./chunk-UGBXUKGF.js"),data:{preload:5e3}},{matcher:o=>o.length<1||!(o[0].path==="home"||o[0].path==="videos")?null:{consumed:[]},component:$a,children:[{path:"home",loadChildren:()=>import("./chunk-EULFROPN.js"),canActivateChild:[Z]},{path:"videos",loadChildren:()=>import("./chunk-FAWDOSM5.js"),canActivateChild:[Z]}]},{path:"remote-interaction",loadChildren:()=>import("./chunk-TRRSIVJQ.js"),canActivateChild:[Z]},{matcher:o=>{let e=new RegExp(`^@(${is}+)$`);if(o.length!==1)return null;let t=o[0].path.match(e);return t?{consumed:o,posParams:{actorName:new Wo(t[1],{})}}:null;},pathMatch:"full",canActivate:[pi],component:Da},{path:"",component:lo}];for(let o of cr)co.push({path:o,component:lo});co.push({path:"**",loadChildren:()=>import("./chunk-US764LK5.js")});var Fa=co;var su=(()=>{let e=class e{injector=h(mt);router=h(_e);authService;intercept(n,i){this.authService===void 0&&(this.authService=this.injector.get(ae));let r=this.cloneRequestWithAuth(n);return i.handle(r).pipe(rn(s=>{let a=s.error,l=this.authService.isOTPMissingError(s);if(a&&a.code===or.CURRENT_PASSWORD_IS_INVALID)return fi(()=>s);if(!l){if(s.status===Ei.UNAUTHORIZED_401&&a&&a.code===rr.INVALID_TOKEN)return this.handleTokenExpired(n,i);if(s.status===Ei.UNAUTHORIZED_401)return this.handleNotAuthenticated(s);}return fi(()=>s);}));}handleTokenExpired(n,i){return this.authService.refreshAccessToken().pipe(Se(()=>{let r=this.cloneRequestWithAuth(n);return i.handle(r);}));}cloneRequestWithAuth(n){let i=this.authService.getRequestHeaderValue(),r=n.url.startsWith("/")||xr(Ar(),n.url);return i===null||!r?n:n.clone({headers:n.headers.set("Authorization",i)});}handleNotAuthenticated(n){return this.router.navigate(["/401"],{state:{obj:n},skipLocationChange:!0}),Ae(n.message);}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275prov",ue({token:e,factory:e.Éµfac}));let o=e;return o;})(),Va={provide:Vo,useClass:su,multi:!0};var Ha=(()=>{let e=class e{videoService=h(Bn);resolve(n){let i=n.params.videoId;return this.videoService.getVideo({videoId:i});}};f(e,"\u0275fac",function(i){return new(i||e)();}),f(e,"\u0275prov",ue({token:e,factory:e.Éµfac}));let o=e;return o;})();function Ua(){return[$o,Br,Va,zn,ds,Hn,ls,ps,us,Bn,cs,Ha,as,Gn,ss,gs,rs,pi,Un,ms];}Fo(ir,"oc");function au(o,e,t,n){let i=()=>(n.init(),t.initialize(),e.initializePlugins());return()=>{let r=o.loadHTMLConfig();return r?r.pipe(Se(()=>i())):i();};}Gt.production&&void 0;De.registerServerSending(Gt.apiUrl);var lu=()=>zo(Ra,{providers:[Io({eventCoalescing:!0}),_i(fn,ma,_a.register("ngsw-worker.js",{enabled:Gt.production})),Ho(),_i(Sr,An,ui,yr),zr(),Ua(),ya(),Oi,{provide:Jo,useClass:Rr},er(Fa,nr(Oi),tr({anchorScrolling:"disabled",scrollPositionRestoration:"disabled"})),{provide:Ro,useValue:"/"},cn(()=>au(h(ye),h($n),h(Hr),h(Ue))())]}).then(o=>{if(!Gt.production){let t=o.injector.get(Vt).components[0];Go(t);}return o;}).catch(o=>{try{De.error(o);}catch(e){console.error("Cannot log error",{err:o,err2:e});}return setTimeout(()=>{if(document.querySelector("my-app").innerHTML==="")throw o;},1e3),null;});lu();export{au as loadConfigFactory};/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*///# sourceMappingURL=main-Q4PEDMVW.js.map