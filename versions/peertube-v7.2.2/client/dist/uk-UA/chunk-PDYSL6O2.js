import{b as J}from"./chunk-WZVFW7AN.js";import"./chunk-6JJL547V.js";import{s as K}from"./chunk-RT7DTAS6.js";import{B as H,g as z,m as Y}from"./chunk-WO4VNXA3.js";import{a as Z}from"./chunk-PE7TFI7A.js";import{Bb as A,Cb as C,Dc as x,Ha as d,Mb as U,Na as h,Nb as W,Oc as X,Sa as y,Sg as B,Ub as w,Vb as b,Wb as v,Xf as j,Ya as M,aa as g,eb as N,ha as s,ia as c,jc as k,jf as O,lf as Q,nb as o,ob as i,pb as u,pd as V,sa as R,tb as $,vb as m,wb as p,xb as S,xg as q,yb as I,zb as G}from"./chunk-F7FAPFPY.js";import{i as T}from"./chunk-AI7IVZV2.js";var ee=["modal"];function te(r,_){r&1&&(o(0,"li"),m(1,5),u(2,"strong"),p(),i());}function ne(r,_){r&1&&(o(0,"li"),m(1,6),u(2,"strong"),p(),i());}function oe(r,_){if(r&1){let n=$();o(0,"div",7)(1,"h4",8),S(2,1),i(),o(3,"button",9),A("click",function(){let t=s(n).close;return c(t());}),u(4,"my-global-icon",10),i()(),o(5,"div",11),u(6,"img",12),o(7,"div",13),S(8,2),i(),o(9,"p"),m(10,3),u(11,"strong"),p(),i(),o(12,"ul"),M(13,te,3,0,"li",14)(14,ne,3,0,"li",14),i()(),o(15,"div",15)(16,"my-peertube-checkbox",16),v("ngModelChange",function(t){s(n);let a=C();return b(a.stopDisplayModal,t)||(a.stopDisplayModal=t),c(t);}),i(),o(17,"input",17),A("click",function(){let t=s(n).close;return c(t());})("key.enter",function(){let t=s(n).close;return c(t());}),i(),o(18,"a",18),A("click",function(){let t=s(n).close;return c(t());})("key.enter",function(){let t=s(n).close;return c(t());}),S(19,4),i()();}if(r&2){let n=C();d(2),I(n.instanceName),G(2),d(11),N("ngIf",!n.hasAccountAvatar(n.user)),d(),N("ngIf",!n.hasAccountDescription(n.user)),d(2),w("ngModel",n.stopDisplayModal);}}var Te=(()=>{let _=class _{userService=g(B);modalService=g(K);notifier=g(j);serverService=g(q);modal=h("modal");created=R();stopDisplayModal=!1;ref;user;LS_KEYS={NO_ACCOUNT_SETUP_WARNING_MODAL:"no_account_setup_warning_modal"};ngOnInit(){this.created.emit();}get instanceName(){return this.serverService.getHTMLConfig().instance.name;}hasAccountAvatar(e){return e.account.avatars.length!==0;}hasAccountDescription(e){return!!e.account.description;}shouldOpen(e){return!(this.modalService.hasOpenModals()||e.noAccountSetupWarningModal===!0||O.getItem(this.LS_KEYS.NO_ACCOUNT_SETUP_WARNING_MODAL)==="true"||this.hasAccountAvatar(e)&&this.hasAccountDescription(e)||this.userService.hasSignupInThisSession());}show(e){this.user=e,!this.ref&&(this.ref=this.modalService.open(this.modal(),{centered:!0,backdrop:"static",keyboard:!1,size:"md"}),this.ref.result.finally(()=>{this.stopDisplayModal===!0&&this.doNotOpenAgain();}));}doNotOpenAgain(){O.setItem(this.LS_KEYS.NO_ACCOUNT_SETUP_WARNING_MODAL,"true"),this.userService.updateMyProfile({noAccountSetupWarningModal:!0}).subscribe({next:()=>Q.info("We will not open the account setup modal again."),error:e=>this.notifier.error(e.message)});}};T(_,"\u0275fac",function(t){return new(t||_)();}),T(_,"\u0275cmp",y({type:_,selectors:[["my-account-setup-warning-modal"]],viewQuery:function(t,a){t&1&&U(a.modal,ee,5),t&2&&W();},outputs:{created:"created"},decls:2,vars:0,consts:()=>{let e;e="\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u0446\u0435 \u043C\u043E\u0434\u0430\u043B\u044C\u043D\u0435 \u0432\u0456\u043A\u043D\u043E";let t;t="\u041D\u0435 \u043F\u043E\u043A\u0430\u0437\u0443\u0439\u0442\u0435 \u043C\u0435\u043D\u0456 \u0446\u0435 \u0431\u0456\u043B\u044C\u0448\u0435";let a;a="\u0417\u0430\u043A\u0440\u0438\u0442\u0438";let f;f="\u0412\u0456\u0442\u0430\u0454\u043C\u043E \u0443 "+"\uFFFD0\uFFFD"+", \u043B\u044E\u0431\u0438\u0439 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0443!";let E;E="\u0421\u0430\u043C\u0435 \u0447\u0430\u0441 \u0441\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u043F\u0440\u043E\u0444\u0456\u043B\u044C \u0441\u0432\u043E\u0433\u043E \u043E\u0431\u043B\u0456\u043A\u043E\u0432\u043E\u0433\u043E \u0437\u0430\u043F\u0438\u0441\u0443!";let F;F="\u0414\u043E\u043F\u043E\u043C\u043E\u0436\u0456\u0442\u044C \u043C\u043E\u0434\u0435\u0440\u0430\u0442\u043E\u0440\u0430\u043C \u0442\u0430 \u0456\u043D\u0448\u0438\u043C \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430\u043C \u0434\u0456\u0437\u043D\u0430\u0442\u0438\u0441\u044F "+"\uFFFD#11\uFFFD"+"\u0445\u0442\u043E \u0432\u0438"+"\uFFFD/#11\uFFFD"+" \u0432\u0456\u0434:";let P;P="\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u0442\u0438";let D;D="\u0412\u0438\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F "+"\uFFFD#2\uFFFD"+"\u0430\u0432\u0430\u0442\u0430\u0440\u0430"+"\uFFFD/#2\uFFFD"+"";let L;return L="\u0421\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F "+"\uFFFD#2\uFFFD"+"\u043E\u043F\u0438\u0441\u0443"+"\uFFFD/#2\uFFFD"+"",[["modal",""],f,E,F,P,D,L,[1,"modal-header"],[1,"modal-title"],["title",e,1,"border-0","p-0",3,"click"],["iconName","cross"],[1,"modal-body"],["src","/client/assets/images/mascot/happy.svg","alt","",1,"mascot"],[1,"subtitle"],[4,"ngIf"],[1,"modal-footer","inputs"],["inputName","stopDisplayModal","labelText",t,3,"ngModelChange","ngModel"],["type","button","role","button","value",a,1,"peertube-button","secondary-button",3,"click","key.enter"],["routerLink","/my-account","rel","noopener noreferrer","ngbAutofocus","",1,"peertube-button-link","primary-button",3,"click","key.enter"]];},template:function(t,a){t&1&&M(0,oe,20,4,"ng-template",null,0,k);},dependencies:[X,x,Z,J,H,z,Y,V],styles:[`.modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.mascot-fw[_ngcontent-%COMP%]{width:170px}.mascot[_ngcontent-%COMP%]{display:block;width:170px;height:220px;margin-inline-end:calc(1.325rem + .9vw)}@media (min-width: 1200px){.mascot[_ngcontent-%COMP%]{margin-inline-end:2rem}}.subtitle[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px}li[_ngcontent-%COMP%]{margin-bottom:10px}
/*# sourceMappingURL=account-setup-warning-modal.component-IIZUPN6Y.css.map */`]}));let r=_;return r;})();export{Te as AccountSetupWarningModalComponent};/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*///# sourceMappingURL=chunk-PDYSL6O2.js.map