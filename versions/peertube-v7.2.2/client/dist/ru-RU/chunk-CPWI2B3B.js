import{a as vt,b as Ot}from"./chunk-DJO6R22E.js";import{a as Pt,b as Tt}from"./chunk-5PLTSPIA.js";import{a as ne}from"./chunk-MLUQ7CKS.js";import{b as ft}from"./chunk-ANIHUVIX.js";import{a as Rt}from"./chunk-DUA2DJQ3.js";import{c as yt}from"./chunk-BFVCLNOF.js";import{b as At}from"./chunk-3PB3Q4OH.js";import{a as Mt}from"./chunk-JVRBW57G.js";import{b as te}from"./chunk-WZVFW7AN.js";import{A as mt,B as ct,E as gt,F as Et,c as et,k as tt,l as nt,m as it,o as ot,p as _t,q as at,s as lt,u as rt,w as st,x as dt,y as pt}from"./chunk-RT7DTAS6.js";import{B as Z,g as Q,m as j,u as qe,v as Qe,w as je}from"./chunk-WO4VNXA3.js";import{a as ee}from"./chunk-PE7TFI7A.js";import{Bb as f,Bc as We,Cb as d,Cc as Fe,Ce as ae,Da as ie,Dc as Y,De as le,Ha as _,Mb as F,Na as X,Nb as B,Ob as oe,Oc as Be,Pb as h,Qb as x,Qg as St,Ra as ze,Sa as w,Sg as Ct,Ub as E,Ud as K,Vb as u,Vd as Ze,Wb as S,Xf as ut,Ya as g,Zb as H,Zd as V,aa as O,db as U,dg as re,eb as r,ed as Ye,ha as m,ia as c,jb as W,jc as Ge,nb as a,nc as Xe,ne as _e,ob as l,pb as M,pd as q,qb as A,rb as y,sa as $e,ta as v,tb as P,we as Ke,xb as C,xg as J,yb as ke,zb as Ue,ze as Je}from"./chunk-F7FAPFPY.js";import{a as L,i as D,j as G}from"./chunk-AI7IVZV2.js";var ht=(()=>{let s=class s{pluginId=v(void 0);getId(){return"plugin-placeholder-"+this.pluginId();}};D(s,"\u0275fac",function(t){return new(t||s)();}),D(s,"\u0275cmp",w({type:s,selectors:[["my-plugin-placeholder"]],inputs:{pluginId:[1,"pluginId"]},decls:1,vars:1,consts:[[3,"id"]],template:function(t,o){t&1&&M(0,"div",0),t&2&&r("id",o.getId());},styles:[`div[_ngcontent-%COMP%]{height:100%}
/*# sourceMappingURL=plugin-placeholder.component-G2ALSZXB.css.map */`]}));let n=s;return n;})();var xt=["modal"],It=n=>["/my-library/video-playlists/update",n],Nt=n=>["/videos/","manage",n];function Lt(n,s){n&1&&(a(0,"h5",41),C(1,6),l());}function wt(n,s){if(n&1&&(a(0,"my-alert",42)(1,"div"),C(2,7),l(),a(3,"a",43),C(4,8),l()()),n&2){let e=d(3);_(3),r("routerLink",H(1,It,e.playlist().shortUUID));}}function Ht(n,s){if(n&1&&(a(0,"div",44),M(1,"my-input-text",45),l()),n&2){let e=d(3);_(),r("value",e.playlistUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0);}}function Vt(n,s){if(n&1&&(a(0,"div",44),M(1,"qrcode",46),l()),n&2){let e=d(3);_(),r("qrdata",e.playlistUrl)("width",256);}}function $t(n,s){n&1&&(a(0,"my-alert",50),C(1,9),l());}function zt(n,s){if(n&1){let e=P();a(0,"div",44)(1,"my-input-text",47),f("change",function(){m(e);let t=d(3);return c(t.onUpdate());}),l(),g(2,$t,2,0,"my-alert",48),M(3,"div",49),l();}if(n&2){let e=d(3);_(),r("value",e.customizations.onlyEmbedUrl?e.playlistEmbedUrl:e.playlistEmbedHTML)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0),_(),r("ngIf",e.notSecure()),_(),r("innerHTML",e.playlistEmbedSafeHTML,ie);}}function kt(n,s){if(n&1){let e=P();a(0,"div",51)(1,"my-peertube-checkbox",52),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.includeVideoInPlaylist,t)||(o.customizations.includeVideoInPlaylist=t),c(t);}),l()();}if(n&2){let e=d(3);_(),E("ngModel",e.customizations.includeVideoInPlaylist);}}function Ut(n,s){if(n&1){let e=P();A(0),a(1,"div",51)(2,"my-peertube-checkbox",53),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.onlyEmbedUrl,t)||(o.customizations.onlyEmbedUrl=t),c(t);}),l()(),a(3,"div",51)(4,"my-peertube-checkbox",54),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.responsive,t)||(o.customizations.responsive=t),c(t);}),l()(),y();}if(n&2){let e=d(3);_(2),E("ngModel",e.customizations.onlyEmbedUrl),_(2),E("ngModel",e.customizations.responsive);}}function Gt(n,s){if(n&1){let e=P();a(0,"div",27),g(1,Lt,2,0,"h5",28)(2,wt,5,3,"my-alert",29),a(3,"div",30,1),S("activeIdChange",function(t){m(e);let o=d(2);return u(o.activePlaylistId,t)||(o.activePlaylistId=t),c(t);}),A(5,31),a(6,"a",32),C(7,3),l(),g(8,Ht,2,5,"ng-template",33),y(),A(9,34),a(10,"a",32),C(11,4),l(),g(12,Vt,2,2,"ng-template",33),y(),A(13,35),a(14,"a",32),C(15,5),l(),g(16,zt,4,7,"ng-template",33),y(),l(),M(17,"div",36),a(18,"div",37),g(19,kt,2,1,"div",38)(20,Ut,5,2,"ng-container",39),M(21,"my-plugin-placeholder",40),l()();}if(n&2){let e=oe(4),i=d(2);_(),r("ngIf",i.video()),_(),r("ngIf",i.isPrivatePlaylist()),_(),E("activeId",i.activePlaylistId),_(14),r("ngbNavOutlet",e),_(2),r("ngIf",i.video()),_(),r("ngIf",i.isInPlaylistEmbedTab());}}function Xt(n,s){n&1&&(a(0,"h5",41),C(1,13),l());}function Wt(n,s){if(n&1&&(a(0,"my-alert",42)(1,"div"),C(2,14),l(),a(3,"a",64),C(4,15),l()()),n&2){let e=d(3);_(3),r("routerLink",H(1,Nt,e.video().shortUUID));}}function Ft(n,s){n&1&&(a(0,"my-alert",42),C(1,16),l());}function Bt(n,s){if(n&1&&(a(0,"div",44),M(1,"my-input-text",65),l()),n&2){let e=d(3);_(),r("value",e.videoUrl)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0);}}function Yt(n,s){if(n&1&&(a(0,"div",44),M(1,"qrcode",46),l()),n&2){let e=d(3);_(),r("qrdata",e.videoUrl)("width",256);}}function qt(n,s){n&1&&(a(0,"my-alert",50),C(1,17),l());}function Qt(n,s){if(n&1){let e=P();a(0,"div",44)(1,"my-input-text",66),f("ngModelChange",function(){m(e);let t=d(3);return c(t.onUpdate());}),l(),g(2,qt,2,0,"my-alert",48),M(3,"div",49),l();}if(n&2){let e=d(3);_(),r("value",e.customizations.onlyEmbedUrl?e.videoEmbedUrl:e.videoEmbedHTML)("withToggle",!1)("withCopy",!0)("show",!0)("readonly",!0),_(),r("ngIf",e.notSecure()),_(),r("innerHTML",e.videoEmbedSafeHTML,ie);}}function jt(n,s){if(n&1){let e=P();a(0,"div",67)(1,"my-peertube-checkbox",68),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.startAtCheckbox,t)||(o.customizations.startAtCheckbox=t),c(t);}),l(),a(2,"my-timestamp-input",69),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.startAt,t)||(o.customizations.startAt=t),c(t);}),l()();}if(n&2){let e=d(3);_(),E("ngModel",e.customizations.startAtCheckbox),_(),r("timestamp",e.customizations.startAt)("maxTimestamp",e.video().duration)("disabled",!e.customizations.startAtCheckbox),E("ngModel",e.customizations.startAt);}}function Zt(n,s){if(n&1&&(a(0,"option",75),h(1),l()),n&2){let e=s.$implicit;r("value",e.language.id),_(),x(e.language.label);}}function Kt(n,s){if(n&1){let e=P();a(0,"div",70)(1,"my-peertube-checkbox",71),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.subtitleCheckbox,t)||(o.customizations.subtitleCheckbox=t),c(t);}),l(),a(2,"div",72)(3,"select",73),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.subtitle,t)||(o.customizations.subtitle=t),c(t);}),g(4,Zt,2,2,"option",74),l()()();}if(n&2){let e=d(3);_(),E("ngModel",e.customizations.subtitleCheckbox),_(2),E("ngModel",e.customizations.subtitle),r("disabled",!e.customizations.subtitleCheckbox),_(),r("ngForOf",e.videoCaptions());}}function Jt(n,s){if(n&1){let e=P();a(0,"div",51)(1,"my-peertube-checkbox",76),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.onlyEmbedUrl,t)||(o.customizations.onlyEmbedUrl=t),c(t);}),l()(),a(2,"div",51)(3,"my-peertube-checkbox",77),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.responsive,t)||(o.customizations.responsive=t),c(t);}),l()();}if(n&2){let e=d(3);_(),E("ngModel",e.customizations.onlyEmbedUrl),_(2),E("ngModel",e.customizations.responsive);}}function en(n,s){if(n&1){let e=P();a(0,"div",78)(1,"my-peertube-checkbox",79),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.stopAtCheckbox,t)||(o.customizations.stopAtCheckbox=t),c(t);}),l(),a(2,"my-timestamp-input",69),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.stopAt,t)||(o.customizations.stopAt=t),c(t);}),l()();}if(n&2){let e=d(3);_(),E("ngModel",e.customizations.stopAtCheckbox),_(),r("timestamp",e.customizations.stopAt)("maxTimestamp",e.video().duration)("disabled",!e.customizations.stopAtCheckbox),E("ngModel",e.customizations.stopAt);}}function tn(n,s){if(n&1){let e=P();a(0,"div",51)(1,"my-peertube-checkbox",80),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.loop,t)||(o.customizations.loop=t),c(t);}),l()();}if(n&2){let e=d(3);_(),E("ngModel",e.customizations.loop);}}function nn(n,s){if(n&1){let e=P();a(0,"div",51)(1,"my-peertube-checkbox",81),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.originUrl,t)||(o.customizations.originUrl=t),c(t);}),l()();}if(n&2){let e=d(3);_(),E("ngModel",e.customizations.originUrl);}}function on(n,s){if(n&1){let e=P();A(0),a(1,"div",51)(2,"my-peertube-checkbox",82),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.title,t)||(o.customizations.title=t),c(t);}),l()(),a(3,"div",51)(4,"my-peertube-checkbox",83),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.embedP2P,t)||(o.customizations.embedP2P=t),c(t);}),l()(),a(5,"div",51)(6,"my-peertube-checkbox",84),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.warningTitle,t)||(o.customizations.warningTitle=t),c(t);}),l()(),a(7,"div",51)(8,"my-peertube-checkbox",85),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.controlBar,t)||(o.customizations.controlBar=t),c(t);}),l()(),a(9,"div",51)(10,"my-peertube-checkbox",86),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.customizations.peertubeLink,t)||(o.customizations.peertubeLink=t),c(t);}),l()(),y();}if(n&2){let e=d(3);_(2),E("ngModel",e.customizations.title),_(2),E("ngModel",e.customizations.embedP2P),_(2),E("ngModel",e.customizations.warningTitle),r("disabled",!e.customizations.embedP2P),_(2),E("ngModel",e.customizations.controlBar),_(2),E("ngModel",e.customizations.peertubeLink);}}function _n(n,s){n&1&&(A(0),M(1,"span",87),A(2),C(3,18),y()());}function an(n,s){n&1&&(A(0),M(1,"span",88),A(2),C(3,19),y()());}function ln(n,s){if(n&1){let e=P();a(0,"div",55),g(1,Xt,2,0,"h5",28)(2,Wt,5,3,"my-alert",29)(3,Ft,2,0,"my-alert",29),a(4,"div",30,1),S("activeIdChange",function(t){m(e);let o=d(2);return u(o.activeVideoId,t)||(o.activeVideoId=t),c(t);}),A(6,31),a(7,"a",32),C(8,10),l(),g(9,Bt,2,5,"ng-template",33),y(),A(10,34),a(11,"a",32),C(12,11),l(),g(13,Yt,2,2,"ng-template",33),y(),A(14,35),a(15,"a",32),C(16,12),l(),g(17,Qt,4,7,"ng-template",33),y(),l(),M(18,"div",36),a(19,"div",37),g(20,jt,3,5,"div",56)(21,Kt,5,4,"div",57)(22,Jt,4,2),M(23,"my-plugin-placeholder",58),a(24,"div",59),g(25,en,3,5,"div",60),a(26,"div",51)(27,"my-peertube-checkbox",61),S("ngModelChange",function(t){m(e);let o=d(2);return u(o.customizations.autoplay,t)||(o.customizations.autoplay=t),c(t);}),l()(),a(28,"div",51)(29,"my-peertube-checkbox",62),S("ngModelChange",function(t){m(e);let o=d(2);return u(o.customizations.muted,t)||(o.customizations.muted=t),c(t);}),l()(),g(30,tn,2,1,"div",38)(31,nn,2,1,"div",38)(32,on,11,6,"ng-container",39),l(),a(33,"button",63),f("click",function(){m(e);let t=d(2);return c(t.isAdvancedCustomizationCollapsed=!t.isAdvancedCustomizationCollapsed);}),g(34,_n,4,0,"ng-container",39)(35,an,4,0,"ng-container",39),l()()();}if(n&2){let e=oe(5),i=d(2);_(),r("ngIf",i.playlist()),_(),r("ngIf",i.isPrivateVideo()),_(),r("ngIf",i.isPasswordProtectedVideo()),_(),E("activeId",i.activeVideoId),_(14),r("ngbNavOutlet",e),_(2),r("ngIf",!i.video().isLive),_(),r("ngIf",i.videoCaptions().length!==0),_(),W(i.isInVideoEmbedTab()?22:-1),_(2),r("ngbCollapse",i.isAdvancedCustomizationCollapsed)("animation",!0),_(),r("ngIf",!i.video().isLive),_(2),E("ngModel",i.customizations.autoplay),_(2),E("ngModel",i.customizations.muted),_(),r("ngIf",!i.video().isLive),_(),r("ngIf",!i.isLocalVideo()&&!i.isInVideoEmbedTab()),_(),r("ngIf",i.isInVideoEmbedTab()),_(),U("aria-expanded",!i.isAdvancedCustomizationCollapsed),_(),r("ngIf",i.isAdvancedCustomizationCollapsed),_(),r("ngIf",!i.isAdvancedCustomizationCollapsed);}}function rn(n,s){if(n&1){let e=P();a(0,"div",20)(1,"h4",21),C(2,2),l(),a(3,"button",22),f("click",function(){let t=m(e).close;return c(t());}),M(4,"my-global-icon",23),l()(),a(5,"div",24),g(6,Gt,22,6,"div",25)(7,ln,36,19,"div",26),l();}if(n&2){let e=d();_(6),r("ngIf",e.playlist()),_(),r("ngIf",e.video());}}var Jn=(()=>{let s=class s{modalService=O(lt);sanitizer=O(Ye);server=O(J);hooks=O(St);modal=X("modal");video=v(null);videoCaptions=v([]);playlist=v(null);playlistPosition=ze(null);activeVideoId="url";activePlaylistId="url";customizations;isAdvancedCustomizationCollapsed=!0;videoUrl;playlistUrl;videoEmbedUrl;playlistEmbedUrl;videoEmbedHTML;videoEmbedSafeHTML;playlistEmbedHTML;playlistEmbedSafeHTML;show(i,t){let o,T=this.videoCaptions();T&&T.length!==0&&(o=T[0].language.id),this.customizations=new Proxy({startAtCheckbox:!1,startAt:i?Math.floor(i):0,stopAtCheckbox:!1,stopAt:this.video()?.duration,subtitleCheckbox:!1,subtitle:o,loop:!1,originUrl:!1,autoplay:!1,muted:!1,embedP2P:this.server.getHTMLConfig().defaults.p2p.embed.enabled,onlyEmbedUrl:!1,title:!0,warningTitle:!0,controlBar:!0,peertubeLink:!0,responsive:!1,includeVideoInPlaylist:!1},{set:(b,I,N)=>(b[I]=N,I==="embedP2P"&&(this.customizations.warningTitle=N),this.onUpdate(),!0)}),this.playlistPosition.set(t),this.onUpdate(),this.modalService.open(this.modal(),{centered:!0}).shown.subscribe(()=>{this.hooks.runAction("action:modal.share.shown","video-watch",{video:this.video(),playlist:this.playlist()});});}getVideoUrl(){let i=this.customizations.originUrl?this.video().url:Je(this.video(),window.location.origin);return this.hooks.wrapFun(ae,L({url:i},this.getVideoOptions(!1)),"video-watch","filter:share.video-url.build.params","filter:share.video-url.build.result");}getVideoEmbedUrl(){return this.hooks.wrapFun(ae,L({url:this.video().embedUrl},this.getVideoOptions(!0)),"video-watch","filter:share.video-embed-url.build.params","filter:share.video-embed-url.build.result");}getVideoEmbedCode(i){return G(this,null,function*(){let{responsive:t}=i;return this.hooks.wrapFun(re,{embedUrl:yield this.getVideoEmbedUrl(),embedTitle:this.video().name,responsive:t,aspectRatio:this.video().aspectRatio},"video-watch","filter:share.video-embed-code.build.params","filter:share.video-embed-code.build.result");});}getPlaylistUrl(){let i=Ke(this.playlist());return this.hooks.wrapFun(le,L({url:i},this.getPlaylistOptions()),"video-watch","filter:share.video-playlist-url.build.params","filter:share.video-playlist-url.build.result");}getPlaylistEmbedUrl(){return this.hooks.wrapFun(le,L({url:this.playlist().embedUrl},this.getPlaylistOptions()),"video-watch","filter:share.video-playlist-embed-url.build.params","filter:share.video-playlist-embed-url.build.result");}getPlaylistEmbedCode(i){return G(this,null,function*(){let{responsive:t}=i;return this.hooks.wrapFun(re,{embedUrl:yield this.getPlaylistEmbedUrl(),embedTitle:this.playlist().displayName,responsive:t,aspectRatio:this.video()?.aspectRatio},"video-watch","filter:share.video-playlist-embed-code.build.params","filter:share.video-playlist-embed-code.build.result");});}onUpdate(){return G(this,null,function*(){this.playlist()&&(this.playlistUrl=yield this.getPlaylistUrl(),this.playlistEmbedUrl=yield this.getPlaylistEmbedUrl(),this.playlistEmbedHTML=yield this.getPlaylistEmbedCode({responsive:this.customizations.responsive}),this.playlistEmbedSafeHTML=this.sanitizer.bypassSecurityTrustHtml(yield this.getPlaylistEmbedCode({responsive:!1}))),this.video()&&(this.videoUrl=yield this.getVideoUrl(),this.videoEmbedUrl=yield this.getVideoEmbedUrl(),this.videoEmbedHTML=yield this.getVideoEmbedCode({responsive:this.customizations.responsive}),this.videoEmbedSafeHTML=this.sanitizer.bypassSecurityTrustHtml(yield this.getVideoEmbedCode({responsive:!1})));});}notSecure(){return window.location.protocol==="http:";}isInVideoEmbedTab(){return this.activeVideoId==="embed";}isInPlaylistEmbedTab(){return this.activePlaylistId==="embed";}isLocalVideo(){return this.video().isLocal;}isPrivateVideo(){return this.video().privacy.id===V.PRIVATE;}isPrivatePlaylist(){return this.playlist().privacy.id===Ze.PRIVATE;}isPasswordProtectedVideo(){return this.video().privacy.id===V.PASSWORD_PROTECTED;}getPlaylistOptions(i){let t=this.playlistPosition();return{baseUrl:i,playlistPosition:t&&this.customizations.includeVideoInPlaylist?t:void 0};}getVideoOptions(i){let t=i?{title:this.customizations.title,warningTitle:this.customizations.warningTitle,controlBar:this.customizations.controlBar,peertubeLink:this.customizations.peertubeLink,p2p:this.customizations.embedP2P===this.server.getHTMLConfig().defaults.p2p.embed.enabled?void 0:this.customizations.embedP2P}:{};return L({startTime:this.customizations.startAtCheckbox?this.customizations.startAt:void 0,stopTime:this.customizations.stopAtCheckbox?this.customizations.stopAt:void 0,subtitle:this.customizations.subtitleCheckbox?this.customizations.subtitle:void 0,loop:this.customizations.loop,autoplay:this.customizations.autoplay,muted:this.customizations.muted},t);}};D(s,"\u0275fac",function(t){return new(t||s)();}),D(s,"\u0275cmp",w({type:s,selectors:[["my-video-share"]],viewQuery:function(t,o){t&1&&F(o.modal,xt,5),t&2&&B();},inputs:{video:[1,"video"],videoCaptions:[1,"videoCaptions"],playlist:[1,"playlist"],playlistPosition:[1,"playlistPosition"]},outputs:{playlistPosition:"playlistPositionChange"},decls:2,vars:0,consts:()=>{let i;i="\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u044D\u0442\u043E \u043C\u043E\u0434\u0430\u043B\u044C\u043D\u043E\u0435 \u043E\u043A\u043D\u043E";let t;t="\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F";let o;o="URL";let T;T="QR \u043A\u043E\u0434";let b;b="HTML-\u043A\u043E\u0434";let I;I="\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u0435\u0441\u044C \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442\u043E\u043C";let N;N="\u042D\u0442\u043E\u0442 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442 \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0447\u0430\u0441\u0442\u043D\u044B\u043C, \u043F\u043E\u044D\u0442\u043E\u043C\u0443 \u0432\u044B \u043D\u0435 \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F \u0438\u043C \u0441 \u0434\u0440\u0443\u0433\u0438\u043C\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C\u0438";let $;$="\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u043A\u043E\u043D\u0444\u0438\u0434\u0435\u043D\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442\u0430";let z;z="\u041F\u043B\u0435\u0439\u043B\u0438\u0441\u0442 URL";let k;k="URL \u0434\u043B\u044F \u0432\u0441\u0442\u0430\u0432\u043A\u0438 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442\u0430";let R;R="URL \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442 \u043D\u0435 \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u044B\u0439 \u043F\u0440\u043E\u0442\u043E\u043A\u043E\u043B, \u043F\u043E\u044D\u0442\u043E\u043C\u0443 \u0432\u0441\u0442\u0440\u043E\u0435\u043D\u043D\u043E\u0435 \u0432\u0438\u0434\u0435\u043E \u043D\u0435 \u0431\u0443\u0434\u0435\u0442 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E \u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u043D\u0430 \u0441\u0430\u0439\u0442\u0430\u0445, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0449\u0438\u0445 \u043F\u0440\u043E\u0442\u043E\u043A\u043E\u043B HTTPS (\u0432\u0435\u0431-\u0431\u0440\u0430\u0443\u0437\u0435\u0440\u044B \u0431\u043B\u043E\u043A\u0438\u0440\u0443\u044E\u0442 \u043D\u0435\u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u044B\u0435 HTTP-\u0437\u0430\u043F\u0440\u043E\u0441\u044B).";let se;se="\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u0435\u0441\u044C \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442\u043E\u043C \u0441 \u0442\u0435\u043A\u0443\u0449\u0435\u0439 \u043F\u043E\u0437\u0438\u0446\u0438\u0438 \u0432\u0438\u0434\u0435\u043E";let de;de="\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E URL-\u0430\u0434\u0440\u0435\u0441 \u0434\u043B\u044F \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043D\u0438\u044F";let pe;pe="\u0410\u0434\u0430\u043F\u0442\u0438\u0432\u043D\u043E\u0435 \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043D\u0438\u0435";let me;me="\u0410\u0432\u0442\u043E\u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0435";let ce;ce="\u0417\u0430\u0433\u043B\u0443\u0448\u0435\u043D\u043E";let ge;ge="URL";let Ee;Ee="QR \u043A\u043E\u0434";let ue;ue="HTML-\u043A\u043E\u0434";let Se;Se="\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u0435\u0441\u044C \u0432\u0438\u0434\u0435\u043E";let Ce;Ce="\u042D\u0442\u043E \u0432\u0438\u0434\u0435\u043E \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0447\u0430\u0441\u0442\u043D\u044B\u043C, \u043F\u043E\u044D\u0442\u043E\u043C\u0443 \u0432\u044B \u043D\u0435 \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F \u0438\u043C \u0441 \u0434\u0440\u0443\u0433\u0438\u043C\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C\u0438";let Me;Me="\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u043A\u043E\u043D\u0444\u0438\u0434\u0435\u043D\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u0432\u0438\u0434\u0435\u043E";let Ae;Ae="\u042D\u0442\u043E \u0432\u0438\u0434\u0435\u043E \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043E \u043F\u0430\u0440\u043E\u043B\u0435\u043C, \u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043E\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043D\u0438\u043C\u0430\u043D\u0438\u0435, \u0447\u0442\u043E \u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u044F\u043C \u043F\u043E\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043F\u0430\u0440\u043E\u043B\u044C \u0434\u043B\u044F \u0434\u043E\u0441\u0442\u0443\u043F\u0430 \u043A \u043A\u043E\u043D\u0442\u0435\u043D\u0442\u0443.";let ye;ye="\u0412\u0438\u0434\u0435\u043E URL";let Pe;Pe="URL \u0434\u043B\u044F \u0432\u0441\u0442\u0430\u0432\u043A\u0438 \u0432\u0438\u0434\u0435\u043E";let Te;Te="URL \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442 \u043D\u0435 \u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u044B\u0439 \u043F\u0440\u043E\u0442\u043E\u043A\u043E\u043B, \u043F\u043E\u044D\u0442\u043E\u043C\u0443 \u0432\u0441\u0442\u0440\u043E\u0435\u043D\u043D\u043E\u0435 \u0432\u0438\u0434\u0435\u043E \u043D\u0435 \u0431\u0443\u0434\u0435\u0442 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E \u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u043D\u0430 \u0441\u0430\u0439\u0442\u0430\u0445, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0449\u0438\u0445 \u043F\u0440\u043E\u0442\u043E\u043A\u043E\u043B HTTPS (\u0432\u0435\u0431-\u0431\u0440\u0430\u0443\u0437\u0435\u0440\u044B \u0431\u043B\u043E\u043A\u0438\u0440\u0443\u044E\u0442 \u043D\u0435\u0437\u0430\u0449\u0438\u0449\u0435\u043D\u043D\u044B\u0435 HTTP-\u0437\u0430\u043F\u0440\u043E\u0441\u044B).";let ve;ve="\u041D\u0430\u0447\u0430\u043B\u043E \u0432";let Re;Re="\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0432\u044B\u0431\u043E\u0440 \u043F\u043E\u0434\u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430";let Oe;Oe="\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E URL-\u0430\u0434\u0440\u0435\u0441 \u0434\u043B\u044F \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043D\u0438\u044F";let fe;fe="\u0410\u0434\u0430\u043F\u0442\u0438\u0432\u043D\u043E\u0435 \u0432\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043D\u0438\u0435";let be;be="\u041A\u043E\u043D\u0435\u0446 \u0432";let he;he="\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C";let De;De="\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C URL \u0438\u0441\u0445\u043E\u0434\u043D\u043E\u0433\u043E \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440\u0430";let xe;xe="\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0430 \u0432\u0438\u0434\u0435\u043E";let Ie;Ie="P2P";let Ne;Ne="\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043F\u0440\u0435\u0434\u0443\u043F\u0440\u0435\u0436\u0434\u0435\u043D\u0438\u044F \u043E \u043A\u043E\u043D\u0444\u0438\u0434\u0435\u043D\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0441\u0442\u0438";let Le;Le="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u0430\u043D\u0435\u043B\u044C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043F\u043B\u0435\u0435\u0440\u043E\u043C";let we;we="\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C PeerTube \u0441\u0441\u044B\u043B\u043A\u0443";let He;He="\u0411\u043E\u043B\u044C\u0448\u0435 \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043A";let Ve;return Ve="\u041C\u0435\u043D\u044C\u0448\u0435 \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043A",[["modal",""],["nav","ngbNav"],t,o,T,b,I,N,$,R,ge,Ee,ue,Se,Ce,Me,Ae,Te,He,Ve,[1,"modal-header"],[1,"modal-title"],["title",i,1,"border-0","p-0",3,"click"],["iconName","cross"],[1,"modal-body"],["class","playlist",4,"ngIf"],["class","video",4,"ngIf"],[1,"playlist"],["class","text-center mb-4",4,"ngIf"],["class","alert-private","type","warning",4,"ngIf"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],["ngbNavItem","url"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","qrcode"],["ngbNavItem","embed"],[3,"ngbNavOutlet"],[1,"filters"],["class","form-group",4,"ngIf"],[4,"ngIf"],["pluginId","share-modal-playlist-settings"],[1,"text-center","mb-4"],["type","warning",1,"alert-private"],["target","_blank","rel","noopener noreferrer",1,"peertube-button-link","primary-button",3,"routerLink"],[1,"nav-content"],["inputId","playlist-url","ariaLabel",z,3,"value","withToggle","withCopy","show","readonly"],["level","Q",3,"qrdata","width"],["inputId","playlist-embed-url","ariaLabel",k,3,"change","value","withToggle","withCopy","show","readonly"],["type","warning","class","mt-3",4,"ngIf"],[1,"embed",3,"innerHTML"],["type","warning",1,"mt-3"],[1,"form-group"],["inputName","includeVideoInPlaylist","labelText",se,3,"ngModelChange","ngModel"],["inputName","onlyEmbedUrl","labelText",de,3,"ngModelChange","ngModel"],["inputName","responsive","labelText",pe,3,"ngModelChange","ngModel"],[1,"video"],["class","form-group start-at",4,"ngIf"],["class","form-group video-caption-block",4,"ngIf"],["pluginId","share-modal-video-settings"],[1,"advanced-filters",3,"ngbCollapse","animation"],["class","form-group stop-at",4,"ngIf"],["inputName","autoplay","labelText",me,3,"ngModelChange","ngModel"],["inputName","muted","labelText",ce,3,"ngModelChange","ngModel"],["aria-controls","collapseBasic",1,"border-0","p-0","mt-4","mx-auto","fw-semibold","d-block",3,"click"],["target","_blank","rel","noopener noreferrer",1,"peertube-button-link","primary-button","mt-3",3,"routerLink"],["inputId","video-url","ariaLabel",ye,3,"value","withToggle","withCopy","show","readonly"],["inputId","video-embed-url","ariaLabel",Pe,3,"ngModelChange","value","withToggle","withCopy","show","readonly"],[1,"form-group","start-at"],["inputName","startAt","labelText",ve,3,"ngModelChange","ngModel"],[3,"ngModelChange","timestamp","maxTimestamp","disabled","ngModel"],[1,"form-group","video-caption-block"],["inputName","subtitleCheckbox","labelText",Re,3,"ngModelChange","ngModel"],[1,"peertube-select-container"],[1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["inputName","onlyEmbedUrl","labelText",Oe,3,"ngModelChange","ngModel"],["inputName","responsive","labelText",fe,3,"ngModelChange","ngModel"],[1,"form-group","stop-at"],["inputName","stopAt","labelText",be,3,"ngModelChange","ngModel"],["inputName","loop","labelText",he,3,"ngModelChange","ngModel"],["inputName","originUrl","labelText",De,3,"ngModelChange","ngModel"],["inputName","title","labelText",xe,3,"ngModelChange","ngModel"],["inputName","embedP2P","labelText",Ie,3,"ngModelChange","ngModel"],["inputName","warningTitle","labelText",Ne,3,"ngModelChange","ngModel","disabled"],["inputName","controlBar","labelText",Le,3,"ngModelChange","ngModel"],["inputName","peertubeLink","labelText",we,3,"ngModelChange","ngModel"],[1,"chevron-down"],[1,"chevron-up"]];},template:function(t,o){t&1&&g(0,rn,8,2,"ng-template",null,0,Ge);},dependencies:[ee,Y,q,dt,st,mt,pt,rt,At,ft,ct,te,Z,Qe,je,qe,Q,j,ht,ne,Fe,et,Mt],styles:[`my-timestamp-input[_ngcontent-%COMP%]{width:100px}my-input-text[_ngcontent-%COMP%]{width:100%}.playlist[_ngcontent-%COMP%]{margin-bottom:50px}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;position:relative;height:min-content;width:200px}@media screen and (max-width: 170px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:var(--fg-300);margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{line-height:24px}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:inherit;background-color:transparent;border:1px solid var(--bg-secondary-500)!important}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:active, .peertube-select-container[_ngcontent-%COMP%]   select.active[_ngcontent-%COMP%], .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible{color:inherit;background-color:var(--bg-secondary-500);border-color:var(--bg-secondary-500)}.peertube-select-container[_ngcontent-%COMP%]   select.btn[_ngcontent-%COMP%]:active, .peertube-select-container[_ngcontent-%COMP%]   select.btn[_ngcontent-%COMP%]:focus-visible, .peertube-select-container[_ngcontent-%COMP%]   select.btn.show[_ngcontent-%COMP%]{color:inherit!important;background-color:var(--bg-secondary-500)!important;border-color:var(--bg-secondary-500)!important}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{color:inherit;background-color:var(--bg-secondary-450)}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.8}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:not(.icon-only)   my-global-icon[_ngcontent-%COMP%]{color:var(--secondary-icon-color)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) calc(var(--input-x-padding) + 23px) var(--input-y-padding) var(--input-x-padding);position:relative;border:1px solid var(--input-border-color)!important;-webkit-appearance:none;appearance:none;text-overflow:ellipsis;color:var(--input-fg);background:var(--input-bg);border-radius:var(--input-border-radius)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100)}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{opacity:.5}.qr-code-group[_ngcontent-%COMP%]{text-align:center}.nav-content[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:center;align-items:center;flex-direction:column}.alert[_ngcontent-%COMP%], .embed[_ngcontent-%COMP%]{margin-top:20px}.filters[_ngcontent-%COMP%]{margin-top:30px}.filters[_ngcontent-%COMP%]   .advanced-filters.show[_ngcontent-%COMP%]{overflow:visible!important}.filters[_ngcontent-%COMP%]   .advanced-filters-button[_ngcontent-%COMP%]{font-weight:600}.filters[_ngcontent-%COMP%]   .video-caption-block[_ngcontent-%COMP%]{display:flex;align-items:center}.filters[_ngcontent-%COMP%]   .video-caption-block[_ngcontent-%COMP%]   .peertube-select-container[_ngcontent-%COMP%]{margin-inline-start:.625rem}.filters[_ngcontent-%COMP%]   .start-at[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .stop-at[_ngcontent-%COMP%]{width:300px;display:flex;align-items:center}.filters[_ngcontent-%COMP%]   .start-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .stop-at[_ngcontent-%COMP%]   my-timestamp-input[_ngcontent-%COMP%]{margin-inline-start:.625rem}.alert-private[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}h5[_ngcontent-%COMP%]{font-size:1.15rem}
/*# sourceMappingURL=video-share.component-Q5YR6MDE.css.map */`]}));let n=s;return n;})();var sn=["moreDropdown"],dn=n=>({playing:n}),pn=n=>["/c",n];function mn(n,s){n&1&&M(0,"my-global-icon",18);}function cn(n,s){if(n&1&&(A(0),h(1),y()),n&2){let e=d();_(),x(e.position());}}function gn(n,s){if(n&1&&M(0,"my-video-thumbnail",19),n&2){let e=d();r("video",e.playlistElement().video)("blur",e.hasNSFWBlur(e.playlistElement().video))("videoRouterLink",e.buildRouterLink())("queryParams",e.buildRouterQuery())("ariaLabel",e.getVideoAriaLabel());}}function En(n,s){n&1&&M(0,"div",20);}function un(n,s){n&1&&(a(0,"span",23),C(1,1),l());}function Sn(n,s){n&1&&(a(0,"span",23),C(1,2),l());}function Cn(n,s){if(n&1&&(a(0,"button",32),M(1,"my-global-icon",33),l()),n&2){let e=d(2);r("ngbTooltip",e.getNSFWTooltip(e.playlistElement().video)),U("aria-label",e.getNSFWTooltip(e.playlistElement().video));}}function Mn(n,s){if(n&1&&(A(0),h(1),y()),n&2){let e=d(3);_(),x(e.playlistElement().video.byAccount);}}function An(n,s){if(n&1&&(A(0),h(1),y()),n&2){let e=d(3);_(),x(e.playlistElement().video.byVideoChannel);}}function yn(n,s){if(n&1&&(a(0,"a",34),g(1,Mn,2,1,"ng-container",12)(2,An,2,1,"ng-container",12),l()),n&2){let e=d(2);r("routerLink",H(3,pn,e.playlistElement().video.byVideoChannel)),_(),r("ngIf",e.getVideoOwnerDisplayType(e.playlistElement())==="account"),_(),r("ngIf",e.getVideoOwnerDisplayType(e.playlistElement())==="videoChannel");}}function Pn(n,s){if(n&1&&(a(0,"span",35),h(1),l()),n&2){let e=d(2);_(),x(e.playlistElement().video.byAccount);}}function Tn(n,s){if(n&1&&(A(0),a(1,"div",21)(2,"a",22),h(3),l(),g(4,un,2,0,"span",23)(5,Sn,2,0,"span",23)(6,Cn,2,2,"button",24),l(),a(7,"span",25),M(8,"my-date-toggle",26),a(9,"span",27),h(10," \u2022 "),M(11,"my-video-views-counter",28),l()(),g(12,yn,3,5,"a",29)(13,Pn,2,1,"span",30),a(14,"span",31),h(15),l(),y()),n&2){let e=d();_(2),r("ariaLabel",e.getVideoAriaLabel())("routerLink",e.buildRouterLink())("queryParams",e.buildRouterQuery()),U("title",e.playlistElement().video.name),_(),x(e.playlistElement().video.name),_(),W(e.isVideoPrivate()?4:e.isVideoPasswordProtected()?5:-1),_(2),r("ngIf",e.hasNSFWWarning(e.playlistElement().video)),_(2),r("date",e.playlistElement().video.publishedAt),_(3),r("isLive",e.playlistElement().video.isLive)("viewers",e.playlistElement().video.viewers)("views",e.playlistElement().video.views),_(),r("ngIf",e.accountLink()),_(),r("ngIf",!e.accountLink()),_(2),x(e.formatTimestamp(e.playlistElement()));}}function vn(n,s){n&1&&(A(0),C(1,3),y());}function Rn(n,s){n&1&&(A(0),C(1,4),y());}function On(n,s){n&1&&(A(0),C(1,5),y());}function fn(n,s){if(n&1&&(a(0,"span",36),g(1,vn,2,0,"ng-container",12)(2,Rn,2,0,"ng-container",12)(3,On,2,0,"ng-container",12),l()),n&2){let e=d();_(),r("ngIf",e.isUnavailable(e.playlistElement())),_(),r("ngIf",e.isPrivate(e.playlistElement())),_(),r("ngIf",e.isDeleted(e.playlistElement()));}}function bn(n,s){if(n&1){let e=P();a(0,"div",45)(1,"div")(2,"my-peertube-checkbox",46),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.timestampOptions.startTimestampEnabled,t)||(o.timestampOptions.startTimestampEnabled=t),c(t);}),l(),a(3,"my-timestamp-input",47),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.timestampOptions.startTimestamp,t)||(o.timestampOptions.startTimestamp=t),c(t);}),l()(),a(4,"div")(5,"my-peertube-checkbox",48),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.timestampOptions.stopTimestampEnabled,t)||(o.timestampOptions.stopTimestampEnabled=t),c(t);}),l(),a(6,"my-timestamp-input",47),S("ngModelChange",function(t){m(e);let o=d(3);return u(o.timestampOptions.stopTimestamp,t)||(o.timestampOptions.stopTimestamp=t),c(t);}),l()(),a(7,"input",49),f("click",function(){m(e);let t=d(3);return c(t.updateTimestamps(t.playlistElement()));}),l()();}if(n&2){let e=d(3);_(2),E("ngModel",e.timestampOptions.startTimestampEnabled),_(),r("timestamp",e.timestampOptions.startTimestamp)("maxTimestamp",e.playlistElement().video.duration)("disabled",!e.timestampOptions.startTimestampEnabled),E("ngModel",e.timestampOptions.startTimestamp),_(2),E("ngModel",e.timestampOptions.stopTimestampEnabled),_(),r("timestamp",e.timestampOptions.stopTimestamp)("maxTimestamp",e.playlistElement().video.duration)("disabled",!e.timestampOptions.stopTimestampEnabled),E("ngModel",e.timestampOptions.stopTimestamp);}}function hn(n,s){if(n&1){let e=P();A(0),a(1,"button",41),f("click",function(t){m(e);let o=d(2);return c(o.toggleDisplayTimestampsOptions(t,o.playlistElement()));}),M(2,"my-global-icon",43),A(3),C(4,7),y(),l(),g(5,bn,8,10,"div",44),y();}if(n&2){let e=d(2);_(5),r("ngIf",e.displayTimestampOptions);}}function Dn(n,s){if(n&1){let e=P();a(0,"div",37,0),f("openChange",function(){m(e);let t=d();return c(t.onDropdownOpenChange());}),a(2,"button",38),f("click",function(t){return m(e),c(t.preventDefault());}),M(3,"my-global-icon",39),l(),a(4,"div",40),g(5,hn,6,1,"ng-container",12),a(6,"button",41),f("click",function(){m(e);let t=d();return c(t.removeFromPlaylist(t.playlistElement()));}),M(7,"my-global-icon",42),A(8),C(9,6),y(),l()()();}if(n&2){let e,i=d();_(5),r("ngIf",i.playlistElement().video),_(4),ke((e=i.playlist())==null?null:e.displayName),Ue(9);}}var Ti=(()=>{let s=class s{userService=O(Ct);serverService=O(J);notifier=O(ut);videoPlaylistService=O(Tt);videoService=O(yt);cdr=O(Xe);moreDropdown=X("moreDropdown");playlist=v(void 0);playlistElement=v(void 0);owned=v(!1);playing=v(!1);rowLink=v(!1);accountLink=v(!0);position=v(void 0);elementRemoved=$e();displayTimestampOptions=!1;timestampOptions={};serverConfig;user;ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),this.userService.getAnonymousOrLoggedUser().subscribe(i=>{this.user=i;});}getVideoAriaLabel(){return"\u041F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u0432\u0438\u0434\u0435\u043E "+this.playlistElement().video.name+"";}getVideoOwnerDisplayType(i){return this.videoService.buildDefaultOwnerDisplayType(i.video);}isVideoPrivate(){return this.playlistElement().video.privacy.id===V.PRIVATE;}isVideoPasswordProtected(){return this.playlistElement().video.privacy.id===V.PASSWORD_PROTECTED;}isUnavailable(i){return i.type===K.UNAVAILABLE;}isPrivate(i){return i.type===K.PRIVATE;}isDeleted(i){return i.type===K.DELETED;}buildRouterLink(){let i=this.playlist();return i?Pt.buildWatchUrl(i):null;}buildRouterQuery(){let i=this.playlistElement();return i?.video?{playlistPosition:i.position,start:i.startTimestamp,stop:i.stopTimestamp,resume:!0}:{};}hasNSFWBlur(i){return i.isNSFWBlurForUser(this.user,this.serverConfig);}hasNSFWWarning(i){return i.isNSFWWarnedForUser(this.user,this.serverConfig);}getNSFWTooltip(i){return this.videoService.buildNSFWTooltip(i);}removeFromPlaylist(i){let t=this.playlistElement(),o=t.video?t.video.id:void 0;this.videoPlaylistService.removeVideoFromPlaylist(this.playlist().id,i.id,o).subscribe({next:()=>{this.notifier.success("\u0412\u0438\u0434\u0435\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u043E \u0441\n          "+this.playlist().displayName+"\n        "),this.elementRemoved.emit(i);},error:T=>this.notifier.error(T.message)}),this.moreDropdown().close();}updateTimestamps(i){let t={};t.startTimestamp=this.timestampOptions.startTimestampEnabled?this.timestampOptions.startTimestamp:null,t.stopTimestamp=this.timestampOptions.stopTimestampEnabled?this.timestampOptions.stopTimestamp:null,this.videoPlaylistService.updateVideoOfPlaylist(this.playlist().id,i.id,t,this.playlistElement().video.id).subscribe({next:()=>{this.notifier.success("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u044B \u0433\u043B\u0430\u0432\u044B"),i.startTimestamp=t.startTimestamp,i.stopTimestamp=t.stopTimestamp,this.cdr.detectChanges();},error:o=>this.notifier.error(o.message)}),this.moreDropdown().close();}formatTimestamp(i){let t=i.startTimestamp,o=i.stopTimestamp,T=_e({seconds:t,format:"full",symbol:":"}),b=_e({seconds:o,format:"full",symbol:":"});return t===null&&o===null?"":t!==null&&o===null?"\u041D\u0430\u0447\u0438\u043D\u0430\u0435\u0442\u0441\u044F \u0441"+T:t===null&&o!==null?"\u041E\u0441\u0442\u0430\u043D\u0430\u0432\u043B\u0438\u0432\u0430\u0435\u0442\u0441\u044F \u0432"+b:"\u041D\u0430\u0447\u0438\u043D\u0430\u0435\u0442\u0441\u044F \u0441"+T+"\u0438 \u043E\u0441\u0442\u0430\u043D\u0430\u0432\u043B\u0438\u0432\u0430\u0435\u0442\u0441\u044F \u0432"+b;}onDropdownOpenChange(){this.displayTimestampOptions=!1;}toggleDisplayTimestampsOptions(i,t){i.preventDefault(),this.displayTimestampOptions=!this.displayTimestampOptions,this.displayTimestampOptions===!0&&(this.timestampOptions={startTimestampEnabled:!1,stopTimestampEnabled:!1,startTimestamp:0,stopTimestamp:t.video.duration},t.startTimestamp&&(this.timestampOptions.startTimestampEnabled=!0,this.timestampOptions.startTimestamp=t.startTimestamp),t.stopTimestamp&&(this.timestampOptions.stopTimestampEnabled=!0,this.timestampOptions.stopTimestamp=t.stopTimestamp)),this.cdr.markForCheck();}};D(s,"\u0275fac",function(t){return new(t||s)();}),D(s,"\u0275cmp",w({type:s,selectors:[["my-video-playlist-element-miniature"]],viewQuery:function(t,o){t&1&&F(o.moreDropdown,sn,5),t&2&&B();},inputs:{playlist:[1,"playlist"],playlistElement:[1,"playlistElement"],owned:[1,"owned"],playing:[1,"playing"],rowLink:[1,"rowLink"],accountLink:[1,"accountLink"],position:[1,"position"]},outputs:{elementRemoved:"elementRemoved"},decls:11,vars:12,consts:()=>{let i;i="\u041F\u0440\u0438\u0432\u0430\u0442\u043D\u044B\u0439";let t;t="\u0417\u0430\u0449\u0438\u0449\u0435\u043D\u043E \u043F\u0430\u0440\u043E\u043B\u0435\u043C";let o;o="\u041D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u043E";let T;T="\u041F\u0440\u0438\u0432\u0430\u0442\u043D\u044B\u0439";let b;b="\u0423\u0434\u0430\u043B\u0435\u043D\u043E";let I;I="\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441 "+"\uFFFD0\uFFFD"+"";let N;N="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043D\u0430\u0447\u0430\u043B\u043E/\u043A\u043E\u043D\u0435\u0446 \u0432";let $;$="\u041D\u0430\u0447\u0430\u043B\u043E \u0432";let z;z="\u041A\u043E\u043D\u0435\u0446 \u0432";let k;return k="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",[["moreDropdown","ngbDropdown"],i,t,o,T,b,I,N,[1,"video",3,"ngClass"],[3,"routerLink","queryParams"],[1,"position"],["iconName","play",4,"ngIf"],[4,"ngIf"],[3,"video","blur","videoRouterLink","queryParams","ariaLabel",4,"ngIf"],["class","fake-thumbnail",4,"ngIf"],[1,"video-info"],["class","video-info-name",4,"ngIf"],["class","more dropdown-root","ngbDropdown","","placement","left auto","autoClose","outside","container","body",3,"openChange",4,"ngIf"],["iconName","play"],[3,"video","blur","videoRouterLink","queryParams","ariaLabel"],[1,"fake-thumbnail"],[1,"video-info-header"],["tabindex","-1",1,"video-info-name",3,"ariaLabel","routerLink","queryParams"],[1,"pt-badge","badge-yellow"],["type","button","class","nsfw-warning button-unstyle ms-2",3,"ngbTooltip",4,"ngIf"],[1,"date-and-views"],[3,"date"],[1,"views"],[3,"isLive","viewers","views"],["tabindex","-1","class","video-info-owner",3,"routerLink",4,"ngIf"],["tabindex","-1","class","video-info-owner",4,"ngIf"],["tabindex","-1",1,"video-info-timestamp"],["type","button",1,"nsfw-warning","button-unstyle","ms-2",3,"ngbTooltip"],["iconName","eye-close"],["tabindex","-1",1,"video-info-owner",3,"routerLink"],["tabindex","-1",1,"video-info-owner"],[1,"video-info-name"],["ngbDropdown","","placement","left auto","autoClose","outside","container","body",1,"more","dropdown-root",3,"openChange"],["ngbDropdownToggle","",1,"border-0","p-0","more-button",3,"click"],["iconName","more-vertical"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["iconName","delete","aria-hidden","true"],["iconName","edit","aria-hidden","true"],["class","timestamp-options",4,"ngIf"],[1,"timestamp-options"],["inputName","startAt","labelText",$,3,"ngModelChange","ngModel"],[3,"ngModelChange","timestamp","maxTimestamp","disabled","ngModel"],["inputName","stopAt","labelText",z,3,"ngModelChange","ngModel"],["type","submit","value",k,1,"peertube-button","primary-button","mt-2",3,"click"]];},template:function(t,o){t&1&&(a(0,"div",8)(1,"a",9)(2,"div",10),g(3,mn,1,0,"my-global-icon",11)(4,cn,2,1,"ng-container",12),l(),g(5,gn,1,5,"my-video-thumbnail",13)(6,En,1,0,"div",14),a(7,"div",15),g(8,Tn,16,14,"ng-container",12)(9,fn,4,3,"span",16),l()(),g(10,Dn,10,2,"div",17),l()),t&2&&(r("ngClass",H(10,dn,o.playing())),_(),r("routerLink",o.buildRouterLink())("queryParams",o.buildRouterQuery()),_(2),r("ngIf",o.playing()),_(),r("ngIf",!o.playing()),_(),r("ngIf",o.playlistElement().video),_(),r("ngIf",!o.playlistElement().video),_(2),r("ngIf",o.playlistElement().video),_(),r("ngIf",!o.playlistElement().video),_(),r("ngIf",o.owned()));},dependencies:[Be,We,Y,q,ee,Rt,vt,Ot,at,_t,ot,it,tt,nt,te,Z,Q,j,ne,Et,gt],styles:[`my-timestamp-input[_ngcontent-%COMP%]{width:100px}my-video-thumbnail[_ngcontent-%COMP%]     .video-thumbnail{width:130px;height:72px}.fake-thumbnail[_ngcontent-%COMP%]{width:130px;height:72px;background-color:#ececec}my-video-thumbnail[_ngcontent-%COMP%], .fake-thumbnail[_ngcontent-%COMP%]{display:flex;margin-inline-end:.625rem}.nsfw-warning[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;line-height:18px}.video[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;background-color:var(--bg);padding:10px;border-bottom:1px solid var(--bg-secondary-400)}.video.playing[_ngcontent-%COMP%]{background-color:#00000005}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--fg)}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{text-decoration:none}.video[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:flex;min-width:0;align-items:center;cursor:pointer}.video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-weight:600;color:var(--fg-300);min-width:25px}.video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;left:-2px;color:var(--fg-300);display:inline-block;width:17px;height:17px;line-height:17px}.video[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{cursor:pointer;min-width:24px;margin-inline-start:auto}.video[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]:after{border:0}.video[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{color:var(--fg-300)}.video[_ngcontent-%COMP%]:hover, .video[_ngcontent-%COMP%]:focus{background-color:#0000000d}.video[_ngcontent-%COMP%]:hover   .more-button[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]:focus-within   .more-button[_ngcontent-%COMP%], .video[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]{opacity:1}@media not all and (hover: hover) and (pointer: fine){.video[_ngcontent-%COMP%]   .more-button[_ngcontent-%COMP%]{opacity:1!important}}.video-info-name[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.video-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:flex-start;min-width:0}.video-info[_ngcontent-%COMP%]   .video-info-header[_ngcontent-%COMP%]{display:flex;align-items:baseline}.video-info[_ngcontent-%COMP%]   .video-info-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:auto}.video-info[_ngcontent-%COMP%]   .video-info-header[_ngcontent-%COMP%]   .pt-badge[_ngcontent-%COMP%]{margin:0 5px;white-space:nowrap}.video-info[_ngcontent-%COMP%]   .video-info-owner[_ngcontent-%COMP%], .video-info[_ngcontent-%COMP%]   .video-info-timestamp[_ngcontent-%COMP%]{color:var(--fg-300)}.video-info-owner[_ngcontent-%COMP%], .video-info-timestamp[_ngcontent-%COMP%], .date-and-views[_ngcontent-%COMP%]{font-size:14px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{cursor:pointer;padding:var(--input-y-padding) 15px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;position:relative;top:-2px;margin-inline-end:.625rem}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]{padding-top:0;margin-top:5px;margin-bottom:15px;padding-inline-start:calc(1.34375rem + 1.125vw)}@media (min-width: 1200px){.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]{padding-inline-start:2.1875rem}}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px}.dropdown-menu[_ngcontent-%COMP%]   .timestamp-options[_ngcontent-%COMP%]   my-peertube-checkbox[_ngcontent-%COMP%]{margin-inline-end:.3125rem}@media screen and (min-width: 800px){.video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more-button[_ngcontent-%COMP%]{display:inline-flex}.video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:none}.video.playing[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]{display:inline-flex;height:max-content;margin:auto}.video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%] + .more-button[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 500px){.video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit{padding:0 13px}.video[_ngcontent-%COMP%]   my-edit-button[_ngcontent-%COMP%]     .action-button-edit .button-label{display:none}}
/*# sourceMappingURL=video-playlist-element-miniature.component-33ZGOBKZ.css.map */`],changeDetection:0}));let n=s;return n;})();export{ht as a,Jn as b,Ti as c};/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*///# sourceMappingURL=chunk-CPWI2B3B.js.map