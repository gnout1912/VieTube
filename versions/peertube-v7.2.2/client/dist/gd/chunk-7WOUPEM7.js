import{b as G}from"./chunk-3PB3Q4OH.js";import{h as b}from"./chunk-BOZAQTZE.js";import{b as y,c as W}from"./chunk-25AA3I7H.js";import{B as D,C as $,d as O,g as C,h as M,n as N,q as w,t as v}from"./chunk-WO4VNXA3.js";import"./chunk-PE7TFI7A.js";import{Bb as T,Ha as _,Sa as P,Sg as h,Wa as c,Xf as I,aa as s,eb as S,kd as A,la as u,nb as a,ob as t,od as g,pb as d,xb as m}from"./chunk-F7FAPFPY.js";import{i as p}from"./chunk-AI7IVZV2.js";var L={VALIDATORS:[O.required],MESSAGES:{required:"Tha dearbhadh an fhacail-fhaire riatanach."}};var F=(()=>{let r=class r extends W{formReactiveService=s(y);userService=s(h);notifier=s(I);router=s(g);route=s(A);userId;verificationString;ngOnInit(){this.buildForm({password:b,"password-confirm":L}),this.userId=this.route.snapshot.queryParams.userId,this.verificationString=this.route.snapshot.queryParams.verificationString,(!this.userId||!this.verificationString)&&(this.notifier.error("Cha deach leinn ID cleachdaiche no sreang dhearbhaidh a lorg."),this.router.navigate(["/"]));}resetPassword(){this.userService.resetPassword(this.userId,this.verificationString,this.form.value.password).subscribe({next:()=>{this.notifier.success("Chaidh am facal-faire agad ath-shuidheachadh!"),this.router.navigate(["/login"]);},error:e=>this.notifier.error(e.message)});}isConfirmedPasswordValid(){let e=this.form.value;return e.password===e["password-confirm"];}};p(r,"\u0275fac",(()=>{let e;return function(o){return(e||(e=u(r)))(o||r);};})()),p(r,"\u0275cmp",P({type:r,selectors:[["ng-component"]],features:[c],decls:13,vars:4,consts:()=>{let e;e="Facal-faire";let i;i="Chaidh am facal-faire a dhearbhadh";let o;o="Ath-shuidhich am facal-faire agam";let E;E="Ath-shuidhich am facal-faire agam";let R;R="Facal-faire";let f;return f="Dearbh am facal-faire",[E,R,f,[1,"margin-content"],[1,"title-page"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","password"],["formControlName","password","inputId","password","placeholder",e,"autocomplete","new-password",3,"formError"],["for","password-confirm"],["formControlName","password-confirm","inputId","password-confirm","placeholder",i,"autocomplete","new-password",3,"formError"],["type","submit","value",o,1,"peertube-button","primary-button",3,"disabled"]];},template:function(i,o){i&1&&(a(0,"div",3)(1,"h1",4),m(2,0),t(),a(3,"form",5),T("ngSubmit",function(){return o.resetPassword();}),a(4,"div",6)(5,"label",7),m(6,1),t(),d(7,"my-input-text",8),t(),a(8,"div",6)(9,"label",9),m(10,2),t(),d(11,"my-input-text",10),t(),d(12,"input",11),t()()),i&2&&(_(3),S("formGroup",o.form),_(4),S("formError",o.formErrors.password),_(4),S("formError",o.formErrors["password-confirm"]),_(),S("disabled",!o.form.valid||!o.isConfirmedPasswordValid()));},dependencies:[D,N,C,M,$,w,v,G],styles:[`my-input-text[_ngcontent-%COMP%]{max-width:340px;display:block}
/*# sourceMappingURL=reset-password.component-FAAMG2MQ.css.map */`]}));let l=r;return l;})();var re=[{path:"",component:F,data:{meta:{title:"Ath-shuidhich am facal-faire"}}}];export{re as default};/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*///# sourceMappingURL=chunk-7WOUPEM7.js.map