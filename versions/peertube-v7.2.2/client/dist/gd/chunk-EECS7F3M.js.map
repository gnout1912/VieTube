{"version":3,"mappings":"oFAQA,GAAaA,IAAW,KAAlB,GAAOA,GAAP,KAAOA,EAAW,CAEtBC,UAAWC,EAA2B,CACpC,GAAMC,GAAU,GAAIC,MAAKF,CAAG,EACtBG,EAAUC,KAAKC,OAAOH,KAAKI,IAAG,EAAKL,EAAQM,QAAO,GAAM,GAAI,EAE9DC,EAAWJ,KAAKC,MAAMF,EAAU,OAAQ,EAC5C,MAAIK,IAAY,EACPC,0KAAuF,CAAED,UAAQ,CAAE,GAG5GA,EAAWJ,KAAKC,MAAMF,EAAU,OAAO,EAGnCK,GAAY,sBAEZA,GAAY,EACPC,kKAAyF,CAAED,UAAQ,CAAE,GAG9GA,EAAWJ,KAAKC,MAAMF,EAAU,MAAM,EAGlCK,GAAY,oBAEZA,GAAY,EACPC,0KAAuF,CAAED,UAAQ,CAAE,GAG5GA,EAAWJ,KAAKC,MAAMF,EAAU,KAAK,EACjCK,GAAY,EACPC,4JAAqF,CAAED,UAAQ,CAAE,GAG1GA,EAAWJ,KAAKC,MAAMF,EAAU,IAAI,EAChCK,GAAY,EACPC,iMAAuF,CAAED,UAAQ,CAAE,GAG5GA,EAAWJ,KAAKC,MAAMF,EAAU,EAAE,EAC9BK,GAAY,KAAsBA,CAAQ,yCAEvCE,KACT,IAAAC,CAAA,CA3CWb,4CAAW,IAAAa,CAAA,CAAXb,0CAAWc,KAAA,MAAlB,GAAOd,GAAPe,QAAOf,EAAW,aAAAgB,CAAA,IAAAC,CAAA","names":["FromNowPipe","transform","arg","argDate","Date","seconds","Math","floor","now","getTime","interval","formatICU","$localize","i","pure","_FromNowPipe","h","a"],"ignoreList":[],"sources":["src/app/shared/shared-main/date/from-now.pipe.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core'\nimport { formatICU } from '@app/helpers'\n\n// Thanks: https://stackoverflow.com/questions/3177836/how-to-format-time-since-xxx-e-g-4-minutes-ago-similar-to-stack-exchange-site\n@Pipe({\n  name: 'myFromNow',\n  standalone: true\n})\nexport class FromNowPipe implements PipeTransform {\n\n  transform (arg: number | Date | string) {\n    const argDate = new Date(arg)\n    const seconds = Math.floor((Date.now() - argDate.getTime()) / 1000)\n\n    let interval = Math.floor(seconds / 31536000)\n    if (interval >= 1) {\n      return formatICU($localize`{interval, plural, =1 {1 year ago} other {{interval} years ago}}`, { interval })\n    }\n\n    interval = Math.floor(seconds / 2419200)\n    // 12 months = 360 days, but a year ~ 365 days\n    // Display \"1 year ago\" rather than \"12 months ago\"\n    if (interval >= 12) return $localize`1 year ago`\n\n    if (interval >= 1) {\n      return formatICU($localize`{interval, plural, =1 {1 month ago} other {{interval} months ago}}`, { interval })\n    }\n\n    interval = Math.floor(seconds / 604800)\n    // 4 weeks ~ 28 days, but our month is 30 days\n    // Display \"1 month ago\" rather than \"4 weeks ago\"\n    if (interval >= 4) return $localize`1 month ago`\n\n    if (interval >= 1) {\n      return formatICU($localize`{interval, plural, =1 {1 week ago} other {{interval} weeks ago}}`, { interval })\n    }\n\n    interval = Math.floor(seconds / 86400)\n    if (interval >= 1) {\n      return formatICU($localize`{interval, plural, =1 {1 day ago} other {{interval} days ago}}`, { interval })\n    }\n\n    interval = Math.floor(seconds / 3600)\n    if (interval >= 1) {\n      return formatICU($localize`{interval, plural, =1 {1 hour ago} other {{interval} hours ago}}`, { interval })\n    }\n\n    interval = Math.floor(seconds / 60)\n    if (interval >= 1) return $localize`${interval} min ago`\n\n    return $localize`just now`\n  }\n}\n"]}