import{d as mt}from"./chunk-UI5MIAKJ.js";import{E as et,m as Mt,o as wt,p as Rt}from"./chunk-RT7DTAS6.js";import{d as A}from"./chunk-WO4VNXA3.js";import{a as nt}from"./chunk-PE7TFI7A.js";import{$d as pt,B as p,Bb as z,Bc as X,C as $,Cb as a,Cc as Lt,Cd as Z,D as k,Db as yt,Dc as Q,Ea as at,Eb as ct,Ha as s,Hc as Ot,Ic as Y,Kg as Dt,Mb as xt,Na as Ct,Nb as Et,Nd as st,Ob as M,Oc as Pt,Pb as D,Pf as dt,Qb as W,Rb as St,Sa as K,Tc as y,Vf as _t,Xc as N,Y as w,Ya as d,Zb as S,_b as At,aa as C,ac as Tt,ce as tt,db as lt,eb as c,ga as ft,ha as R,i as H,ia as I,jb as E,jc as j,kg as U,mf as T,n as rt,nb as g,ob as h,oc as G,pb as b,pd as J,qb as L,qg as B,rb as O,sa as q,sb as P,ta as u,tb as V,uf as It,xb as F,yb as vt,zb as bt}from"./chunk-F7FAPFPY.js";import{i as m}from"./chunk-AI7IVZV2.js";var it=class{byAccount;blockedAccount;createdAt;constructor(i){this.byAccount=new _t(i.byAccount),this.blockedAccount=new _t(i.blockedAccount),this.createdAt=i.createdAt;}};var Ht=function(n){return n[n.Account=0]="Account",n[n.Instance=1]="Instance",n;}(Ht||{}),_=class _{authHttp=C(N);restExtractor=C(U);restService=C(B);getStatus(i){let{accounts:t,hosts:e}=i,o=new y();return t&&(o=this.restService.addArrayParams(o,"accounts",t)),e&&(o=this.restService.addArrayParams(o,"hosts",e)),this.authHttp.get(_.BASE_BLOCKLIST_URL+"/status",{params:o}).pipe(p(r=>this.restExtractor.handleError(r)));}getUserAccountBlocklist(i){let{pagination:t,sort:e,search:o}=i,r=new y();return r=this.restService.addRestGetParams(r,t,e),o&&(r=r.append("search",o)),this.authHttp.get(_.BASE_USER_BLOCKLIST_URL+"/accounts",{params:r}).pipe(rt(l=>this.restExtractor.applyToResultListData(l,this.formatAccountBlock.bind(this))),p(l=>this.restExtractor.handleError(l)));}blockAccountByUser(i){let t={accountName:i.nameWithHost};return this.authHttp.post(_.BASE_USER_BLOCKLIST_URL+"/accounts",t).pipe(p(e=>this.restExtractor.handleError(e)));}unblockAccountByUser(i){let t=_.BASE_USER_BLOCKLIST_URL+"/accounts/"+i.nameWithHost;return this.authHttp.delete(t).pipe(p(e=>this.restExtractor.handleError(e)));}getUserServerBlocklist(i){let{pagination:t,sort:e,search:o}=i,r=new y();return r=this.restService.addRestGetParams(r,t,e),o&&(r=r.append("search",o)),this.authHttp.get(_.BASE_USER_BLOCKLIST_URL+"/servers",{params:r}).pipe(p(l=>this.restExtractor.handleError(l)));}blockServerByUser(i){let t={host:i};return this.authHttp.post(_.BASE_USER_BLOCKLIST_URL+"/servers",t).pipe(p(e=>this.restExtractor.handleError(e)));}unblockServerByUser(i){let t=_.BASE_USER_BLOCKLIST_URL+"/servers/"+i;return this.authHttp.delete(t).pipe(p(e=>this.restExtractor.handleError(e)));}getInstanceAccountBlocklist(i){let{pagination:t,sort:e,search:o}=i,r=new y();return r=this.restService.addRestGetParams(r,t,e),o&&(r=r.append("search",o)),this.authHttp.get(_.BASE_SERVER_BLOCKLIST_URL+"/accounts",{params:r}).pipe(rt(l=>this.restExtractor.applyToResultListData(l,this.formatAccountBlock.bind(this))),p(l=>this.restExtractor.handleError(l)));}blockAccountByInstance(i){let t=tt(i);return H(t).pipe(k(e=>this.authHttp.post(_.BASE_SERVER_BLOCKLIST_URL+"/accounts",{accountName:e.nameWithHost})),$(),p(e=>this.restExtractor.handleError(e)));}unblockAccountByInstance(i){let t=_.BASE_SERVER_BLOCKLIST_URL+"/accounts/"+i.nameWithHost;return this.authHttp.delete(t).pipe(p(e=>this.restExtractor.handleError(e)));}getInstanceServerBlocklist(i){let{pagination:t,sort:e,search:o}=i,r=new y();return r=this.restService.addRestGetParams(r,t,e),o&&(r=r.append("search",o)),this.authHttp.get(_.BASE_SERVER_BLOCKLIST_URL+"/servers",{params:r}).pipe(p(l=>this.restExtractor.handleError(l)));}blockServerByInstance(i){let t={host:i};return this.authHttp.post(_.BASE_SERVER_BLOCKLIST_URL+"/servers",t).pipe(p(e=>this.restExtractor.handleError(e)));}unblockServerByInstance(i){let t=_.BASE_SERVER_BLOCKLIST_URL+"/servers/"+i;return this.authHttp.delete(t).pipe(p(e=>this.restExtractor.handleError(e)));}formatAccountBlock(i){return new it(i);}};m(_,"BASE_BLOCKLIST_URL",T.apiUrl+"/api/v1/blocklist"),m(_,"BASE_USER_BLOCKLIST_URL",T.apiUrl+"/api/v1/users/me/blocklist"),m(_,"BASE_SERVER_BLOCKLIST_URL",T.apiUrl+"/api/v1/server/blocklist"),m(_,"\u0275fac",function(t){return new(t||_)();}),m(_,"\u0275prov",w({token:_,factory:_.ɵfac}));var Nt=_;var f=class f{authHttp=C(N);restService=C(B);restExtractor=C(U);getAdminAbuses(i){let{pagination:t,sort:e,search:o}=i,r=f.BASE_ABUSE_URL,l=new y();return l=this.restService.addRestGetParams(l,t,e),o&&(l=this.buildParamsFromSearch(o,l)),this.authHttp.get(r,{params:l}).pipe(p(v=>this.restExtractor.handleError(v)));}getUserAbuses(i){let{pagination:t,sort:e,search:o}=i,r=f.BASE_MY_ABUSE_URL,l=new y();return l=this.restService.addRestGetParams(l,t,e),o&&(l=this.buildParamsFromSearch(o,l)),this.authHttp.get(r,{params:l}).pipe(p(v=>this.restExtractor.handleError(v)));}reportVideo(i){let t=f.BASE_ABUSE_URL,e=It(i,["id"]);return this.authHttp.post(t,e).pipe(p(o=>this.restExtractor.handleError(o)));}updateAbuse(i,t){let e=f.BASE_ABUSE_URL+"/"+i.id;return this.authHttp.put(e,t).pipe(p(o=>this.restExtractor.handleError(o)));}removeAbuse(i){let t=f.BASE_ABUSE_URL+"/"+i.id;return this.authHttp.delete(t).pipe(p(e=>this.restExtractor.handleError(e)));}addAbuseMessage(i,t){let e=f.BASE_ABUSE_URL+"/"+i.id+"/messages";return this.authHttp.post(e,{message:t}).pipe(p(o=>this.restExtractor.handleError(o)));}listAbuseMessages(i){let t=f.BASE_ABUSE_URL+"/"+i.id+"/messages";return this.authHttp.get(t).pipe(p(e=>this.restExtractor.handleError(e)));}deleteAbuseMessage(i,t){let e=f.BASE_ABUSE_URL+"/"+i.id+"/messages/"+t.id;return this.authHttp.delete(e).pipe(p(o=>this.restExtractor.handleError(o)));}getPrefefinedReasons(i){let t=[{id:"violentOrRepulsive",label:"Violento o repulsivo",help:"Contiene lenguaje o iconograf\xEDa ofensiva, violenta o grosera."},{id:"hatefulOrAbusive",label:"Odioso o abusivo",help:"Contiene lenguaje o iconograf\xEDa abusiva, racista o sexista."},{id:"spamOrMisleading",label:"Spam, anuncio o noticias falsas",help:"Contiene marketing, spam, noticias deliberadamente enga\xF1osas o miniaturas / texto / etiquetas enga\xF1osas. Proporcione fuentes acreditadas para informar enga\xF1os."},{id:"privacy",label:"Infracci\xF3n de privacidad o doxxing",help:"Contiene informaci\xF3n personal que podr\xEDa usarse para rastrear, identificar, contactar o hacerse pasar por otra persona (por ejemplo, nombre, direcci\xF3n, n\xFAmero de tel\xE9fono, correo electr\xF3nico o detalles de la tarjeta de cr\xE9dito)."},{id:"rights",label:"Copyright",help:"Infringe sus derechos de autor wrt. las leyes regionales que debe cumplir el servidor."},{id:"serverRules",label:"Rompe las reglas del servidor",help:"Cualquier cosa no incluida en lo anterior que rompa los t\xE9rminos de servicio, el c\xF3digo de conducta o las reglas generales vigentes en el servidor."}];return i==="video"&&(t=t.concat([{id:"thumbnails",label:"Miniaturas",help:"Lo anterior solo se puede ver en las miniaturas."},{id:"captions",label:"Subt\xEDtulos",help:"Lo anterior solo se puede ver en subt\xEDtulos (describa cu\xE1l)."}])),t;}buildParamsFromSearch(i,t){let e=this.restService.parseQueryStringFilter(i,{id:{prefix:"#"},state:{prefix:"state:",handler:o=>{if(o==="accepted")return Z.ACCEPTED;if(o==="pending")return Z.PENDING;if(o==="rejected")return Z.REJECTED;}},videoIs:{prefix:"videoIs:",handler:o=>{if(o==="deleted"||o==="blacklisted")return o;}},searchReporter:{prefix:"reporter:"},searchReportee:{prefix:"reportee:"},predefinedReason:{prefix:"tag:"}});return this.restService.addObjectParams(t,e);}};m(f,"BASE_ABUSE_URL",T.apiUrl+"/api/v1/abuses"),m(f,"BASE_MY_ABUSE_URL",T.apiUrl+"/api/v1/users/me/abuses"),m(f,"\u0275fac",function(t){return new(t||f)();}),m(f,"\u0275prov",w({token:f,factory:f.ɵfac}));var Ut=f;var x=class x{authHttp=C(N);restService=C(B);restExtractor=C(U);listBlocks(i){let{pagination:t,sort:e,search:o,type:r}=i,l=new y();if(l=this.restService.addRestGetParams(l,t,e),o){let v=this.restService.parseQueryStringFilter(o,{type:{prefix:"type:",handler:ht=>{if(ht==="manual")return st.MANUAL;if(ht==="auto")return st.AUTO_BEFORE_PUBLISHED;}}});l=this.restService.addObjectParams(l,v);}return r&&(l=l.append("type",r.toString())),this.authHttp.get(x.BASE_VIDEOS_URL+"blacklist",{params:l}).pipe(p(v=>this.restExtractor.handleError(v)));}unblockVideo(i){let t=tt(i);return H(t).pipe(k(e=>this.authHttp.delete(x.BASE_VIDEOS_URL+e+"/blacklist")),$(),p(e=>this.restExtractor.handleError(e)));}blockVideo(i){return H(i).pipe(k(({videoId:t,unfederate:e,reason:o})=>{let r={unfederate:e,reason:o};return this.authHttp.post(x.BASE_VIDEOS_URL+t+"/blacklist",r);}),$(),p(t=>this.restExtractor.handleError(t)));}};m(x,"BASE_VIDEOS_URL",T.apiUrl+"/api/v1/videos/"),m(x,"\u0275fac",function(t){return new(t||x)();}),m(x,"\u0275prov",w({token:x,factory:x.ɵfac}));var Bt=x;var $t=(n,i,t,e)=>({"icon-only":n,"peertube-button-small":i,"secondary-button":t,"primary-button":e}),ut=n=>({"with-icon":n}),gt=n=>({$implicit:n});function kt(n,i){if(n&1&&(g(0,"span",4),D(1),h()),n&2){let t=a(2);s(),W(t.label());}}function Vt(n,i){n&1&&b(0,"my-global-icon",5);}function Ft(n,i){n&1&&b(0,"my-global-icon",6);}function zt(n,i){if(n&1&&b(0,"my-global-icon",16),n&2){let t=a().$implicit;c("iconName",t.iconName)("ngClass","icon-"+t.iconName);}}function Wt(n,i){if(n&1&&b(0,"my-global-icon",17),n&2){let t=a().$implicit;c("ngbTooltip",t.ownerOrModeratorPrivilege());}}function Gt(n,i){if(n&1&&(g(0,"small",18),D(1),h()),n&2){let t=a().$implicit;s(),W(t.description);}}function qt(n,i){if(n&1&&(d(0,zt,1,2,"my-global-icon",12),g(1,"div",13)(2,"span"),D(3),d(4,Wt,1,1,"my-global-icon",14),h(),d(5,Gt,2,1,"small",15),h()),n&2){let t=i.$implicit;c("ngIf",t.iconName),s(3),St(" ",t.label," "),s(),c("ngIf",t.ownerOrModeratorPrivilege&&t.ownerOrModeratorPrivilege()),s(),c("ngIf",t.description);}}function Kt(n,i){n&1&&P(0);}function jt(n,i){if(n&1&&(g(0,"a",19),d(1,Kt,1,0,"ng-container",20),h()),n&2){a(2);let t=M(2),e=a().$implicit,o=a(3);c("ngClass",S(6,ut,!!e.iconName))("routerLink",e.linkBuilder(o.entry()))("queryParams",o.getQueryParams(e,o.entry()))("title",e.title||""),s(),c("ngTemplateOutlet",t)("ngTemplateOutletContext",S(8,gt,e));}}function Xt(n,i){if(n&1&&d(0,jt,2,10,"a",19),n&2){let t=a(2).$implicit;E(t.isHeader?-1:0);}}function Qt(n,i){n&1&&P(0);}function Yt(n,i){if(n&1){let t=V();g(0,"span",23),z("click",function(){R(t);let o=a(3).$implicit,r=a(3);return I(o.handler(r.entry()));})("keyup.enter",function(){R(t);let o=a(3).$implicit,r=a(3);return I(o.handler(r.entry()));}),d(1,Qt,1,0,"ng-container",20),h();}if(n&2){a(2);let t=M(2),e=a().$implicit;c("ngClass",S(4,ut,!!e.iconName))("title",e.title||""),s(),c("ngTemplateOutlet",t)("ngTemplateOutletContext",S(6,gt,e));}}function Jt(n,i){n&1&&P(0);}function Zt(n,i){if(n&1&&(g(0,"h6",22),d(1,Jt,1,0,"ng-container",20),h()),n&2){a(2);let t=M(2),e=a().$implicit;c("ngClass",S(4,ut,!!e.iconName))("title",e.title||""),s(),c("ngTemplateOutlet",t)("ngTemplateOutletContext",S(6,gt,e));}}function te(n,i){if(n&1&&d(0,Yt,2,8,"span",21)(1,Zt,2,8,"h6",22),n&2){let t=a(2).$implicit,e=a().$implicit,o=a(2);E(t.isHeader?o.areActionsDisplayed(e,o.entry())?1:-1:0);}}function ee(n,i){if(n&1&&(g(0,"div",11),d(1,qt,6,4,"ng-template",null,0,j)(3,Xt,1,1)(4,te,2,1),h()),n&2){let t=a().$implicit;c("ngClass",t.class),s(3),E(t.linkBuilder?3:4);}}function ne(n,i){if(n&1&&(L(0),d(1,ee,5,2,"div",10),O()),n&2){let t=i.$implicit,e=a().$implicit,o=a(2);s(),c("ngIf",o.isBlockDisplayed(e,t,o.entry()));}}function ie(n,i){n&1&&b(0,"div",24);}function oe(n,i){if(n&1&&(L(0),d(1,ne,2,1,"ng-container",8)(2,ie,1,0,"div",9),O()),n&2){let t=i.$implicit,e=a(2);s(),c("ngForOf",t),s(),c("ngIf",e.areActionsDisplayed(t,e.entry()));}}function re(n,i){if(n&1){let t=V();g(0,"div",2),z("openChange",function(o){R(t);let r=a();return I(r.openChange.emit(o));}),g(1,"button",3),d(2,kt,2,1,"span",4)(3,Vt,1,0,"my-global-icon",5)(4,Ft,1,0,"my-global-icon",6),h(),g(5,"div",7),d(6,oe,3,2,"ng-container",8),h()();}if(n&2){let t=a();c("placement",t.placement())("container",t.container()),s(),c("ngClass",Tt(5,$t,!t.label(),t.buttonSize()==="small",t.buttonStyled()&&t.theme()==="secondary",t.buttonStyled()&&t.theme()==="primary")),s(),E(t.label()?2:t.buttonDirection()==="horizontal"?3:t.buttonDirection()==="vertical"?4:-1),s(4),c("ngForOf",t.getActions());}}var gn=(()=>{let i=class i{actions=u([]);entry=u(void 0);placement=u("bottom-left auto");container=u(void 0);buttonSize=u("normal");buttonDirection=u("horizontal");buttonStyled=u(!0);label=u(void 0);theme=u("secondary");openChange=q();getActions(){let e=this.actions();return e.length!==0&&Array.isArray(e[0])?e:[e];}getQueryParams(e,o){return e.queryParamsBuilder?e.queryParamsBuilder(o):{};}areActionsDisplayed(e,o){return e.some(r=>Array.isArray(r)?this.areActionsDisplayed(r,o):r.isHeader!==!0&&(r.isDisplayed===void 0||r.isDisplayed(o)));}isBlockDisplayed(e,o,r){return o.isHeader&&!this.areActionsDisplayed(e,r)?!1:o.isDisplayed===void 0||o.isDisplayed(r)===!0;}};m(i,"\u0275fac",function(o){return new(o||i)();}),m(i,"\u0275cmp",K({type:i,selectors:[["my-action-dropdown"]],inputs:{actions:[1,"actions"],entry:[1,"entry"],placement:[1,"placement"],container:[1,"container"],buttonSize:[1,"buttonSize"],buttonDirection:[1,"buttonDirection"],buttonStyled:[1,"buttonStyled"],label:[1,"label"],theme:[1,"theme"]},outputs:{openChange:"openChange"},decls:1,vars:1,consts:()=>{let e;return e="Acciones abiertas",[["templateActionLabel",""],["class","dropdown-root","ngbDropdown","",3,"placement","container","openChange",4,"ngIf"],["ngbDropdown","",1,"dropdown-root",3,"openChange","placement","container"],["ngbDropdownToggle","","aria-label",e,1,"action-button","peertube-button","border-0",3,"ngClass"],[1,"dropdown-toggle"],["iconName","more-horizontal",1,"more-icon"],["iconName","more-vertical",1,"more-icon"],["ngbDropdownMenu","",1,"dropdown-menu"],[4,"ngFor","ngForOf"],["class","dropdown-divider",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["aria-hidden","true",3,"iconName","ngClass",4,"ngIf"],[1,"item-label"],["iconName","shield","class","owner-moderator-privilege",3,"ngbTooltip",4,"ngIf"],["class","muted",4,"ngIf"],["aria-hidden","true",3,"iconName","ngClass"],["iconName","shield",1,"owner-moderator-privilege",3,"ngbTooltip"],[1,"muted"],[1,"dropdown-item",3,"ngClass","routerLink","queryParams","title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","button",1,"custom-action","dropdown-item",3,"ngClass","title"],[1,"dropdown-header",3,"ngClass","title"],["tabindex","0","role","button",1,"custom-action","dropdown-item",3,"click","keyup.enter","ngClass","title"],[1,"dropdown-divider"]];},template:function(o,r){o&1&&d(0,re,7,10,"div",1),o&2&&c("ngIf",r.areActionsDisplayed(r.actions(),r.entry()));},dependencies:[Q,et,Rt,wt,X,nt,Mt,Lt,J,Y],styles:[`.dropdown-divider[_ngcontent-%COMP%]:last-child{display:none}.action-button[_ngcontent-%COMP%]{display:inline-block}.action-button[_ngcontent-%COMP%]:after{display:none}.action-button.icon-only[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;top:0;right:0;display:inline-block;width:21px;height:21px;line-height:21px}.action-button.icon-only[_ngcontent-%COMP%]:not(.icon-only)   my-global-icon[_ngcontent-%COMP%]{margin-inline-end:0}.dropdown-toggle[_ngcontent-%COMP%]:after{position:relative;top:1px}.dropdown-menu[_ngcontent-%COMP%]{max-width:75vw}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{padding:.2rem 1rem}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.with-icon[_ngcontent-%COMP%]{padding:var(--input-y-padding) 15px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.with-icon[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;opacity:.7;position:relative;top:-2px;margin-inline-end:.625rem}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.with-icon[_ngcontent-%COMP%]   .icon-video-lang[_ngcontent-%COMP%]{top:0}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%}.item-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:1px}.item-label[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.owner-moderator-privilege[_ngcontent-%COMP%]{margin:0!important;width:13px!important;margin-inline-start:.25rem!important}
/*# sourceMappingURL=action-dropdown.component-JP6A5JCO.css.map */`],changeDetection:0}));let n=i;return n;})();var ae=["watchLaterTooltip"],le=[[["label-warning"]],[["label-danger"]]],ce=["label-warning","label-danger"],se=n=>({"blur-filter":n}),pe=(n,i)=>({"live-streaming":n,"ended-live":i}),de=n=>({"width.%":n});function _e(n,i){n&1&&P(0);}function me(n,i){if(n&1&&(g(0,"a",6),d(1,_e,1,0,"ng-container",8),h()),n&2){let t=a(),e=M(3);c("ariaLabel",t.ariaLabel())("href",t.videoHref(),at)("target",t.videoTarget()),s(),c("ngTemplateOutlet",e);}}function ue(n,i){n&1&&P(0);}function ge(n,i){if(n&1&&(g(0,"a",7),d(1,ue,1,0,"ng-container",8),h()),n&2){let t=a(),e=M(3);c("ariaLabel",t.ariaLabel())("routerLink",t.getVideoRouterLink())("queryParams",t.queryParams()),s(),c("ngTemplateOutlet",e);}}function he(n,i){n&1&&b(0,"my-global-icon",19);}function fe(n,i){n&1&&b(0,"my-global-icon",20);}function Ce(n,i){if(n&1){let t=V();g(0,"div",17)(1,"button",18,1),z("click",function(o){R(t);let r=a(2);return I(r.onWatchLaterClick(o));}),d(3,he,1,0,"my-global-icon",19)(4,fe,1,0,"my-global-icon",20),h()();}if(n&2){let t=a(2);s(),c("ngbTooltip",t.getWatchIconText()),lt("aria-label",t.inWatchLaterPlaylist()?t.removeFromWatchLaterText:t.addToWatchLaterText),s(2),E(t.inWatchLaterPlaylist()?3:4);}}function ve(n,i){n&1&&(L(0),F(1,2),O());}function be(n,i){n&1&&(L(0),F(1,3),O());}function ye(n,i){n&1&&(L(0),F(1,4),O());}function xe(n,i){if(n&1&&(g(0,"div",13),d(1,ve,2,0,"ng-container")(2,be,2,0,"ng-container")(3,ye,2,0,"ng-container"),h()),n&2){let t=a(2);c("ngClass",At(2,pe,t.isLiveStreaming(),t.isEndedLive())),s(),E(t.isLiveStreaming()?1:t.isEndedLive()?2:3);}}function Ee(n,i){if(n&1&&(g(0,"div",14),D(1),h()),n&2){let t=a(2);c("ariaLabel",t.getDurationOverlayLabel()),s(),W(t.getDurationLabel());}}function Se(n,i){n&1&&(g(0,"div",21),b(1,"div",22),h());}function Ae(n,i){if(n&1&&(g(0,"div",23)(1,"div",24)(2,"span",25),F(3,5),h()()()),n&2){let t=a(2);s(),c("ngStyle",S(2,de,t.getProgressPercent())),s(2),vt(t.getProgressPercent()),bt(3);}}function Te(n,i){if(n&1&&(b(0,"img",9),d(1,Ce,5,3,"div",10),g(2,"div",11),ct(3),h(),g(4,"div",12),ct(5,1),h(),d(6,xe,4,5,"div",13)(7,Ee,2,2,"div",14)(8,Se,2,0,"div",15)(9,Ae,4,4,"div",16)),n&2){let t,e=a();c("ngClass",S(6,se,e.blur())),lt("src",e.getImageUrl(),at),s(),c("ngIf",e.displayWatchLaterPlaylist()),s(5),E(e.video().isLive?6:e.getDurationLabel()?7:-1),s(2),c("ngIf",e.playOverlay()),s(),c("ngIf",!e.video().isLive&&((t=e.video().userHistory)==null?null:t.currentTime));}}var Pn=(()=>{let i=class i{screenService=C(Dt);video=u.required();videoRouterLink=u(void 0);queryParams=u(void 0);videoHref=u(void 0);videoTarget=u(void 0);displayWatchLaterPlaylist=u(!1,{transform:G});inWatchLaterPlaylist=u(!1,{transform:G});playOverlay=u(!0,{transform:G});ariaLabel=u.required();blur=u.required({transform:G});watchLaterTooltip=Ct("watchLaterTooltip");watchLaterClick=q();addToWatchLaterText;removeFromWatchLaterText;durationLabel;constructor(){this.addToWatchLaterText="A\xF1adir para ver m\xE1s tarde",this.removeFromWatchLaterText="Eliminar del reloj m\xE1s tarde";}ngOnChanges(){this.durationLabel=this.video().duration?mt.buildDurationLabel(this.video()):void 0;}getWatchIconText(){return this.inWatchLaterPlaylist()?this.removeFromWatchLaterText:this.addToWatchLaterText;}isLiveStreaming(){let e=this.video();return e.isLive?!e.state||e.state?.id===pt.PUBLISHED:!1;}isEndedLive(){return this.video().state?.id===pt.LIVE_ENDED;}getImageUrl(){let e=this.video();return e?this.screenService.isInMobileView()?e.previewUrl||dt()+e.previewPath:e.thumbnailUrl||dt()+e.thumbnailPath:"";}getProgressPercent(){let e=this.video();if(!e.userHistory)return 0;let o=e.userHistory.currentTime;return Math.round(o/e.duration*100);}getDurationOverlayLabel(){return"La duraci\xF3n del v\xEDdeo es "+this.getDurationLabel()+"";}getVideoRouterLink(){let e=this.videoRouterLink();return e||mt.buildWatchUrl(this.video());}onWatchLaterClick(e){return this.watchLaterClick.emit(this.inWatchLaterPlaylist()),e.stopPropagation(),this.watchLaterTooltip().close(),!1;}getDurationLabel(){return this.durationLabel;}};m(i,"\u0275fac",function(o){return new(o||i)();}),m(i,"\u0275cmp",K({type:i,selectors:[["my-video-thumbnail"]],viewQuery:function(o,r){o&1&&xt(r.watchLaterTooltip,ae,5),o&2&&Et();},inputs:{video:[1,"video"],videoRouterLink:[1,"videoRouterLink"],queryParams:[1,"queryParams"],videoHref:[1,"videoHref"],videoTarget:[1,"videoTarget"],displayWatchLaterPlaylist:[1,"displayWatchLaterPlaylist"],inWatchLaterPlaylist:[1,"inWatchLaterPlaylist"],playOverlay:[1,"playOverlay"],ariaLabel:[1,"ariaLabel"],blur:[1,"blur"]},outputs:{watchLaterClick:"watchLaterClick"},features:[ft],ngContentSelectors:ce,decls:4,vars:1,consts:()=>{let e;e="VIVO";let o;o="DIRECTO TERMINADO";let r;r="WAIT LIVE";let l;return l="Has visto el "+"\uFFFD0\uFFFD"+"% de este v\xEDdeo",[["aContent",""],["watchLaterTooltip","ngbTooltip"],e,o,r,l,["tabindex","-1",1,"video-thumbnail",3,"ariaLabel","href","target"],["tabindex","-1",1,"video-thumbnail",3,"ariaLabel","routerLink","queryParams"],[4,"ngTemplateOutlet"],["alt","",3,"ngClass"],["class","actions-overlay",4,"ngIf"],[1,"label-overlay","pt-badge","badge-warning"],[1,"label-overlay","pt-badge","badge-danger"],[1,"live-overlay",3,"ngClass"],[1,"duration-overlay",3,"ariaLabel"],["class","play-overlay",4,"ngIf"],["class","progress-bar",4,"ngIf"],[1,"actions-overlay"],["placement","left","container","body",1,"watch-icon-overlay","button-unstyle",3,"click","ngbTooltip"],["iconName","tick"],["iconName","clock"],[1,"play-overlay"],[1,"icon"],[1,"progress-bar"],[3,"ngStyle"],[1,"visually-hidden"]];},template:function(o,r){o&1&&(yt(le),d(0,me,2,4,"a",6)(1,ge,2,4,"a",7)(2,Te,10,8,"ng-template",null,0,j)),o&2&&E(r.videoHref()?0:1);},dependencies:[Pt,X,Q,Y,Ot,J,et,nt],styles:[`.video-thumbnail[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;border-radius:4px;width:100%;height:100%;overflow:hidden;background-color:#ececec;transition:filter .2s ease}.video-thumbnail[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none!important}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;width:inherit;height:inherit;opacity:0;background-color:#2e2323cc}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%], .video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .2s ease}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:0;height:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.5);border-top:13px solid transparent;border-bottom:13px solid transparent;border-left:18px solid #F4F4F5}.video-thumbnail[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{display:block;content:"";width:49px;height:49px;top:-25px;right:-13px;border-radius:100%;position:absolute;background-color:var(--primary-450);opacity:.3}.video-thumbnail[_ngcontent-%COMP%]:hover{text-decoration:none!important}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]{opacity:1}.video-thumbnail[_ngcontent-%COMP%]:hover   .play-overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.video-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:inherit;height:inherit}.video-thumbnail[_ngcontent-%COMP%]   img.blur-filter[_ngcontent-%COMP%]{filter:blur(20px)}.progress-bar[_ngcontent-%COMP%]{height:3px;width:100%;position:absolute;z-index:10;bottom:0;background-color:#0003}.progress-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%;background-color:var(--border-primary);border-radius:6px}.watch-icon-overlay[_ngcontent-%COMP%], .duration-overlay[_ngcontent-%COMP%], .live-overlay[_ngcontent-%COMP%]{font-size:.75rem;line-height:normal;z-index:10;display:inline-block;background-color:#111c;color:#e9dfdf}.label-overlay[_ngcontent-%COMP%]{position:absolute;padding:0 5px;left:5px;top:5px;z-index:10}.duration-overlay[_ngcontent-%COMP%], .live-overlay[_ngcontent-%COMP%]{position:absolute;padding:2px 8px;right:0;bottom:0;border-top-left-radius:4px}.live-overlay[_ngcontent-%COMP%]{font-weight:700;color:#f4f4f5}.live-overlay.live-streaming[_ngcontent-%COMP%]{color:#f4f4f5}.live-overlay.live-streaming[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:6px;height:6px;border-radius:100%;background-color:var(--border-primary);position:relative;top:-1px;margin-inline-end:.5rem}.actions-overlay[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;right:5px;top:5px;opacity:0;font-weight:600}.actions-overlay[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:first-child){margin-top:2px}.watch-icon-overlay[_ngcontent-%COMP%]{padding:3px;border-radius:3px}.watch-icon-overlay[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{width:22px;height:22px;color:#f4f4f5}
/*# sourceMappingURL=video-thumbnail.component-5RG6QKBT.css.map */`]}));let n=i;return n;})();var In={VALIDATORS:[A.required,A.minLength(2),A.maxLength(3e3)],MESSAGES:{required:"Se requiere un motivo para reportar.",minlength:"El motivo del reporte ha de ocupar como m\xEDnimo 2 caracteres.",maxlength:"El motivo del informe no puede tener m\xE1s de 3000 caracteres."}},Dn={VALIDATORS:[A.required,A.minLength(2),A.maxLength(3e3)],MESSAGES:{required:"Se requiere llenar el comentario de moderaci\xF3n.",minlength:"El comentario de moderaci\xF3n tiene que contener por lo menos 2 caracteres.",maxlength:"El comentario de moderaci\xF3n no puede tener m\xE1s de 3000 caracteres."}},Nn={VALIDATORS:[A.required,A.minLength(2),A.maxLength(3e3)],MESSAGES:{required:"Se requiere un mensaje de abuso.",minlength:"El mensaje de abuso debe tener al menos 2 caracteres.",maxlength:"El mensaje de abuso no puede tener m\xE1s de 3000 caracteres."}};export{Pn as a,gn as b,Ht as c,Nt as d,In as e,Dn as f,Nn as g,Ut as h,Bt as i};/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*///# sourceMappingURL=chunk-DUA2DJQ3.js.map