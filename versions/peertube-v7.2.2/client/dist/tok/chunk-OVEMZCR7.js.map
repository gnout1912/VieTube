{"version":3,"mappings":"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","names":["_c0","CdkStep_ng_template_0_Template","rf","ctx","ɵɵprojection","CdkStepHeader","_CdkStepHeader","_elementRef","inject","ElementRef","constructor","focus","nativeElement","__publicField","__ngFactoryType__","ɵɵdefineDirective","type","selectors","hostAttrs","CdkStepLabel","_CdkStepLabel","template","TemplateRef","STEP_STATE","NUMBER","EDIT","DONE","ERROR","STEPPER_GLOBAL_OPTIONS","InjectionToken","CdkStep","_CdkStep","_stepperOptions","_stepper","CdkStepper","_displayDefaultIndicatorType","stepLabel","_childForms","content","stepControl","interacted","interactedStream","EventEmitter","label","errorMessage","ariaLabel","ariaLabelledby","state","editable","optional","completed","_completedOverride","_getDefaultCompleted","value","valid","hasError","_customError","_getDefaultError","invalid","stepperOptions","displayDefaultIndicatorType","select","selected","reset","forEach","form","resetForm","ngOnChanges","_stateChanged","_markAsInteracted","emit","_showError","showError","ɵɵdefineComponent","contentQueries","dirIndex","ɵɵcontentQuery","ControlContainer","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","viewQuery","ɵɵviewQuery","inputs","booleanAttribute","outputs","exportAs","features","ɵɵNgOnChangesFeature","ngContentSelectors","decls","vars","ɵɵprojectionDef","ɵɵtemplate","encapsulation","changeDetection","_CdkStepper","_dir","Directionality","_changeDetectorRef","ChangeDetectorRef","_destroyed","Subject","_keyManager","_steps","steps","QueryList","_stepHeader","_sortedHeaders","linear","selectedIndex","_selectedIndex","index","_isValidIndex","_anyControlsInvalidOrPending","toArray","_updateSelectedItemIndex","step","indexOf","selectionChange","selectedIndexChange","_groupId","_IdGenerator","getId","orientation","_orientation","withVerticalOrientation","ngAfterContentInit","changes","pipe","startWith","takeUntil","subscribe","filter","notifyOnChanges","ngAfterViewInit","headers","sort","a","b","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","FocusKeyManager","withWrap","withHomeAndEnd","updateActiveItem","change","of","_layoutDirection","direction","withHorizontalOrientation","Math","max","visitedSteps","slice","ngOnDestroy","destroy","next","complete","min","length","previous","_getStepLabelId","i","_getStepContentId","markForCheck","_getAnimationDirection","position","_getIndicatorType","isCurrentStep","_isCurrentStep","_getDefaultIndicatorLogic","_getGuidelineLogic","_getFocusIndex","activeItemIndex","newIndex","stepsArray","previouslySelectedIndex","selectedStep","previouslySelectedStep","_containsFocus","setActiveItem","_onKeydown","event","hasModifier","hasModifierKey","keyCode","manager","preventDefault","setFocusOrigin","onKeydown","some","control","pending","stepperElement","focusedElement","_getFocusedElementPierceShadowDom","contains","numberAttribute","CdkStepperNext","_CdkStepperNext","hostVars","hostBindings","ɵɵlistener","ɵɵhostProperty","CdkStepperPrevious","_CdkStepperPrevious","qt","t","ɵɵelementContainerStart","ɵɵelementStart","ɵɵi18n","ɵɵelementEnd","x","Ht","ɵɵi18nStart","ɵɵelement","ɵɵi18nEnd","r","p","ɵɵadvance","ɵɵi18nExp","ctx_r0","instanceName","v","Qt","jt","Yt","Kt","Wt","SignupSuccessBeforeEmailComponent_ng_container_6_p_1_Template","SignupSuccessBeforeEmailComponent_ng_container_6_p_2_Template","ɵɵproperty","requiresApproval","Jt","Zt","en","SignupSuccessBeforeEmailComponent_ng_container_7_p_1_Template","SignupSuccessBeforeEmailComponent_ng_container_7_p_2_Template","SignupSuccessBeforeEmailComponent","input","undefined","requiresEmailVerification","S","consts","i18n_0","$localize","o","G","h","e","n","u","g","y","SignupSuccessBeforeEmailComponent_ng_container_1_Template","SignupSuccessBeforeEmailComponent_ng_container_2_Template","SignupSuccessBeforeEmailComponent_p_4_Template","SignupSuccessBeforeEmailComponent_p_5_Template","SignupSuccessBeforeEmailComponent_ng_container_6_Template","SignupSuccessBeforeEmailComponent_ng_container_7_Template","dependencies","SignupStepTitleComponent","NgIf","AlertComponent","styles","_SignupSuccessBeforeEmailComponent","tn","active","nn","on","rn","q","i_r2","ɵɵrestoreView","_r1","ctx_r2","ɵɵnextContext","ɵɵresetView","onClick","ɵɵtext","CustomStepperComponent_header_1_ng_container_2_div_6_Template","CustomStepperComponent_header_1_ng_container_2_div_9_Template","$implicit","last","ɵɵpureFunction2","isCompleted","step_r4","isAccessible","ke","ɵɵtextInterpolate1","ɵɵtextInterpolate","isLast_r5","an","CustomStepperComponent_header_1_ng_container_2_Template","CustomStepperComponent","ɵɵProvidersFeature","provide","useExisting","ɵɵInheritDefinitionFeature","CustomStepperComponent_header_1_Template","ɵɵelementContainer","ɵɵstyleProp","NgFor","NgClass","GlobalIconComponent","NgTemplateOutlet","_CustomStepperComponent","sn","Ce","ɵɵpipeBind1","averageResponseTime","_n","RegisterStepAboutComponent_my_alert_1_ng_container_4_Template","ln","RegisterStepAboutComponent","serverService","ServerService","videoUploadDisabled","serverStats","getHTMLConfig","instance","name","averageRegistrationRequestResponseTimeMs","Y","N","w","I","RegisterStepAboutComponent_my_alert_1_Template","RegisterStepAboutComponent_li_18_Template","InstanceBannerComponent","DaysDurationFormatterPipe","_RegisterStepAboutComponent","Gt","cn","ɵɵpipeBind2","videoQuota","pn","formErrors","displayName","un","dn","RegisterStepChannelComponent","FormReactive","formReactiveService","FormReactiveService","signupService","SignupService","username","formBuilt","output","instanceHost","window","location","host","ngOnInit","buildForm","VIDEO_CHANNEL_DISPLAY_NAME_VALIDATOR","VIDEO_CHANNEL_NAME_VALIDATOR","setTimeout","concat","get","valueChanges","pairwise","oldValue","newValue","onDisplayNameChange","isSameThanUsername","oldDisplayName","newDisplayName","newName","getNewUsername","patchValue","RegisterStepChannelComponent_p_8_Template","RegisterStepChannelComponent_div_18_Template","RegisterStepChannelComponent_div_28_Template","RegisterStepChannelComponent_div_29_Template","ɵɵpureFunction1","FormsModule","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","ReactiveFormsModule","FormGroupDirective","FormControlName","BytesPipe","_RegisterStepChannelComponent","REGISTER_TERMS_VALIDATOR","VALIDATORS","Validators","requiredTrue","MESSAGES","required","REGISTER_REASON_VALIDATOR","minLength","maxLength","minlength","maxlength","registrationReason","gn","RegisterStepTermsComponent_div_1_div_4_Template","En","F","$event","_r3","onCodeOfConductClick","C","Tn","_r2","onTermsClick","RegisterStepTermsComponent_ng_template_4_ng_container_3_Template","hasCodeOfConduct","minimumAge","fn","terms","RegisterStepTermsComponent","termsClick","codeOfConductClick","RegisterStepTermsComponent_div_1_Template","RegisterStepTermsComponent_ng_template_4_Template","RegisterStepTermsComponent_div_5_Template","PeertubeCheckboxComponent","PeerTubeTemplateDirective","_RegisterStepTermsComponent","De","Fn","Cn","Rn","Pn","Nn","email","RegisterStepUserComponent","USER_DISPLAY_NAME_REQUIRED_VALIDATOR","USER_USERNAME_VALIDATOR","password","USER_PASSWORD_VALIDATOR","USER_EMAIL_VALIDATOR","getMinPasswordLengthMessage","newUsername","RegisterStepUserComponent_my_alert_0_Template","RegisterStepUserComponent_div_10_Template","RegisterStepUserComponent_div_20_Template","RegisterStepUserComponent_div_25_Template","RegisterStepUserComponent_div_27_Template","InputTextComponent","_RegisterStepUserComponent","In","hn","Mn","vn","ctx_r1","onChannelFormBuilt","skipChannelCreation","signup","formStepChannel","signupSuccess","getUsername","defaultPreviousStepButtonLabel","hasSameChannelAndAccountNames","yn","An","signupError","On","Gn","Dn","onInstanceAboutAccordionInit","onTermsFormBuilt","onUserFormBuilt","RegisterComponent_ng_container_2_cdk_step_40_Template","RegisterComponent_ng_container_2_div_43_Template","RegisterComponent_ng_container_2_my_alert_44_Template","RegisterComponent_ng_container_2_my_signup_success_before_email_45_Template","RegisterComponent_ng_container_2_div_46_Template","formStepTerms","instanceInformationPanels","aboutHtml","codeOfConduct","defaultNextStepButtonLabel","formStepUser","stepUserButtonLabel","RegisterComponent","route","ActivatedRoute","authService","AuthService","server","hooks","HooksService","lastStep","viewChild","instanceAboutAccordion","administrators","moderation","signupDisabled","serverConfig","snapshot","data","allowed","allowedForCurrentIP","user","getServerStats","stats","runAction","getChannelName","expandTerms","expandCodeOfConduct","__async","termsForm","userForm","channelForm","channel","body","wrapObject","requestSignup","directSignup","autoLogin","error","err","detail","message","login","ye","He","f","RegisterComponent_div_1_Template","RegisterComponent_ng_container_2_Template","SignupLabelComponent","RouterLink","InstanceAboutAccordionComponent","LoaderComponent","_RegisterComponent","routes_default","path","component","canActivate","UnloggedGuard","meta","title","providers","ServerConfigResolver","resolve","wo","default"],"ignoreList":[0],"sources":["node_modules/@angular/cdk/fesm2022/stepper.mjs","src/app/+signup/shared/signup-success-before-email.component.html","src/app/+signup/shared/signup-success-before-email.component.ts","src/app/+signup/+register/custom-stepper.component.html","src/app/+signup/+register/custom-stepper.component.ts","src/app/+signup/+register/steps/register-step-about.component.html","src/app/+signup/+register/steps/register-step-about.component.ts","src/app/+signup/+register/steps/register-step-channel.component.html","src/app/+signup/+register/steps/register-step-channel.component.ts","src/app/+signup/+register/shared/register-validators.ts","src/app/+signup/+register/steps/register-step-terms.component.html","src/app/+signup/+register/steps/register-step-terms.component.ts","src/app/+signup/+register/steps/register-step-user.component.html","src/app/+signup/+register/steps/register-step-user.component.ts","src/app/+signup/+register/register.component.html","src/app/+signup/+register/register.component.ts","src/app/+signup/+register/routes.ts"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { inject, ElementRef, Directive, TemplateRef, InjectionToken, EventEmitter, booleanAttribute, Component, ViewEncapsulation, ChangeDetectionStrategy, ContentChild, ContentChildren, ViewChild, Input, Output, ChangeDetectorRef, QueryList, numberAttribute, NgModule } from '@angular/core';\nimport { ControlContainer } from '@angular/forms';\nimport { Subject, of } from 'rxjs';\nimport { startWith, takeUntil } from 'rxjs/operators';\nimport { D as Directionality } from './directionality-CBXD4hga.mjs';\nimport { _ as _IdGenerator } from './id-generator-Dw_9dSDu.mjs';\nimport { F as FocusKeyManager } from './focus-key-manager-C1rAQJ5z.mjs';\nimport { hasModifierKey } from './keycodes.mjs';\nimport { S as SPACE, c as ENTER } from './keycodes-CpHkExLC.mjs';\nimport { c as _getFocusedElementPierceShadowDom } from './shadow-dom-B0oHn41l.mjs';\nimport { BidiModule } from './bidi.mjs';\nimport '@angular/common';\nimport './list-key-manager-CyOIXo8P.mjs';\nimport './typeahead-9ZW4Dtsf.mjs';\nconst _c0 = [\"*\"];\nfunction CdkStep_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0);\n  }\n}\nlet CdkStepHeader = /*#__PURE__*/(() => {\n  class CdkStepHeader {\n    _elementRef = inject(ElementRef);\n    constructor() {}\n    /** Focuses the step header. */\n    focus() {\n      this._elementRef.nativeElement.focus();\n    }\n    static ɵfac = function CdkStepHeader_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkStepHeader)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkStepHeader,\n      selectors: [[\"\", \"cdkStepHeader\", \"\"]],\n      hostAttrs: [\"role\", \"tab\"]\n    });\n  }\n  return CdkStepHeader;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CdkStepLabel = /*#__PURE__*/(() => {\n  class CdkStepLabel {\n    template = inject(TemplateRef);\n    constructor() {}\n    static ɵfac = function CdkStepLabel_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkStepLabel)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkStepLabel,\n      selectors: [[\"\", \"cdkStepLabel\", \"\"]]\n    });\n  }\n  return CdkStepLabel;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/** Change event emitted on selection changes. */\nclass StepperSelectionEvent {\n  /** Index of the step now selected. */\n  selectedIndex;\n  /** Index of the step previously selected. */\n  previouslySelectedIndex;\n  /** The step instance now selected. */\n  selectedStep;\n  /** The step instance previously selected. */\n  previouslySelectedStep;\n}\n/** Enum to represent the different states of the steps. */\nconst STEP_STATE = {\n  NUMBER: 'number',\n  EDIT: 'edit',\n  DONE: 'done',\n  ERROR: 'error'\n};\n/** InjectionToken that can be used to specify the global stepper options. */\nconst STEPPER_GLOBAL_OPTIONS = /*#__PURE__*/new InjectionToken('STEPPER_GLOBAL_OPTIONS');\nlet CdkStep = /*#__PURE__*/(() => {\n  class CdkStep {\n    _stepperOptions;\n    _stepper = inject(CdkStepper);\n    _displayDefaultIndicatorType;\n    /** Template for step label if it exists. */\n    stepLabel;\n    /** Forms that have been projected into the step. */\n    _childForms;\n    /** Template for step content. */\n    content;\n    /** The top level abstract control of the step. */\n    stepControl;\n    /** Whether user has attempted to move away from the step. */\n    interacted = false;\n    /** Emits when the user has attempted to move away from the step. */\n    interactedStream = new EventEmitter();\n    /** Plain text label of the step. */\n    label;\n    /** Error message to display when there's an error. */\n    errorMessage;\n    /** Aria label for the tab. */\n    ariaLabel;\n    /**\n     * Reference to the element that the tab is labelled by.\n     * Will be cleared if `aria-label` is set at the same time.\n     */\n    ariaLabelledby;\n    /** State of the step. */\n    state;\n    /** Whether the user can return to this step once it has been marked as completed. */\n    editable = true;\n    /** Whether the completion of step is optional. */\n    optional = false;\n    /** Whether step is marked as completed. */\n    get completed() {\n      return this._completedOverride == null ? this._getDefaultCompleted() : this._completedOverride;\n    }\n    set completed(value) {\n      this._completedOverride = value;\n    }\n    _completedOverride = null;\n    _getDefaultCompleted() {\n      return this.stepControl ? this.stepControl.valid && this.interacted : this.interacted;\n    }\n    /** Whether step has an error. */\n    get hasError() {\n      return this._customError == null ? this._getDefaultError() : this._customError;\n    }\n    set hasError(value) {\n      this._customError = value;\n    }\n    _customError = null;\n    _getDefaultError() {\n      return this.stepControl && this.stepControl.invalid && this.interacted;\n    }\n    constructor() {\n      const stepperOptions = inject(STEPPER_GLOBAL_OPTIONS, {\n        optional: true\n      });\n      this._stepperOptions = stepperOptions ? stepperOptions : {};\n      this._displayDefaultIndicatorType = this._stepperOptions.displayDefaultIndicatorType !== false;\n    }\n    /** Selects this step component. */\n    select() {\n      this._stepper.selected = this;\n    }\n    /** Resets the step to its initial state. Note that this includes resetting form data. */\n    reset() {\n      this.interacted = false;\n      if (this._completedOverride != null) {\n        this._completedOverride = false;\n      }\n      if (this._customError != null) {\n        this._customError = false;\n      }\n      if (this.stepControl) {\n        // Reset the forms since the default error state matchers will show errors on submit and we\n        // want the form to be back to its initial state (see #29781). Submitted state is on the\n        // individual directives, rather than the control, so we need to reset them ourselves.\n        this._childForms?.forEach(form => form.resetForm?.());\n        this.stepControl.reset();\n      }\n    }\n    ngOnChanges() {\n      // Since basically all inputs of the MatStep get proxied through the view down to the\n      // underlying MatStepHeader, we have to make sure that change detection runs correctly.\n      this._stepper._stateChanged();\n    }\n    _markAsInteracted() {\n      if (!this.interacted) {\n        this.interacted = true;\n        this.interactedStream.emit(this);\n      }\n    }\n    /** Determines whether the error state can be shown. */\n    _showError() {\n      // We want to show the error state either if the user opted into/out of it using the\n      // global options, or if they've explicitly set it through the `hasError` input.\n      return this._stepperOptions.showError ?? this._customError != null;\n    }\n    static ɵfac = function CdkStep_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkStep)();\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: CdkStep,\n      selectors: [[\"cdk-step\"]],\n      contentQueries: function CdkStep_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.ɵɵcontentQuery(dirIndex, CdkStepLabel, 5);\n          i0.ɵɵcontentQuery(dirIndex,\n          // Note: we look for `ControlContainer` here, because both `NgForm` and `FormGroupDirective`\n          // provides themselves as such, but we don't want to have a concrete reference to both of\n          // the directives. The type is marked as `Partial` in case we run into a class that provides\n          // itself as `ControlContainer` but doesn't have the same interface as the directives.\n          ControlContainer, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.stepLabel = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx._childForms = _t);\n        }\n      },\n      viewQuery: function CdkStep_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(TemplateRef, 7);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n        }\n      },\n      inputs: {\n        stepControl: \"stepControl\",\n        label: \"label\",\n        errorMessage: \"errorMessage\",\n        ariaLabel: [0, \"aria-label\", \"ariaLabel\"],\n        ariaLabelledby: [0, \"aria-labelledby\", \"ariaLabelledby\"],\n        state: \"state\",\n        editable: [2, \"editable\", \"editable\", booleanAttribute],\n        optional: [2, \"optional\", \"optional\", booleanAttribute],\n        completed: [2, \"completed\", \"completed\", booleanAttribute],\n        hasError: [2, \"hasError\", \"hasError\", booleanAttribute]\n      },\n      outputs: {\n        interactedStream: \"interacted\"\n      },\n      exportAs: [\"cdkStep\"],\n      features: [i0.ɵɵNgOnChangesFeature],\n      ngContentSelectors: _c0,\n      decls: 1,\n      vars: 0,\n      template: function CdkStep_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵprojectionDef();\n          i0.ɵɵtemplate(0, CdkStep_ng_template_0_Template, 1, 0, \"ng-template\");\n        }\n      },\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return CdkStep;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CdkStepper = /*#__PURE__*/(() => {\n  class CdkStepper {\n    _dir = inject(Directionality, {\n      optional: true\n    });\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _elementRef = inject(ElementRef);\n    /** Emits when the component is destroyed. */\n    _destroyed = new Subject();\n    /** Used for managing keyboard focus. */\n    _keyManager;\n    /** Full list of steps inside the stepper, including inside nested steppers. */\n    _steps;\n    /** Steps that belong to the current stepper, excluding ones from nested steppers. */\n    steps = new QueryList();\n    /** The list of step headers of the steps in the stepper. */\n    _stepHeader;\n    /** List of step headers sorted based on their DOM order. */\n    _sortedHeaders = new QueryList();\n    /** Whether the validity of previous steps should be checked or not. */\n    linear = false;\n    /** The index of the selected step. */\n    get selectedIndex() {\n      return this._selectedIndex;\n    }\n    set selectedIndex(index) {\n      if (this._steps) {\n        // Ensure that the index can't be out of bounds.\n        if (!this._isValidIndex(index) && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n          throw Error('cdkStepper: Cannot assign out-of-bounds value to `selectedIndex`.');\n        }\n        if (this._selectedIndex !== index) {\n          this.selected?._markAsInteracted();\n          if (!this._anyControlsInvalidOrPending(index) && (index >= this._selectedIndex || this.steps.toArray()[index].editable)) {\n            this._updateSelectedItemIndex(index);\n          }\n        }\n      } else {\n        this._selectedIndex = index;\n      }\n    }\n    _selectedIndex = 0;\n    /** The step that is selected. */\n    get selected() {\n      return this.steps ? this.steps.toArray()[this.selectedIndex] : undefined;\n    }\n    set selected(step) {\n      this.selectedIndex = step && this.steps ? this.steps.toArray().indexOf(step) : -1;\n    }\n    /** Event emitted when the selected step has changed. */\n    selectionChange = new EventEmitter();\n    /** Output to support two-way binding on `[(selectedIndex)]` */\n    selectedIndexChange = new EventEmitter();\n    /** Used to track unique ID for each stepper component. */\n    _groupId = inject(_IdGenerator).getId('cdk-stepper-');\n    /** Orientation of the stepper. */\n    get orientation() {\n      return this._orientation;\n    }\n    set orientation(value) {\n      // This is a protected method so that `MatStepper` can hook into it.\n      this._orientation = value;\n      if (this._keyManager) {\n        this._keyManager.withVerticalOrientation(value === 'vertical');\n      }\n    }\n    _orientation = 'horizontal';\n    constructor() {}\n    ngAfterContentInit() {\n      this._steps.changes.pipe(startWith(this._steps), takeUntil(this._destroyed)).subscribe(steps => {\n        this.steps.reset(steps.filter(step => step._stepper === this));\n        this.steps.notifyOnChanges();\n      });\n    }\n    ngAfterViewInit() {\n      // If the step headers are defined outside of the `ngFor` that renders the steps, like in the\n      // Material stepper, they won't appear in the `QueryList` in the same order as they're\n      // rendered in the DOM which will lead to incorrect keyboard navigation. We need to sort\n      // them manually to ensure that they're correct. Alternatively, we can change the Material\n      // template to inline the headers in the `ngFor`, but that'll result in a lot of\n      // code duplication. See #23539.\n      this._stepHeader.changes.pipe(startWith(this._stepHeader), takeUntil(this._destroyed)).subscribe(headers => {\n        this._sortedHeaders.reset(headers.toArray().sort((a, b) => {\n          const documentPosition = a._elementRef.nativeElement.compareDocumentPosition(b._elementRef.nativeElement);\n          // `compareDocumentPosition` returns a bitmask so we have to use a bitwise operator.\n          // https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n          // tslint:disable-next-line:no-bitwise\n          return documentPosition & Node.DOCUMENT_POSITION_FOLLOWING ? -1 : 1;\n        }));\n        this._sortedHeaders.notifyOnChanges();\n      });\n      // Note that while the step headers are content children by default, any components that\n      // extend this one might have them as view children. We initialize the keyboard handling in\n      // AfterViewInit so we're guaranteed for both view and content children to be defined.\n      this._keyManager = new FocusKeyManager(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation === 'vertical');\n      // The selected index may have changed between when the component was created and when the\n      // key manager was initialized. Use `updateActiveItem` so it's correct, but it doesn't steal\n      // away focus from the user.\n      this._keyManager.updateActiveItem(this.selectedIndex);\n      (this._dir ? this._dir.change : of()).pipe(startWith(this._layoutDirection()), takeUntil(this._destroyed)).subscribe(direction => this._keyManager?.withHorizontalOrientation(direction));\n      this._keyManager.updateActiveItem(this._selectedIndex);\n      // No need to `takeUntil` here, because we're the ones destroying `steps`.\n      this.steps.changes.subscribe(() => {\n        if (!this.selected) {\n          this._selectedIndex = Math.max(this._selectedIndex - 1, 0);\n        }\n      });\n      // The logic which asserts that the selected index is within bounds doesn't run before the\n      // steps are initialized, because we don't how many steps there are yet so we may have an\n      // invalid index on init. If that's the case, auto-correct to the default so we don't throw.\n      if (!this._isValidIndex(this._selectedIndex)) {\n        this._selectedIndex = 0;\n      }\n      // For linear step and selected index is greater than zero,\n      // set all the previous steps to interacted so that we can navigate to previous steps.\n      if (this.linear && this._selectedIndex > 0) {\n        const visitedSteps = this.steps.toArray().slice(0, this._selectedIndex);\n        for (const step of visitedSteps) {\n          step._markAsInteracted();\n        }\n      }\n    }\n    ngOnDestroy() {\n      this._keyManager?.destroy();\n      this.steps.destroy();\n      this._sortedHeaders.destroy();\n      this._destroyed.next();\n      this._destroyed.complete();\n    }\n    /** Selects and focuses the next step in list. */\n    next() {\n      this.selectedIndex = Math.min(this._selectedIndex + 1, this.steps.length - 1);\n    }\n    /** Selects and focuses the previous step in list. */\n    previous() {\n      this.selectedIndex = Math.max(this._selectedIndex - 1, 0);\n    }\n    /** Resets the stepper to its initial state. Note that this includes clearing form data. */\n    reset() {\n      this._updateSelectedItemIndex(0);\n      this.steps.forEach(step => step.reset());\n      this._stateChanged();\n    }\n    /** Returns a unique id for each step label element. */\n    _getStepLabelId(i) {\n      return `${this._groupId}-label-${i}`;\n    }\n    /** Returns unique id for each step content element. */\n    _getStepContentId(i) {\n      return `${this._groupId}-content-${i}`;\n    }\n    /** Marks the component to be change detected. */\n    _stateChanged() {\n      this._changeDetectorRef.markForCheck();\n    }\n    /** Returns position state of the step with the given index. */\n    _getAnimationDirection(index) {\n      const position = index - this._selectedIndex;\n      if (position < 0) {\n        return this._layoutDirection() === 'rtl' ? 'next' : 'previous';\n      } else if (position > 0) {\n        return this._layoutDirection() === 'rtl' ? 'previous' : 'next';\n      }\n      return 'current';\n    }\n    /** Returns the type of icon to be displayed. */\n    _getIndicatorType(index, state = STEP_STATE.NUMBER) {\n      const step = this.steps.toArray()[index];\n      const isCurrentStep = this._isCurrentStep(index);\n      return step._displayDefaultIndicatorType ? this._getDefaultIndicatorLogic(step, isCurrentStep) : this._getGuidelineLogic(step, isCurrentStep, state);\n    }\n    _getDefaultIndicatorLogic(step, isCurrentStep) {\n      if (step._showError() && step.hasError && !isCurrentStep) {\n        return STEP_STATE.ERROR;\n      } else if (!step.completed || isCurrentStep) {\n        return STEP_STATE.NUMBER;\n      } else {\n        return step.editable ? STEP_STATE.EDIT : STEP_STATE.DONE;\n      }\n    }\n    _getGuidelineLogic(step, isCurrentStep, state = STEP_STATE.NUMBER) {\n      if (step._showError() && step.hasError && !isCurrentStep) {\n        return STEP_STATE.ERROR;\n      } else if (step.completed && !isCurrentStep) {\n        return STEP_STATE.DONE;\n      } else if (step.completed && isCurrentStep) {\n        return state;\n      } else if (step.editable && isCurrentStep) {\n        return STEP_STATE.EDIT;\n      } else {\n        return state;\n      }\n    }\n    _isCurrentStep(index) {\n      return this._selectedIndex === index;\n    }\n    /** Returns the index of the currently-focused step header. */\n    _getFocusIndex() {\n      return this._keyManager ? this._keyManager.activeItemIndex : this._selectedIndex;\n    }\n    _updateSelectedItemIndex(newIndex) {\n      const stepsArray = this.steps.toArray();\n      this.selectionChange.emit({\n        selectedIndex: newIndex,\n        previouslySelectedIndex: this._selectedIndex,\n        selectedStep: stepsArray[newIndex],\n        previouslySelectedStep: stepsArray[this._selectedIndex]\n      });\n      // If focus is inside the stepper, move it to the next header, otherwise it may become\n      // lost when the active step content is hidden. We can't be more granular with the check\n      // (e.g. checking whether focus is inside the active step), because we don't have a\n      // reference to the elements that are rendering out the content.\n      if (this._keyManager) {\n        this._containsFocus() ? this._keyManager.setActiveItem(newIndex) : this._keyManager.updateActiveItem(newIndex);\n      }\n      this._selectedIndex = newIndex;\n      this.selectedIndexChange.emit(this._selectedIndex);\n      this._stateChanged();\n    }\n    _onKeydown(event) {\n      const hasModifier = hasModifierKey(event);\n      const keyCode = event.keyCode;\n      const manager = this._keyManager;\n      if (manager?.activeItemIndex != null && !hasModifier && (keyCode === SPACE || keyCode === ENTER)) {\n        this.selectedIndex = manager.activeItemIndex;\n        event.preventDefault();\n      } else {\n        manager?.setFocusOrigin('keyboard').onKeydown(event);\n      }\n    }\n    _anyControlsInvalidOrPending(index) {\n      if (this.linear && index >= 0) {\n        return this.steps.toArray().slice(0, index).some(step => {\n          const control = step.stepControl;\n          const isIncomplete = control ? control.invalid || control.pending || !step.interacted : !step.completed;\n          return isIncomplete && !step.optional && !step._completedOverride;\n        });\n      }\n      return false;\n    }\n    _layoutDirection() {\n      return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n    }\n    /** Checks whether the stepper contains the focused element. */\n    _containsFocus() {\n      const stepperElement = this._elementRef.nativeElement;\n      const focusedElement = _getFocusedElementPierceShadowDom();\n      return stepperElement === focusedElement || stepperElement.contains(focusedElement);\n    }\n    /** Checks whether the passed-in index is a valid step index. */\n    _isValidIndex(index) {\n      return index > -1 && (!this.steps || index < this.steps.length);\n    }\n    static ɵfac = function CdkStepper_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkStepper)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkStepper,\n      selectors: [[\"\", \"cdkStepper\", \"\"]],\n      contentQueries: function CdkStepper_ContentQueries(rf, ctx, dirIndex) {\n        if (rf & 1) {\n          i0.ɵɵcontentQuery(dirIndex, CdkStep, 5);\n          i0.ɵɵcontentQuery(dirIndex, CdkStepHeader, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx._steps = _t);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx._stepHeader = _t);\n        }\n      },\n      inputs: {\n        linear: [2, \"linear\", \"linear\", booleanAttribute],\n        selectedIndex: [2, \"selectedIndex\", \"selectedIndex\", numberAttribute],\n        selected: \"selected\",\n        orientation: \"orientation\"\n      },\n      outputs: {\n        selectionChange: \"selectionChange\",\n        selectedIndexChange: \"selectedIndexChange\"\n      },\n      exportAs: [\"cdkStepper\"]\n    });\n  }\n  return CdkStepper;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/** Button that moves to the next step in a stepper workflow. */\nlet CdkStepperNext = /*#__PURE__*/(() => {\n  class CdkStepperNext {\n    _stepper = inject(CdkStepper);\n    /** Type of the next button. Defaults to \"submit\" if not specified. */\n    type = 'submit';\n    constructor() {}\n    static ɵfac = function CdkStepperNext_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkStepperNext)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkStepperNext,\n      selectors: [[\"button\", \"cdkStepperNext\", \"\"]],\n      hostVars: 1,\n      hostBindings: function CdkStepperNext_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"click\", function CdkStepperNext_click_HostBindingHandler() {\n            return ctx._stepper.next();\n          });\n        }\n        if (rf & 2) {\n          i0.ɵɵhostProperty(\"type\", ctx.type);\n        }\n      },\n      inputs: {\n        type: \"type\"\n      }\n    });\n  }\n  return CdkStepperNext;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/** Button that moves to the previous step in a stepper workflow. */\nlet CdkStepperPrevious = /*#__PURE__*/(() => {\n  class CdkStepperPrevious {\n    _stepper = inject(CdkStepper);\n    /** Type of the previous button. Defaults to \"button\" if not specified. */\n    type = 'button';\n    constructor() {}\n    static ɵfac = function CdkStepperPrevious_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkStepperPrevious)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkStepperPrevious,\n      selectors: [[\"button\", \"cdkStepperPrevious\", \"\"]],\n      hostVars: 1,\n      hostBindings: function CdkStepperPrevious_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"click\", function CdkStepperPrevious_click_HostBindingHandler() {\n            return ctx._stepper.previous();\n          });\n        }\n        if (rf & 2) {\n          i0.ɵɵhostProperty(\"type\", ctx.type);\n        }\n      },\n      inputs: {\n        type: \"type\"\n      }\n    });\n  }\n  return CdkStepperPrevious;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CdkStepperModule = /*#__PURE__*/(() => {\n  class CdkStepperModule {\n    static ɵfac = function CdkStepperModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkStepperModule)();\n    };\n    static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: CdkStepperModule\n    });\n    static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n      imports: [BidiModule]\n    });\n  }\n  return CdkStepperModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { CdkStep, CdkStepHeader, CdkStepLabel, CdkStepper, CdkStepperModule, CdkStepperNext, CdkStepperPrevious, STEPPER_GLOBAL_OPTIONS, STEP_STATE, StepperSelectionEvent };\n","<my-signup-step-title mascotImageName=\"success\">\n  <ng-container *ngIf=\"requiresApproval()\">\n    <strong i18n>Account request sent</strong>\n  </ng-container>\n\n  <ng-container *ngIf=\"!requiresApproval()\" i18n>\n    <strong>Welcome</strong>\n    <div>on {{ instanceName() }}</div>\n  </ng-container>\n</my-signup-step-title>\n\n<my-alert type=\"primary\">\n  <p *ngIf=\"requiresApproval()\" i18n>Your account request has been sent!</p>\n  <p *ngIf=\"!requiresApproval()\" i18n>Your account has been created!</p>\n\n  <ng-container *ngIf=\"requiresEmailVerification()\">\n    <p i18n *ngIf=\"requiresApproval()\">\n      <strong>Check your email</strong> to validate your account and complete your registration request.\n    </p>\n\n    <p i18n *ngIf=\"!requiresApproval()\">\n      <strong>Check your email</strong> to validate your account and complete your registration.\n    </p>\n  </ng-container>\n\n  <ng-container *ngIf=\"!requiresEmailVerification()\">\n    <p i18n *ngIf=\"requiresApproval()\">\n      A moderator will check your registration request soon and you'll receive an email when it is accepted or rejected.\n    </p>\n\n    <p *ngIf=\"!requiresApproval()\" i18n>\n      If you need help using PeerTube, you can have a look at the <a class=\"link-primary\" href=\"https://docs.joinpeertube.org/use/setup-account\" target=\"_blank\" rel=\"noopener noreferrer\">documentation</a>.\n    </p>\n  </ng-container>\n</my-alert>\n","import { NgIf } from '@angular/common'\nimport { Component, input } from '@angular/core'\nimport { AlertComponent } from '@app/shared/shared-main/common/alert.component'\nimport { SignupStepTitleComponent } from './signup-step-title.component'\n\n@Component({\n  selector: 'my-signup-success-before-email',\n  templateUrl: './signup-success-before-email.component.html',\n  styleUrls: [ './signup-success.component.scss' ],\n  imports: [ SignupStepTitleComponent, NgIf, AlertComponent ]\n})\nexport class SignupSuccessBeforeEmailComponent {\n  readonly requiresApproval = input<boolean>(undefined)\n  readonly requiresEmailVerification = input<boolean>(undefined)\n  readonly instanceName = input<string>(undefined)\n}\n","<section>\n  <header *ngIf=\"steps.length > 2\">\n    <div class=\"header-steps\">\n      <ng-container *ngFor=\"let step of steps; let i = index; let isLast = last;\">\n        <button\n          class=\"step-info button-unstyle\" [ngClass]=\"{ active: selectedIndex === i, completed: isCompleted(step) }\"\n          [disabled]=\"!isAccessible(step)\"\n          [attr.aria-current]=\"selectedIndex === i\" (click)=\"onClick(i)\"\n        >\n          <div class=\"step-index\">\n            <span class=\"visually-hidden\" i18n>Step</span> {{ i + 1 }}\n\n            <div class=\"completed-icon\" *ngIf=\"isCompleted(step)\">\n              <my-global-icon iconName=\"tick\"></my-global-icon>\n            </div>\n          </div>\n\n          <div class=\"step-label\">{{ step.label }}</div>\n        </button>\n\n        <!-- Do no display if this is the last child -->\n        <div *ngIf=\"!isLast\" class=\"connector\"></div>\n      </ng-container>\n    </div>\n  </header>\n\n  <div class=\"margin-content\" [style.display]=\"selected ? 'block' : 'none'\">\n    <ng-container [ngTemplateOutlet]=\"selected.content\"></ng-container>\n  </div>\n\n</section>\n","import { CdkStep, CdkStepper } from '@angular/cdk/stepper'\nimport { Component } from '@angular/core'\nimport { GlobalIconComponent } from '../../shared/shared-icons/global-icon.component'\nimport { NgIf, NgFor, NgClass, NgTemplateOutlet } from '@angular/common'\n\n@Component({\n  selector: 'my-custom-stepper',\n  templateUrl: './custom-stepper.component.html',\n  styleUrls: [ './custom-stepper.component.scss' ],\n  providers: [ { provide: CdkStepper, useExisting: CustomStepperComponent } ],\n  imports: [ NgIf, NgFor, NgClass, GlobalIconComponent, NgTemplateOutlet ]\n})\nexport class CustomStepperComponent extends CdkStepper {\n\n  onClick (index: number): void {\n    this.selectedIndex = index\n  }\n\n  isCompleted (step: CdkStep) {\n    return step.completed\n  }\n\n  isAccessible (step: CdkStep) {\n    return step.editable && step.completed\n  }\n}\n","<my-instance-banner class=\"d-block mb-4\" rounded=\"true\"></my-instance-banner>\n\n<my-alert *ngIf=\"requiresApproval()\" type=\"primary\" class=\"text-center\">\n  <p>\n    <ng-container i18n>Moderators of {{ instanceName }} will have to approve your registration request once you have completed and submitted the form.</ng-container>\n\n    <ng-container *ngIf=\"averageResponseTime\" i18n>They usually respond within {{ averageResponseTime | myDaysDurationFormatter }}.</ng-container>\n  </p>\n</my-alert>\n\n<div class=\"why\">\n  <h3 i18n>Why create an account?</h3>\n\n  <p i18n>\n    As you probably noticed: creating an account is not necessary to watch videos on {{ instanceName }}.\n    <br />\n    However, creating an account on {{ instanceName }} will allow you to:\n  </p>\n\n  <ul>\n    <li i18n><strong>Comment</strong> on videos</li>\n    <li i18n><strong>Subscribe</strong> to channels and receive notifications of new videos</li>\n    <li i18n>Have access to your <strong>watch history</strong></li>\n    <li *ngIf=\"!videoUploadDisabled()\" i18n>Create a channel to <strong>publish videos</strong></li>\n  </ul>\n</div>\n\n<div>\n  <h4 i18n>Do you use Mastodon, ActivityPub or a RSS feed aggregator?</h4>\n\n  <p i18n>You can already follow {{ instanceName }} using your favorite tool.</p>\n</div>\n\n<div class=\"callout callout-primary callout-light\">\n  <div class=\"mascot-container\" style=\"min-width: 140px\">\n    <img class=\"mascot\" width=\"140px\" height=\"160px\" src=\"/client/assets/images/mascot/happy.svg\" alt=\"mascot\"/>\n  </div>\n\n  <div class=\"callout-content\">\n    <h4 i18>This website is a GAFAM alternative</h4>\n\n    <p i18n>\n      {{ instanceName }} has been created using <a class=\"link-primary\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://joinpeertube.org\">PeerTube</a>, a video creation platform developed by Framasoft.\n      <a class=\"link-primary\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://framasoft.org\">Framasoft</a> is a french non-profit organization that offers alternatives to Big Tech's digital tools\n    </p>\n  </div>\n</div>\n","import { NgIf } from '@angular/common'\nimport { Component, inject, input } from '@angular/core'\nimport { ServerService } from '@app/core'\nimport { AlertComponent } from '@app/shared/shared-main/common/alert.component'\nimport { ServerStats } from '@peertube/peertube-models'\nimport { InstanceBannerComponent } from '../../../shared/shared-instance/instance-banner.component'\nimport { DaysDurationFormatterPipe } from '../../../shared/shared-main/date/days-duration-formatter.pipe'\n\n@Component({\n  selector: 'my-register-step-about',\n  templateUrl: './register-step-about.component.html',\n  styleUrls: [ './register-step-about.component.scss' ],\n  imports: [ InstanceBannerComponent, NgIf, DaysDurationFormatterPipe, AlertComponent ]\n})\nexport class RegisterStepAboutComponent {\n  private serverService = inject(ServerService)\n\n  readonly requiresApproval = input<boolean>(undefined)\n  readonly videoUploadDisabled = input<boolean>(undefined)\n  readonly serverStats = input<ServerStats>(undefined)\n\n  get instanceName () {\n    return this.serverService.getHTMLConfig().instance.name\n  }\n\n  get averageResponseTime () {\n    return this.serverStats()?.averageRegistrationRequestResponseTimeMs\n  }\n}\n","<div class=\"mb-5\">\n  <p i18n>\n    You want to <strong>publish videos</strong> on {{ instanceName() }}? Then you need to create your first <strong>channel</strong>.\n  </p>\n\n  <p i18n>\n    You might want to <strong>create a channel by theme:</strong> for example, you can create a channel named \"SweetMelodies\"\n    to publish your piano concerts and another one \"Ecology\" in which you publish your videos talking about ecology.\n  </p>\n\n  <p i18n *ngIf=\"videoQuota() !== -1\">\n    {{ instanceName() }} administrators allow you to publish up to <strong>{{ videoQuota() | bytes: 0 }} of videos</strong> on their website.\n  </p>\n</div>\n\n<form [formGroup]=\"form\">\n\n  <div class=\"row\">\n\n    <div class=\"col-md-12 col-xl-6 form-group\">\n      <label for=\"displayName\" i18n>Channel display name</label>\n\n      <div i18n class=\"form-group-description\">This is the name that will be publicly visible by other users.</div>\n\n      <div class=\"input-group\">\n        <input\n          type=\"text\" id=\"displayName\" i18n-placeholder placeholder=\"Example: Sweet Melodies\"\n          formControlName=\"displayName\" [ngClass]=\"{ 'input-error': formErrors['displayName'] }\"\n        >\n      </div>\n\n      <div *ngIf=\"formErrors.displayName\" class=\"form-error\" role=\"alert\">{{ formErrors.displayName }}</div>\n    </div>\n\n    <div class=\"col-md-12 col-xl-6 form-group\">\n      <label for=\"name\" i18n>Channel identifier</label>\n\n      <div i18n class=\"form-group-description\">This is the name that will be displayed in your profile URL.</div>\n\n      <div class=\"input-group\">\n        <input\n          type=\"text\" id=\"name\" i18n-placeholder placeholder=\"Example: sweetmelodies24\"\n          formControlName=\"name\" [ngClass]=\"{ 'input-error': formErrors['name'] }\"\n        >\n        <div class=\"input-group-text\">&#64;{{ instanceHost }}</div>\n      </div>\n\n      <div *ngIf=\"formErrors.name\" class=\"form-error\" role=\"alert\">{{ formErrors.name }}</div>\n\n      <div *ngIf=\"isSameThanUsername()\" class=\"form-error\" role=\"alert\" i18n>\n        Channel identifier cannot be the same as your account name. You can click on the first step to update your account name.\n      </div>\n    </div>\n  </div>\n</form>\n","import { concat, of } from 'rxjs'\nimport { pairwise } from 'rxjs/operators'\nimport { Component, OnInit, inject, input, output } from '@angular/core'\nimport { FormGroup, FormsModule, ReactiveFormsModule } from '@angular/forms'\nimport { SignupService } from '@app/+signup/shared/signup.service'\nimport { VIDEO_CHANNEL_DISPLAY_NAME_VALIDATOR, VIDEO_CHANNEL_NAME_VALIDATOR } from '@app/shared/form-validators/video-channel-validators'\nimport { FormReactive } from '@app/shared/shared-forms/form-reactive'\nimport { FormReactiveService } from '@app/shared/shared-forms/form-reactive.service'\nimport { BytesPipe } from '../../../shared/shared-main/common/bytes.pipe'\nimport { NgIf, NgClass } from '@angular/common'\n\n@Component({\n  selector: 'my-register-step-channel',\n  templateUrl: './register-step-channel.component.html',\n  styleUrls: [ './step.component.scss' ],\n  imports: [ NgIf, FormsModule, ReactiveFormsModule, NgClass, BytesPipe ]\n})\nexport class RegisterStepChannelComponent extends FormReactive implements OnInit {\n  protected formReactiveService = inject(FormReactiveService)\n  private signupService = inject(SignupService)\n\n  readonly username = input<string>(undefined)\n  readonly instanceName = input<string>(undefined)\n  readonly videoQuota = input<number>(undefined)\n\n  readonly formBuilt = output<FormGroup>()\n\n  get instanceHost () {\n    return window.location.host\n  }\n\n  ngOnInit () {\n    this.buildForm({\n      displayName: VIDEO_CHANNEL_DISPLAY_NAME_VALIDATOR,\n      name: VIDEO_CHANNEL_NAME_VALIDATOR\n    })\n\n    setTimeout(() => this.formBuilt.emit(this.form))\n\n    concat(\n      of(''),\n      this.form.get('displayName').valueChanges\n    ).pipe(pairwise())\n      .subscribe(([ oldValue, newValue ]) => this.onDisplayNameChange(oldValue, newValue))\n  }\n\n  isSameThanUsername () {\n    const username = this.username()\n    return username && username === this.form.value['name']\n  }\n\n  private onDisplayNameChange (oldDisplayName: string, newDisplayName: string) {\n    const name = this.form.value['name'] || ''\n\n    const newName = this.signupService.getNewUsername(oldDisplayName, newDisplayName, name)\n    this.form.patchValue({ name: newName })\n  }\n}\n","import { Validators } from '@angular/forms'\nimport { BuildFormValidator } from '@app/shared/form-validators/form-validator.model'\n\nexport const REGISTER_TERMS_VALIDATOR: BuildFormValidator = {\n  VALIDATORS: [ Validators.requiredTrue ],\n  MESSAGES: {\n    required: $localize`You must agree with the platform terms in order to register on it.`\n  }\n}\n\nexport const REGISTER_REASON_VALIDATOR: BuildFormValidator = {\n  VALIDATORS: [ Validators.required, Validators.minLength(2), Validators.maxLength(3000) ],\n  MESSAGES: {\n    required: $localize`Registration reason is required.`,\n    minlength: $localize`Registration reason must be at least 2 characters long.`,\n    maxlength: $localize`Registration reason cannot be more than 3000 characters long.`\n  }\n}\n","<form [formGroup]=\"form\">\n\n  <div *ngIf=\"requiresApproval()\" class=\"form-group\">\n    <label i18n for=\"registrationReason\">Why do you want to join {{ instanceName() }}?</label>\n\n    <textarea\n      id=\"registrationReason\" formControlName=\"registrationReason\" class=\"form-control\" rows=\"4\"\n      [ngClass]=\"{ 'input-error': formErrors['registrationReason'] }\"\n    ></textarea>\n\n    <div *ngIf=\"formErrors.registrationReason\" class=\"form-error\" role=\"alert\">{{ formErrors.registrationReason }}</div>\n  </div>\n\n  <div class=\"form-group\">\n    <my-peertube-checkbox inputName=\"terms\" formControlName=\"terms\">\n      <ng-template ptTemplate=\"label\">\n        <ng-container i18n>\n          I am at least {{ minimumAge() }} years old and agree\n          to the <a class=\"link-primary\" (click)=\"onTermsClick($event)\" href='#'>Terms</a>\n          <ng-container *ngIf=\"hasCodeOfConduct()\"> and to the <a class=\"link-primary\" (click)=\"onCodeOfConductClick($event)\" href='#'>Code of Conduct</a></ng-container>\n          of {{ instanceName() }}\n        </ng-container>\n      </ng-template>\n    </my-peertube-checkbox>\n\n    <div *ngIf=\"formErrors.terms\" class=\"form-error\" role=\"alert\">{{ formErrors.terms }}</div>\n  </div>\n</form>\n","import { Component, OnInit, inject, input, output } from '@angular/core'\nimport { FormGroup, FormsModule, ReactiveFormsModule } from '@angular/forms'\nimport { FormReactive } from '@app/shared/shared-forms/form-reactive'\nimport { FormReactiveService } from '@app/shared/shared-forms/form-reactive.service'\nimport { REGISTER_REASON_VALIDATOR, REGISTER_TERMS_VALIDATOR } from '../shared'\nimport { PeerTubeTemplateDirective } from '../../../shared/shared-main/common/peertube-template.directive'\nimport { PeertubeCheckboxComponent } from '../../../shared/shared-forms/peertube-checkbox.component'\nimport { NgIf, NgClass } from '@angular/common'\n\n@Component({\n  selector: 'my-register-step-terms',\n  templateUrl: './register-step-terms.component.html',\n  styleUrls: [ './step.component.scss' ],\n  imports: [ FormsModule, ReactiveFormsModule, NgIf, NgClass, PeertubeCheckboxComponent, PeerTubeTemplateDirective ]\n})\nexport class RegisterStepTermsComponent extends FormReactive implements OnInit {\n  protected formReactiveService = inject(FormReactiveService)\n\n  readonly hasCodeOfConduct = input(false)\n  readonly requiresApproval = input<boolean>(undefined)\n  readonly minimumAge = input(16)\n  readonly instanceName = input<string>(undefined)\n\n  readonly formBuilt = output<FormGroup>()\n  readonly termsClick = output()\n  readonly codeOfConductClick = output()\n\n  get instanceHost () {\n    return window.location.host\n  }\n\n  ngOnInit () {\n    this.buildForm({\n      terms: REGISTER_TERMS_VALIDATOR,\n\n      registrationReason: this.requiresApproval()\n        ? REGISTER_REASON_VALIDATOR\n        : null\n    })\n\n    setTimeout(() => this.formBuilt.emit(this.form))\n  }\n\n  onTermsClick (event: Event) {\n    event.preventDefault()\n    this.termsClick.emit()\n  }\n\n  onCodeOfConductClick (event: Event) {\n    event.preventDefault()\n    this.codeOfConductClick.emit()\n  }\n}\n","<my-alert type=\"primary\" i18n *ngIf=\"videoUploadDisabled()\">\n  Video uploads are disabled on this instance, hence your account won't be able to upload videos.\n</my-alert>\n\n<form [formGroup]=\"form\">\n  <div class=\"row\">\n\n    <div class=\"col-md-12 col-xl-6 form-group\">\n      <label for=\"displayName\" i18n>Public name</label>\n\n      <div class=\"form-group-description\" i18n>\n        This is the name that will be publicly visible by other users.\n      </div>\n\n      <div class=\"input-group\">\n        <input\n          type=\"text\" id=\"displayName\" i18n-placeholder placeholder=\"Example: John Doe\"\n          formControlName=\"displayName\" class=\"form-control\" [ngClass]=\"{ 'input-error': formErrors['displayName'] }\"\n          autocomplete=\"nickname\"\n        >\n      </div>\n\n      <div *ngIf=\"formErrors.displayName\" class=\"form-error\" role=\"alert\">{{ formErrors.displayName }}</div>\n    </div>\n\n    <div class=\"col-md-12 col-xl-6 form-group\">\n      <label for=\"username\" i18n>Username</label>\n\n      <div class=\"form-group-description\" i18n>\n        This is the name that will be displayed in your profile URL.\n      </div>\n\n      <div class=\"input-group\">\n        <input\n          type=\"text\" id=\"username\" i18n-placeholder placeholder=\"Example: john_doe58\"\n          formControlName=\"username\" class=\"form-control\" [ngClass]=\"{ 'input-error': formErrors['username'] }\"\n          autocomplete=\"username\"\n        >\n        <span class=\"input-group-text\">&#64;{{ instanceHost }}</span>\n      </div>\n\n      <div *ngIf=\"formErrors.username\" class=\"form-error\" role=\"alert\">{{ formErrors.username }}</div>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-md-12 col-xl-6 form-group\">\n      <label for=\"email\" i18n>Email</label>\n\n      <div *ngIf=\"requiresEmailVerification()\" class=\"form-group-description\" i18n>\n        This email address will be used to validate your account.\n      </div>\n\n      <input\n        type=\"text\" id=\"email\" i18n-placeholder placeholder=\"Example: john@example.com\" autocomplete=\"email\"\n        formControlName=\"email\" class=\"form-control\" [ngClass]=\"{ 'input-error': formErrors['email'] }\"\n      >\n\n      <div *ngIf=\"formErrors.email\" class=\"form-error\" role=\"alert\">{{ formErrors.email }}</div>\n    </div>\n\n    <div class=\"col-md-12 col-xl-6 form-group\">\n      <label for=\"password\" i18n>Password</label>\n\n      <div class=\"form-group-description\">{{ getMinPasswordLengthMessage() }}</div>\n\n      <my-input-text\n        formControlName=\"password\" inputId=\"password\"\n        [formError]=\"formErrors['password']\" autocomplete=\"new-password\"\n      ></my-input-text>\n    </div>\n  </div>\n</form>\n","import { NgClass, NgIf } from '@angular/common'\nimport { Component, OnInit, inject, input, output } from '@angular/core'\nimport { FormGroup, FormsModule, ReactiveFormsModule } from '@angular/forms'\nimport { SignupService } from '@app/+signup/shared/signup.service'\nimport {\n  USER_DISPLAY_NAME_REQUIRED_VALIDATOR,\n  USER_EMAIL_VALIDATOR,\n  USER_PASSWORD_VALIDATOR,\n  USER_USERNAME_VALIDATOR\n} from '@app/shared/form-validators/user-validators'\nimport { FormReactive } from '@app/shared/shared-forms/form-reactive'\nimport { FormReactiveService } from '@app/shared/shared-forms/form-reactive.service'\nimport { AlertComponent } from '@app/shared/shared-main/common/alert.component'\nimport { concat, of } from 'rxjs'\nimport { pairwise } from 'rxjs/operators'\nimport { InputTextComponent } from '../../../shared/shared-forms/input-text.component'\n\n@Component({\n  selector: 'my-register-step-user',\n  templateUrl: './register-step-user.component.html',\n  styleUrls: [ './step.component.scss' ],\n  imports: [ NgIf, FormsModule, ReactiveFormsModule, NgClass, InputTextComponent, AlertComponent ]\n})\nexport class RegisterStepUserComponent extends FormReactive implements OnInit {\n  protected formReactiveService = inject(FormReactiveService)\n  private signupService = inject(SignupService)\n\n  readonly videoUploadDisabled = input(false)\n  readonly requiresEmailVerification = input(false)\n\n  readonly formBuilt = output<FormGroup>()\n\n  get instanceHost () {\n    return window.location.host\n  }\n\n  ngOnInit () {\n    this.buildForm({\n      displayName: USER_DISPLAY_NAME_REQUIRED_VALIDATOR,\n      username: USER_USERNAME_VALIDATOR,\n      password: USER_PASSWORD_VALIDATOR,\n      email: USER_EMAIL_VALIDATOR\n    })\n\n    setTimeout(() => this.formBuilt.emit(this.form))\n\n    concat(\n      of(''),\n      this.form.get('displayName').valueChanges\n    ).pipe(pairwise())\n      .subscribe(([ oldValue, newValue ]) => this.onDisplayNameChange(oldValue, newValue))\n  }\n\n  getMinPasswordLengthMessage () {\n    return USER_PASSWORD_VALIDATOR.MESSAGES.minlength\n  }\n\n  private onDisplayNameChange (oldDisplayName: string, newDisplayName: string) {\n    const username = this.form.value['username'] || ''\n\n    const newUsername = this.signupService.getNewUsername(oldDisplayName, newDisplayName, username)\n    this.form.patchValue({ username: newUsername })\n  }\n}\n","<div class=\"margin-content\">\n\n  <div class=\"signup-disabled\" *ngIf=\"signupDisabled\">\n    <my-alert type=\"warning\" i18n>Signup is not enabled on this instance.</my-alert>\n  </div>\n\n  <ng-container *ngIf=\"!signupDisabled\">\n    <div class=\"register-content\">\n      <my-custom-stepper linear>\n\n        <cdk-step i18n-label label=\"About\" [editable]=\"!signupSuccess\">\n          <my-signup-step-title mascotImageName=\"about\">\n            <strong>\n              <my-signup-label [requiresApproval]=\"requiresApproval\"></my-signup-label>\n            </strong>\n\n            <div i18n>on {{ instanceName }}</div>\n          </my-signup-step-title>\n\n          <my-register-step-about [serverStats]=\"serverStats\" [requiresApproval]=\"requiresApproval\" [videoUploadDisabled]=\"videoUploadDisabled\"></my-register-step-about>\n\n          <div class=\"step-buttons\">\n            <a i18n class=\"skip-step link-primary fw-normal\" routerLink=\"/login\">\n              <strong>I already have an account</strong>, I log in\n            </a>\n\n            <button class=\"peertube-button-big primary-button\" cdkStepperNext>\n              <my-signup-label [requiresApproval]=\"requiresApproval\"></my-signup-label>\n            </button>\n          </div>\n        </cdk-step>\n\n        <cdk-step [stepControl]=\"formStepTerms\" i18n-label label=\"Terms\" [editable]=\"!signupSuccess\">\n          <my-signup-step-title mascotImageName=\"terms\" i18n>\n            <strong>Terms</strong>\n            <div>of {{ instanceName }}</div>\n          </my-signup-step-title>\n\n          <my-instance-about-accordion\n            #instanceAboutAccordion\n            [displayInstanceName]=\"false\"\n            (init)=\"onInstanceAboutAccordionInit($event)\" [panels]=\"instanceInformationPanels\"\n            pluginScope=\"signup\" pluginHook=\"filter:signup.instance-about-plugin-panels.create.result\"\n          ></my-instance-about-accordion>\n\n          <my-register-step-terms\n            [hasCodeOfConduct]=\"!!aboutHtml.codeOfConduct\" [minimumAge]=\"minimumAge\" [instanceName]=\"instanceName\"\n            [requiresApproval]=\"requiresApproval\"\n            (formBuilt)=\"onTermsFormBuilt($event)\" (termsClick)=\"onTermsClick()\" (codeOfConductClick)=\"onCodeOfConductClick()\"\n          ></my-register-step-terms>\n\n          <div class=\"step-buttons\">\n            <button class=\"peertube-button-big secondary-button\" cdkStepperPrevious>{{ defaultPreviousStepButtonLabel }}</button>\n            <button class=\"peertube-button-big primary-button\" cdkStepperNext [disabled]=\"!formStepTerms || !formStepTerms.valid\">{{ defaultNextStepButtonLabel }}</button>\n          </div>\n        </cdk-step>\n\n        <cdk-step [stepControl]=\"formStepUser\" i18n-label label=\"My account\" [editable]=\"!signupSuccess\">\n          <my-signup-step-title mascotImageName=\"account\" i18n>\n            <strong>Setup</strong>\n            <div>your account</div>\n          </my-signup-step-title>\n\n          <my-register-step-user\n            (formBuilt)=\"onUserFormBuilt($event)\"\n            [videoUploadDisabled]=\"videoUploadDisabled\" [requiresEmailVerification]=\"requiresEmailVerification\"\n          ></my-register-step-user>\n\n          <div class=\"step-buttons\">\n            <button class=\"peertube-button-big secondary-button\" cdkStepperPrevious>{{ defaultPreviousStepButtonLabel }}</button>\n            <button class=\"peertube-button-big primary-button\" cdkStepperNext [disabled]=\"!formStepUser || !formStepUser.valid\" (click)=\"videoUploadDisabled && signup()\">{{ stepUserButtonLabel }}</button>\n          </div>\n        </cdk-step>\n\n        <cdk-step *ngIf=\"!videoUploadDisabled\" [optional]=\"true\" [stepControl]=\"formStepChannel\" i18n-label label=\"My channel\" [editable]=\"!signupSuccess\">\n          <my-signup-step-title mascotImageName=\"channel\" i18n>\n            <div>Create</div>\n            <strong>your first channel</strong>\n          </my-signup-step-title>\n\n          <my-register-step-channel\n            (formBuilt)=\"onChannelFormBuilt($event)\"\n            [videoQuota]=\"videoQuota\" [instanceName]=\"instanceName\" [username]=\"getUsername()\"\n          ></my-register-step-channel>\n\n          <div class=\"step-buttons\">\n            <button class=\"peertube-button-big secondary-button\" cdkStepperPrevious>{{ defaultPreviousStepButtonLabel }}</button>\n\n            <div class=\"skip-step\">\n              <button class=\"link-primary button-unstyle\" (click)=\"skipChannelCreation()\">\n                <strong i18n>I don't want to create a channel</strong>\n              </button>\n\n              <div class=\"skip-step-description\" i18n>You will be able to create a channel later</div>\n            </div>\n\n            <button class=\"peertube-button-big primary-button\" cdkStepperNext [disabled]=\"!formStepChannel || !formStepChannel.valid || hasSameChannelAndAccountNames()\" (click)=\"signup()\">\n              <my-signup-label [requiresApproval]=\"requiresApproval\"></my-signup-label>\n            </button>\n          </div>\n        </cdk-step>\n\n        <cdk-step #lastStep i18n-label label=\"Done!\" [editable]=\"false\">\n          <!-- Account creation can be a little bit long so display a loader  -->\n          <div *ngIf=\"!requiresApproval && !signupSuccess && !signupError\" class=\"done-loader\">\n            <my-loader [loading]=\"true\"></my-loader>\n\n            <div i18n>PeerTube is creating your account...</div>\n          </div>\n\n          <my-alert *ngIf=\"signupError\" type=\"danger\">{{ signupError }}</my-alert>\n\n          <my-signup-success-before-email\n            *ngIf=\"signupSuccess\"\n            [requiresEmailVerification]=\"requiresEmailVerification\" [requiresApproval]=\"requiresApproval\" [instanceName]=\"instanceName\"\n          ></my-signup-success-before-email>\n\n          <div *ngIf=\"signupError\" class=\"step-buttons\">\n            <button class=\"peertube-button-big secondary-button\" cdkStepperPrevious>{{ defaultPreviousStepButtonLabel }}</button>\n          </div>\n        </cdk-step>\n      </my-custom-stepper>\n    </div>\n  </ng-container>\n\n</div>\n","import { CdkStep, CdkStepperNext, CdkStepperPrevious } from '@angular/cdk/stepper'\nimport { NgIf } from '@angular/common'\nimport { Component, OnInit, inject, viewChild } from '@angular/core'\nimport { FormGroup } from '@angular/forms'\nimport { ActivatedRoute, RouterLink } from '@angular/router'\nimport { AuthService, ServerService } from '@app/core'\nimport { HooksService } from '@app/core/plugins/hooks.service'\nimport { InstanceAboutAccordionComponent } from '@app/shared/shared-instance/instance-about-accordion.component'\nimport { AlertComponent } from '@app/shared/shared-main/common/alert.component'\nimport { PeerTubeProblemDocument, ServerConfig, ServerStats, UserRegister } from '@peertube/peertube-models'\nimport { LoaderComponent } from '../../shared/shared-main/common/loader.component'\nimport { SignupLabelComponent } from '../../shared/shared-main/users/signup-label.component'\nimport { SignupStepTitleComponent } from '../shared/signup-step-title.component'\nimport { SignupSuccessBeforeEmailComponent } from '../shared/signup-success-before-email.component'\nimport { SignupService } from '../shared/signup.service'\nimport { CustomStepperComponent } from './custom-stepper.component'\nimport { RegisterStepAboutComponent } from './steps/register-step-about.component'\nimport { RegisterStepChannelComponent } from './steps/register-step-channel.component'\nimport { RegisterStepTermsComponent } from './steps/register-step-terms.component'\nimport { RegisterStepUserComponent } from './steps/register-step-user.component'\n\n@Component({\n  selector: 'my-register',\n  templateUrl: './register.component.html',\n  styleUrls: [ './register.component.scss' ],\n  imports: [\n    NgIf,\n    SignupLabelComponent,\n    CustomStepperComponent,\n    CdkStep,\n    SignupStepTitleComponent,\n    RegisterStepAboutComponent,\n    RouterLink,\n    CdkStepperNext,\n    InstanceAboutAccordionComponent,\n    RegisterStepTermsComponent,\n    CdkStepperPrevious,\n    RegisterStepUserComponent,\n    RegisterStepChannelComponent,\n    LoaderComponent,\n    SignupSuccessBeforeEmailComponent,\n    AlertComponent\n  ]\n})\nexport class RegisterComponent implements OnInit {\n  private route = inject(ActivatedRoute)\n  private authService = inject(AuthService)\n  private signupService = inject(SignupService)\n  private server = inject(ServerService)\n  private hooks = inject(HooksService)\n\n  readonly lastStep = viewChild<CdkStep>('lastStep')\n  readonly instanceAboutAccordion = viewChild<InstanceAboutAccordionComponent>('instanceAboutAccordion')\n\n  signupError: string\n  signupSuccess = false\n\n  videoUploadDisabled: boolean\n  videoQuota: number\n\n  formStepTerms: FormGroup\n  formStepUser: FormGroup\n  formStepChannel: FormGroup\n\n  aboutHtml = {\n    codeOfConduct: ''\n  }\n\n  instanceInformationPanels = {\n    codeOfConduct: true,\n    terms: true,\n    administrators: false,\n    features: false,\n    moderation: false\n  }\n\n  defaultPreviousStepButtonLabel = $localize`Go to the previous step`\n  defaultNextStepButtonLabel = $localize`Go to the next step`\n  stepUserButtonLabel = this.defaultNextStepButtonLabel\n\n  signupDisabled = false\n\n  serverStats: ServerStats\n\n  private serverConfig: ServerConfig\n\n  get requiresEmailVerification () {\n    return this.serverConfig.signup.requiresEmailVerification\n  }\n\n  get requiresApproval () {\n    return this.serverConfig.signup.requiresApproval\n  }\n\n  get minimumAge () {\n    return this.serverConfig.signup.minimumAge\n  }\n\n  get instanceName () {\n    return this.serverConfig.instance.name\n  }\n\n  ngOnInit () {\n    this.serverConfig = this.route.snapshot.data.serverConfig\n\n    if (this.serverConfig.signup.allowed === false || this.serverConfig.signup.allowedForCurrentIP === false) {\n      this.signupDisabled = true\n      return\n    }\n\n    this.videoQuota = this.serverConfig.user.videoQuota\n    this.videoUploadDisabled = this.videoQuota === 0\n\n    this.stepUserButtonLabel = this.videoUploadDisabled\n      ? $localize`:Button on the registration form to finalize the account and channel creation:Signup`\n      : this.defaultNextStepButtonLabel\n\n    this.server.getServerStats()\n      .subscribe(stats => this.serverStats = stats)\n\n    this.hooks.runAction('action:signup.register.init', 'signup')\n  }\n\n  hasSameChannelAndAccountNames () {\n    return this.getUsername() === this.getChannelName()\n  }\n\n  getUsername () {\n    if (!this.formStepUser) return undefined\n\n    return this.formStepUser.value['username']\n  }\n\n  getChannelName () {\n    if (!this.formStepChannel) return undefined\n\n    return this.formStepChannel.value['name']\n  }\n\n  onTermsFormBuilt (form: FormGroup) {\n    this.formStepTerms = form\n  }\n\n  onUserFormBuilt (form: FormGroup) {\n    this.formStepUser = form\n  }\n\n  onChannelFormBuilt (form: FormGroup) {\n    this.formStepChannel = form\n  }\n\n  onTermsClick () {\n    this.instanceAboutAccordion().expandTerms()\n  }\n\n  onCodeOfConductClick () {\n    this.instanceAboutAccordion().expandCodeOfConduct()\n  }\n\n  onInstanceAboutAccordionInit (instanceAboutAccordion: InstanceAboutAccordionComponent) {\n    this.aboutHtml = instanceAboutAccordion.aboutHtml\n  }\n\n  skipChannelCreation () {\n    this.formStepChannel.reset()\n    this.lastStep().select()\n\n    this.signup()\n  }\n\n  async signup () {\n    this.signupError = undefined\n\n    const termsForm = this.formStepTerms.value\n    const userForm = this.formStepUser.value\n    const channelForm = this.formStepChannel?.value\n\n    const channel = this.formStepChannel?.value?.name\n      ? { name: channelForm?.name, displayName: channelForm?.displayName }\n      : undefined\n\n    const body = await this.hooks.wrapObject(\n      {\n        username: userForm.username,\n        password: userForm.password,\n        email: userForm.email,\n        displayName: userForm.displayName,\n\n        registrationReason: termsForm.registrationReason,\n\n        channel\n      },\n      'signup',\n      'filter:api.signup.registration.create.params'\n    )\n\n    const obs = this.requiresApproval\n      ? this.signupService.requestSignup(body)\n      : this.signupService.directSignup(body)\n\n    obs.subscribe({\n      next: () => {\n        if (this.requiresEmailVerification || this.requiresApproval) {\n          this.signupSuccess = true\n          return\n        }\n\n        // Auto login\n        this.autoLogin(body)\n      },\n\n      error: err => {\n        this.signupError = (err.body as PeerTubeProblemDocument)?.detail || err.message\n      }\n    })\n  }\n\n  private autoLogin (body: UserRegister) {\n    this.authService.login({ username: body.username, password: body.password })\n      .subscribe({\n        next: () => {\n          this.signupSuccess = true\n        },\n\n        error: err => {\n          this.signupError = err.message\n        }\n      })\n  }\n}\n","import { Routes } from '@angular/router'\nimport { ServerConfigResolver, UnloggedGuard } from '@app/core'\nimport { RegisterComponent } from './register.component'\nimport { SignupService } from '../shared/signup.service'\n\nexport default [\n  {\n    path: '',\n    component: RegisterComponent,\n    canActivate: [ UnloggedGuard ],\n    data: {\n      meta: {\n        title: $localize`Register`\n      }\n    },\n    providers: [ ServerConfigResolver, SignupService ],\n    resolve: {\n      serverConfig: ServerConfigResolver\n    }\n  }\n] satisfies Routes\n"]}