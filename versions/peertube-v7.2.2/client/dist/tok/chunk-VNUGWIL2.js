import{a as Wi}from"./chunk-NHSB3FQP.js";import{a as St}from"./chunk-TBYV5OLF.js";import{b as ar,c as lr}from"./chunk-CPWI2B3B.js";import{a as ir}from"./chunk-E244FAMK.js";import{b as nr}from"./chunk-736AMHRO.js";import{a as zt}from"./chunk-LSIL47EV.js";import{a as En}from"./chunk-5ZQXRNOS.js";import{a as Vi,b as Fi,c as $i,d as ki,e as zi}from"./chunk-2RZHLGS2.js";import{a as Mn,c as jo,d as Ko,e as qo,f as Zo,g as Jo}from"./chunk-QKZVJSPP.js";import{a as Bi}from"./chunk-YJYUDEMC.js";import{g as Fo,h as $o}from"./chunk-DJO6R22E.js";import{b as Me}from"./chunk-5PLTSPIA.js";import"./chunk-MLUQ7CKS.js";import{a as er}from"./chunk-OBNYDDHF.js";import{a as tr}from"./chunk-ANIHUVIX.js";import{a as mt,b as ut,c as ht,d as Bo,e as Go,g as Ho,h as Uo,i as gt,j as ft,k as Wo,l as Gi}from"./chunk-5BBSIJ6K.js";import"./chunk-X5AICG5H.js";import{a as ko,b as zo}from"./chunk-4MNDFPOM.js";import{c as Xo}from"./chunk-SS3SQE34.js";import{a as Ct}from"./chunk-GUE2RQOD.js";import{a as Qo}from"./chunk-GLDJGDCD.js";import{b as $t,d as Do,h as Lo,i as Vo}from"./chunk-DUA2DJQ3.js";import"./chunk-FJ2ZROHN.js";import"./chunk-EBEN7JLX.js";import{b as Yo}from"./chunk-HRQFMPLQ.js";import{e as rr}from"./chunk-KIBHE7HI.js";import{a as No}from"./chunk-VM462Q6H.js";import{a as kt}from"./chunk-75CL7ZAD.js";import{a as Hi}from"./chunk-TOPWIQ4B.js";import{a as Ee}from"./chunk-APIXYPUO.js";import{a as Yi}from"./chunk-5GTHDKWY.js";import{a as To,b as bo,c as pt,d as vn,e as Ro,f as xo,g as or,h as Bt,i as Ui}from"./chunk-5OEJ5BCC.js";import{a as sr}from"./chunk-UPLS62YG.js";import{a as Di,c as ri,d as Ao}from"./chunk-KDYMPZ5E.js";import"./chunk-DEVNJA25.js";import"./chunk-4XG2BQGM.js";import"./chunk-4INQOBVN.js";import"./chunk-SDLUASD2.js";import{a as Po}from"./chunk-576ZABFD.js";import{B as wi,o as _o,p as po,q as Io,r as fn,s as Cn,t as Oo,u as Sn,x as yn}from"./chunk-UFXFCZP3.js";import{a as mn}from"./chunk-V73D6FBB.js";import{a as Ft}from"./chunk-A2KNDDCC.js";import"./chunk-HH4YHD3C.js";import{c as wo}from"./chunk-BFVCLNOF.js";import"./chunk-3PB3Q4OH.js";import{b as pn,c as ye,e as Eo,f as gn}from"./chunk-24ZAFI2J.js";import{a as Be}from"./chunk-6TRYPH2T.js";import{a as dt}from"./chunk-JVRBW57G.js";import"./chunk-BOZAQTZE.js";import{b as Li}from"./chunk-ANGOORPW.js";import{b as Ve,c as _t}from"./chunk-25AA3I7H.js";import{a as Ai,b as ke,c as ze}from"./chunk-2O3IZ566.js";import"./chunk-YDZGE3V5.js";import{a as $e}from"./chunk-S5ARXDTR.js";import"./chunk-EECS7F3M.js";import"./chunk-OPOGZMDG.js";import{d as hn}from"./chunk-UI5MIAKJ.js";import"./chunk-C5UL7A6S.js";import{a as oi,b as Vt}from"./chunk-WZVFW7AN.js";import{a as Ni}from"./chunk-6JJL547V.js";import{E as rt,m as io,o as no,p as oo,q as ro,s as bi}from"./chunk-RT7DTAS6.js";import{B as K,C as Ye,a as Oi,c as Dt,d as cn,g as j,h as Ne,m as ot,n as Lt,p as Jn,q as De,t as Le}from"./chunk-WO4VNXA3.js";import{a as Fe}from"./chunk-PE7TFI7A.js";import{$b as Kn,$d as z,$f as Ss,A as tn,Ab as ti,B as hi,Bb as M,Bc as G,Bf as st,Bg as Co,Ca as on,Cb as p,Cc as le,Dc as w,Df as ho,Ea as He,Eg as So,F as Gn,Fb as Je,Ha as a,Hb as Xn,Hc as Qn,Ib as xe,Ic as Ii,J as Hn,Ja as xt,Jb as Oe,Ka as rn,Kb as Pe,Kg as yo,La as Ze,Lb as jn,Ma as sn,Mb as Ce,Na as ge,Nb as oe,Ob as me,Oc as it,Od as dn,P as gi,Pb as E,Q as jt,Qa as Wn,Qb as P,Qg as vo,R as bt,Ra as Qt,Rb as A,S as fi,Sa as O,Sg as xi,Ta as Si,Td as We,Ua as yi,Ub as re,Ug as Mo,Vb as se,Vd as eo,Ve as Z,Vf as un,Wa as U,Wb as ae,Wd as Pi,We as so,X as Kt,Xb as et,Xc as Zn,Xd as ni,Xf as N,Y as qe,Ya as h,Yb as Mi,Z as Ci,Zb as R,Zd as de,_ as It,_b as Ei,a as Et,aa as u,af as ao,b as Xt,bf as lo,c as x,ce as Ti,d as $n,db as X,eb as c,ef as Se,f as en,fc as ue,ff as Te,ga as qt,gb as At,gc as ii,gf as co,ha as S,hb as an,hc as Ue,ia as y,ib as Zt,j as kn,jb as fe,jc as tt,kb as vi,kd as nt,kg as go,la as W,lb as Jt,ld as Nt,lf as Ri,lg as H,mb as ei,mf as mo,n as pi,na as nn,nb as d,nc as wt,ng as Yt,ob as l,oc as V,od as we,og as at,p as Tt,pa as k,pb as g,pc as Ae,pd as ce,pe as _n,pf as Xe,pg as lt,qa as Ge,qb as D,r as mi,rb as L,rc as ln,re as to,sa as Un,sb as te,sc as qn,sg as ct,ta as ee,tb as T,u as zn,ua as Rt,uc as Ot,v as ui,vb as q,wa as Qe,wb as Q,x as Bn,xb as C,xg as ve,yb as _e,yf as uo,yg as fo,zb as pe}from"./chunk-F7FAPFPY.js";import{a as ne,b as Re,g as Cs,i as f,j as Ke}from"./chunk-AI7IVZV2.js";var cr=(()=>{let i=class i{};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],decls:1,vars:0,consts:[["mode","user"]],template:function(t,o){t&1&&g(0,"my-video-comment-list-admin-owner",0);},dependencies:[Zo],encapsulation:2}));let r=i;return r;})();var be=class be{authHttp=u(Zn);restExtractor=u(go);listAvailable(i){let n=be.BASE_AUTOMATIC_TAGS_URL+"accounts/"+i.accountName+"/available";return this.authHttp.get(n).pipe(hi(e=>this.restExtractor.handleError(e)));}getCommentPolicies(i){let n=be.BASE_AUTOMATIC_TAGS_URL+"policies/accounts/"+i.accountName+"/comments";return this.authHttp.get(n).pipe(hi(e=>this.restExtractor.handleError(e)));}updateCommentPolicies(i){let n=be.BASE_AUTOMATIC_TAGS_URL+"policies/accounts/"+i.accountName+"/comments";return this.authHttp.put(n,{review:i.review}).pipe(hi(e=>this.restExtractor.handleError(e)));}};f(be,"BASE_AUTOMATIC_TAGS_URL",mo.apiUrl+"/api/v1/automatic-tags/"),f(be,"\u0275fac",function(n){return new(n||be)();}),f(be,"\u0275prov",qe({token:be,factory:be.Éµfac,providedIn:"root"}));var Gt=be;function ys(r,i){if(r&1){let n=T();d(0,"div",2)(1,"my-peertube-checkbox",3),ae("ngModelChange",function(t){let o=S(n).$implicit;return se(o.review,t)||(o.review=t),y(t);}),M("ngModelChange",function(){S(n);let t=p();return y(t.updatePolicies());}),l()();}if(r&2){let n=i.$implicit,e=i.$index,t=p();a(),c("inputName","tag-"+e),re("ngModel",n.review),c("labelText",t.getLabelText(n));}}var dr=(()=>{let i=class i{authService=u(H);autoTagsService=u(Gt);notifier=u(N);tags=[];ngOnInit(){this.loadAvailableTags();}getLabelText(e){return e.name==="external-link"?"That contain an external link":"That contain any word from your \""+e.name+"\" watched word list";}updatePolicies(){let e=this.authService.getUser().account.name;this.autoTagsService.updateCommentPolicies({accountName:e,review:this.tags.filter(t=>t.review).map(t=>t.name)}).subscribe({next:()=>{this.notifier.success("Comment policies updated");},error:t=>this.notifier.error(t.message)});}loadAvailableTags(){let e=this.authService.getUser().account.name;mi([this.autoTagsService.listAvailable({accountName:e}),this.autoTagsService.getCommentPolicies({accountName:e})]).subscribe(([t,o])=>{this.tags=t.available.map(s=>({name:s.name,type:s.type,review:o.review.includes(s.name)}));});}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],decls:4,vars:0,consts:()=>{let e;return e="Automatically block comments:",[e,[1,"d-block","mb-3"],[1,"form-group","ms-3"],[3,"ngModelChange","inputName","ngModel","labelText"]];},template:function(t,o){t&1&&(d(0,"strong",1),C(1,0),l(),Jt(2,ys,2,3,"div",2,vi)),t&2&&(a(2),ei(o.tags));},dependencies:[K,j,ot,Vt],encapsulation:2}));let r=i;return r;})();var _r=(()=>{let i=class i{serverService=u(ve);menuEntries=[];serverConfig;ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),this.buildMenu();}buildMenu(){this.menuEntries=[{label:"Manage my channels",routerLink:"/my-library/video-channels"},{label:"ma ni li lukin e mi",routerLink:"/my-library/followers"},{label:"Synchronizations",routerLink:"/my-library/video-channel-syncs",isDisplayed:()=>this.isChannelSyncEnabled()}];}isChannelSyncEnabled(){let e=this.serverConfig.import;return this.serverConfig.import.videoChannelSynchronization.enabled&&(e.videos.http.enabled||e.videos.torrent.enabled);}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],decls:8,vars:1,consts:()=>{let e;e="My channels";let t;return t="Skip the sub menu",[["myChannelSpaceContent",""],t,[1,"root"],[1,"margin-content"],["href","#my-channel-space-content",1,"visually-hidden-focusable","skip-to-content-sub-menu",3,"click"],["h1Icon","channel","h1",e,3,"menuEntries"],["tabindex","-1","id","my-channel-space-content",1,"margin-content","pb-5","outline-0"]];},template:function(t,o){if(t&1){let s=T();d(0,"div",2)(1,"div",3)(2,"a",4),M("click",function(m){S(s);let v=me(6);return m.preventDefault(),y(v.focus());}),C(3,1),l(),g(4,"my-horizontal-menu",5),l(),d(5,"div",6,0),g(7,"router-outlet"),l()();}t&2&&(a(4),c("menuEntries",o.menuEntries));},dependencies:[Nt,Ft],encapsulation:2}));let r=i;return r;})();function vs(r,i){if(r&1&&(d(0,"span",9),E(1),l()),r&2){let n=p();a(),A(" ",n.getTotalTitle(),"");}}function Ms(r,i){r&1&&(d(0,"div",10),C(1,0),l());}function Es(r,i){r&1&&(D(0),C(1,1),L());}function Is(r,i){if(r&1&&(D(0),C(1,2),L()),r&2){let n=p().$implicit;a(),_e(n.following.name),pe(1);}}function Os(r,i){if(r&1&&(d(0,"div",11),g(1,"my-actor-avatar",12),d(2,"div",13)(3,"a",14)(4,"div",15),E(5),l(),g(6,"my-global-icon",16),l(),d(7,"div",17),h(8,Es,2,0,"ng-container",18)(9,Is,2,1,"ng-container",18),l()()()),r&2){let n=i.$implicit,e=p();a(),c("actor",n.follower)("href",n.follower.url),a(2),c("href",n.follower.url,He),a(2),P(n.follower.name+"@"+n.follower.host),a(3),c("ngIf",e.isFollowingAccount(n)),a(),c("ngIf",!e.isFollowingAccount(n));}}var pr=(()=>{let i=class i{route=u(nt);auth=u(H);userSubscriptionService=u(zt);notifier=u(N);follows=[];pagination={currentPage:1,itemsPerPage:10,totalItems:null};onDataSubject=new x();search;inputFilters;ngOnInit(){this.route.snapshot.queryParams.search&&(this.search=this.route.snapshot.queryParams.search);let e=this.auth.getUser().videoChannels.map(t=>({value:"channel:"+t.name,label:t.name}));this.inputFilters=[{title:"mi o pana lukin e ijo pi lipu seme",children:e}];}onNearOfBottom(){this.pagination.totalItems<=this.pagination.currentPage*this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.loadFollowers());}onSearch(e){this.search=e,at(this.pagination),this.loadFollowers(!1);}isFollowingAccount(e){return e.following.name===this.getUsername();}getTotalTitle(){return Xe(""+this.pagination.totalItems+" {total, plural, =1 {follower} other {followers}}",{total:this.pagination.totalItems});}loadFollowers(e=!0){this.userSubscriptionService.listFollowers({pagination:this.pagination,nameWithHost:this.getUsername(),search:this.search}).subscribe({next:t=>{this.follows=e?this.follows.concat(t.data):t.data,this.pagination.totalItems=t.total,this.onDataSubject.next(t.data);},error:t=>this.notifier.error(t.message)});}getUsername(){return this.auth.getUser().username;}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],decls:6,vars:5,consts:()=>{let e;e="jan lukin li lon ala.";let t;t="lipu pi jan lukin";let o;o="li lukin e lipu ale sina";let s;return s="li lukin e lipu sina \""+"\uFFFD0\uFFFD"+"\"",[e,o,s,[1,"followers-header","d-flex","justify-content-between","align-items-end","gap-2","flex-wrap"],["class","total-items",4,"ngIf"],[3,"search","filters"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"actors",3,"nearOfBottom","dataObservable"],["class","actor",4,"ngFor","ngForOf"],[1,"total-items"],[1,"no-results"],[1,"actor"],["actorType","account","size","40",3,"actor","href"],[1,"actor-info"],["rel","noopener noreferrer","target","_blank","title",t,1,"actor-names",3,"href"],[1,"actor-display-name"],["iconName","external-link"],[1,"small","muted"],[4,"ngIf"]];},template:function(t,o){t&1&&(d(0,"div",3),h(1,vs,2,1,"span",4),d(2,"my-advanced-input-filter",5),M("search",function(_){return o.onSearch(_);}),l()(),h(3,Ms,2,0,"div",6),d(4,"div",7),M("nearOfBottom",function(){return o.onNearOfBottom();}),h(5,Os,10,6,"div",8),l()),t&2&&(a(),c("ngIf",o.pagination.totalItems),a(),c("filters",o.inputFilters),a(),c("ngIf",o.pagination.totalItems===0),a(),c("dataObservable",o.onDataSubject.asObservable()),a(),c("ngForOf",o.follows));},dependencies:[Fe,w,Ee,$e,le,Be],styles:[`.followers-header[_ngcontent-%COMP%]{margin-bottom:30px;display:flex}input[type=text][_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) var(--input-x-padding);width:300px;max-width:300px;color:var(--input-fg);background-color:var(--input-bg);border:1px solid var(--input-border-color);border-radius:var(--input-border-radius);line-height:24px}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder);font-size:14px}input[type=text][readonly][_ngcontent-%COMP%]{color:var(--fg-300)}input[type=text][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100);outline:0}input[type=text][disabled][_ngcontent-%COMP%]{color:var(--fg-300);opacity:.8}@media screen and (max-width: 340px){input[type=text][_ngcontent-%COMP%]{width:100%}}.actor[_ngcontent-%COMP%]{display:flex;min-height:auto;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid var(--input-border-color)}@media screen and (max-width: 800px){.actor[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.actor[_ngcontent-%COMP%] > my-actor-avatar[_ngcontent-%COMP%]{margin-inline-end:.625rem}.actor[_ngcontent-%COMP%]   .actor-info[_ngcontent-%COMP%]{flex-grow:1}.actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]{width:fit-content;display:flex;align-items:baseline;color:var(--fg)}.actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%], .actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]:hover, .actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]:focus, .actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]:active{text-decoration:none}.actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.actor[_ngcontent-%COMP%]   .actor-display-name[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.actor[_ngcontent-%COMP%]   .actor-name[_ngcontent-%COMP%]{font-size:14px;color:var(--fg-300);margin-inline-start:.3125rem}.actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]{color:var(--fg);display:flex;align-items:center}.actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%], .actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:hover, .actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:focus, .actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:active{text-decoration:none}.actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{opacity:.8}.actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-start:.3125rem}@media screen and (max-width: 800px){.actor[_ngcontent-%COMP%]   .actor-info[_ngcontent-%COMP%]{padding-bottom:10px;text-align:center}.actor[_ngcontent-%COMP%]   .actor-info[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]{flex-direction:column;align-items:center!important;margin:auto}}
/*# sourceMappingURL=my-followers.component-EH5UNAPR.css.map */`]}));let r=i;return r;})();var mr=r=>["/c",r],Ps=r=>["/a",r],Ts=r=>[r];function bs(r,i){if(r&1&&(d(0,"span",9),E(1),l()),r&2){let n=p();a(),A(" ",n.getTotalTitle(),"");}}function Rs(r,i){r&1&&(d(0,"div",10),C(1,0),l());}function xs(r,i){if(r&1&&(d(0,"div",11),g(1,"my-actor-avatar",12),d(2,"div",13)(3,"a",14)(4,"div",15),E(5),l(),d(6,"div",16),E(7),l()(),d(8,"div",17),C(9,1),l(),d(10,"a",18)(11,"span"),C(12,2),l(),g(13,"my-actor-avatar",19),l()(),g(14,"my-subscribe-button",20),l()),r&2){let n=i.$implicit;a(),c("actor",n)("internalHref",R(10,mr,n.nameWithHost)),a(2),c("routerLink",R(12,mr,n.nameWithHost)),a(2),P(n.displayName),a(2),P(n.nameWithHost),a(2),_e(n.followersCount),pe(9),a(),c("routerLink",R(14,Ps,n.ownerBy)),a(2),_e(n.ownerBy),pe(12),a(),c("actor",n.ownerAccount),a(),c("videoChannels",R(16,Ts,n));}}var ur=(()=>{let i=class i{userSubscriptionService=u(zt);notifier=u(N);videoChannels=[];pagination={currentPage:1,itemsPerPage:10,totalItems:null};onDataSubject=new x();search;onNearOfBottom(){this.pagination.totalItems<=this.pagination.currentPage*this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.loadSubscriptions());}onSearch(e){this.search=e,at(this.pagination),this.loadSubscriptions(!1);}getTotalTitle(){return Xe(""+this.pagination.totalItems+" {total, plural, =1 {subscription} other {subscriptions}}",{total:this.pagination.totalItems});}loadSubscriptions(e=!0){this.userSubscriptionService.listSubscriptions({pagination:this.pagination,search:this.search}).subscribe({next:t=>{this.videoChannels=e?this.videoChannels.concat(t.data):t.data,this.pagination.totalItems=t.total,this.onDataSubject.next(t.data);},error:t=>this.notifier.error(t.message)});}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],decls:6,vars:4,consts:()=>{let e;e="sina lukin ala e lipu ante.";let t;t="lipu sitelen";let o;o="lipu pi sijelo lawa";let s;s="jan "+"\uFFFD0\uFFFD"+" li wile lukin";let _;return _="tan \""+"\uFFFD0\uFFFD"+"\"",[e,s,_,[1,"mb-4","d-flex","justify-content-between","align-items-end","gap-2","flex-wrap"],["class","total-items",4,"ngIf"],[3,"search"],["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"actors",3,"nearOfBottom","dataObservable"],["class","actor",4,"ngFor","ngForOf"],[1,"total-items"],[1,"no-results"],[1,"actor"],["actorType","channel","size","80",3,"actor","internalHref"],[1,"actor-info"],["title",t,1,"actor-names",3,"routerLink"],[1,"actor-display-name"],[1,"actor-name"],[1,"actor-followers"],["title",o,1,"actor-owner",3,"routerLink"],["actorType","account","size","18",3,"actor"],[3,"videoChannels"]];},template:function(t,o){t&1&&(d(0,"div",3),h(1,bs,2,1,"span",4),d(2,"my-advanced-input-filter",5),M("search",function(_){return o.onSearch(_);}),l()(),h(3,Rs,2,0,"div",6),d(4,"div",7),M("nearOfBottom",function(){return o.onNearOfBottom();}),h(5,xs,15,18,"div",8),l()),t&2&&(a(),c("ngIf",o.pagination.totalItems),a(2),c("ngIf",o.pagination.totalItems===0),a(),c("dataObservable",o.onDataSubject.asObservable()),a(),c("ngForOf",o.videoChannels));},dependencies:[w,Ee,$e,le,Be,ce,nr],styles:[`input[type=text][_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) var(--input-x-padding);width:300px;max-width:300px;color:var(--input-fg);background-color:var(--input-bg);border:1px solid var(--input-border-color);border-radius:var(--input-border-radius);line-height:24px}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder);font-size:14px}input[type=text][readonly][_ngcontent-%COMP%]{color:var(--fg-300)}input[type=text][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100);outline:0}input[type=text][disabled][_ngcontent-%COMP%]{color:var(--fg-300);opacity:.8}@media screen and (max-width: 340px){input[type=text][_ngcontent-%COMP%]{width:100%}}.actor[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid var(--input-border-color)}@media screen and (max-width: 800px){.actor[_ngcontent-%COMP%]{flex-direction:column;height:auto;align-items:center}}.actor[_ngcontent-%COMP%] > my-actor-avatar[_ngcontent-%COMP%]{margin-inline-end:.625rem}.actor[_ngcontent-%COMP%]   .actor-info[_ngcontent-%COMP%]{flex-grow:1}.actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]{width:fit-content;display:flex;align-items:baseline;color:var(--fg)}.actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%], .actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]:hover, .actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]:focus, .actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]:active{text-decoration:none}.actor[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.actor[_ngcontent-%COMP%]   .actor-display-name[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.actor[_ngcontent-%COMP%]   .actor-name[_ngcontent-%COMP%]{font-size:14px;color:var(--fg-300);margin-inline-start:.3125rem}.actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]{color:var(--fg);display:flex;align-items:center}.actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%], .actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:hover, .actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:focus, .actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:active{text-decoration:none}.actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{opacity:.8}.actor[_ngcontent-%COMP%]   .actor-owner[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{margin-inline-start:.3125rem}@media screen and (max-width: 800px){.actor[_ngcontent-%COMP%]   .actor-info[_ngcontent-%COMP%]{padding-bottom:10px;text-align:center}.actor[_ngcontent-%COMP%]   .actor-info[_ngcontent-%COMP%]   .actor-names[_ngcontent-%COMP%]{flex-direction:column;align-items:center!important;margin:auto}}
/*# sourceMappingURL=my-subscriptions.component-R4NQNYOV.css.map */`]}));let r=i;return r;})();var As=r=>({$implicit:r});function ws(r,i){if(r&1&&(d(0,"div",6),C(1,0),l()),r&2){let n=p();a(),_e(n.noResultMessage()),pe(1);}}function Ns(r,i){if(r&1){let n=T();d(0,"div",10)(1,"my-peertube-checkbox",11),ae("ngModelChange",function(t){S(n);let o=p().$implicit,s=p();return se(s.selection()[o.id],t)||(s.selection()[o.id]=t),y(t);}),l()();}if(r&2){let n=p().$implicit,e=p();a(),c("inputName","video-check-"+n.id),re("ngModel",e.selection()[n.id]);}}function Ds(r,i){r&1&&te(0);}function Ls(r,i){if(r&1&&h(0,Ds,1,0,"ng-container",12),r&2){let n=p().$implicit,e=p();c("ngTemplateOutlet",e.rowButtonsTemplate)("ngTemplateOutletContext",R(2,As,n));}}function Ys(r,i){if(r&1&&(d(0,"div",7),h(1,Ns,2,2,"div",8),g(2,"my-video-miniature",9),h(3,Ls,1,4,"ng-container"),l()),r&2){let n=i.$implicit,e=p();a(),c("ngIf",e.enableSelection()),a(),c("video",n)("displayAsRow",!0)("displayOptions",e.miniatureDisplayOptions())("displayVideoActions",!1)("user",e.user()),a(),fe(e.isInSelectionMode()===!1?3:-1);}}function Vs(r,i){r&1&&te(0);}function Fs(r,i){if(r&1){let n=T();d(0,"div",13)(1,"button",14),M("click",function(){S(n);let t=p();return y(t.abortSelectionMode());}),C(2,1),l(),h(3,Vs,1,0,"ng-container",15),l();}if(r&2){let n=p();a(3),c("ngTemplateOutlet",n.globalButtonsTemplate);}}var hr=(()=>{let i=class i{notifier=u(N);user=ee(void 0);pagination=ee(void 0);titlePage=ee(void 0);miniatureDisplayOptions=ee(void 0);noResultMessage=ee("ala li lon.");enableSelection=ee(!0);disabled=ee(!1);getVideosObservableFunction=ee(void 0);templates=Wn(oi);selection=Qt({});videos=Qt([]);rowButtonsTemplate;globalButtonsTemplate;sort="-publishedAt";onDataSubject=new x();hasDoneFirstQuery=!1;lastQueryLength;ngAfterContentInit(){{let e=this.templates().find(t=>t.name()==="rowButtons");e&&(this.rowButtonsTemplate=e.template);}{let e=this.templates().find(t=>t.name()==="globalButtons");e&&(this.globalButtonsTemplate=e.template);}this.loadMoreVideos();}getVideosObservable(e){return this.getVideosObservableFunction()(e,this.sort);}abortSelectionMode(){this.selection.update(()=>({}));}isInSelectionMode(){return to(this.selection()).some(e=>this.selection()[e]===!0);}videoById(e,t){return t.id;}onNearOfBottom(){this.disabled()||this.lastQueryLength!==void 0&&this.lastQueryLength<this.pagination().itemsPerPage||(this.pagination().currentPage+=1,this.loadMoreVideos());}loadMoreVideos(e=!1){e&&(this.hasDoneFirstQuery=!1),this.getVideosObservable(this.pagination().currentPage).subscribe({next:({data:t})=>{this.hasDoneFirstQuery=!0,this.lastQueryLength=t.length,e&&this.videos.set([]),this.videos.update(o=>o.concat(t)),this.onDataSubject.next(t);},error:t=>{let o="mi ken ala kama jo e sitelen ante. o ni sin lon tenpo kama.";Ri.error(o,t),this.notifier.error(o);}});}reloadVideos(){at(this.pagination()),this.loadMoreVideos(!0);}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["my-videos-selection"]],contentQueries:function(t,o,s){t&1&&jn(s,o.templates,oi,4),t&2&&oe();},inputs:{user:[1,"user"],pagination:[1,"pagination"],titlePage:[1,"titlePage"],miniatureDisplayOptions:[1,"miniatureDisplayOptions"],noResultMessage:[1,"noResultMessage"],enableSelection:[1,"enableSelection"],disabled:[1,"disabled"],getVideosObservableFunction:[1,"getVideosObservableFunction"],selection:[1,"selection"],videos:[1,"videos"]},outputs:{selection:"selectionChange",videos:"videosChange"},decls:4,vars:5,consts:()=>{let e;e="\n          "+"\uFFFD0\uFFFD"+"\n        ";let t;return t="mi wile ala",[e,t,["class","no-results",4,"ngIf"],["myInfiniteScroller","",1,"videos",3,"nearOfBottom","dataObservable"],["class","video",4,"ngFor","ngForOf","ngForTrackBy"],["class","action-selection-mode",4,"ngIf"],[1,"no-results"],[1,"video"],["class","checkbox-container",4,"ngIf"],[3,"video","displayAsRow","displayOptions","displayVideoActions","user"],[1,"checkbox-container"],[3,"ngModelChange","inputName","ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"action-selection-mode"],[1,"cancel-selection","peertube-button","secondary-button","me-2",3,"click"],[4,"ngTemplateOutlet"]];},template:function(t,o){t&1&&(h(0,ws,2,1,"div",2),d(1,"div",3),M("nearOfBottom",function(){return o.onNearOfBottom();}),h(2,Ys,4,7,"div",4),l(),h(3,Fs,4,1,"div",5)),t&2&&(c("ngIf",o.hasDoneFirstQuery&&o.videos().length===0),a(),c("dataObservable",o.onDataSubject.asObservable()),a(),c("ngForOf",o.videos())("ngForTrackBy",o.videoById),a(),c("ngIf",o.isInSelectionMode()===!0));},dependencies:[w,$e,le,Vt,K,j,ot,$o,Ii],styles:[`.action-selection-mode[_ngcontent-%COMP%]{position:fixed;bottom:1rem}@supports (inset-inline-end: var(--x-margin-content)){.action-selection-mode[_ngcontent-%COMP%]{inset-inline-end:var(--x-margin-content)}}@supports not (inset-inline-end: var(--x-margin-content)){.action-selection-mode[_ngcontent-%COMP%]{right:var(--x-margin-content)}}.action-selection-mode[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:block;margin-inline-start:calc(1.46875rem + 2.625vw)}@media (min-width: 1200px){.action-selection-mode[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{margin-inline-start:3.4375rem}}.video[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid var(--input-border-color)}@media screen and (max-width: 800px){.video[_ngcontent-%COMP%]{min-height:initial;padding-bottom:10px;margin-bottom:10px}}.video[_ngcontent-%COMP%]:first-child{margin-top:47px}.video[_ngcontent-%COMP%]   .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-inline-end:1.25rem;margin-inline-start:.75rem}.video[_ngcontent-%COMP%]   my-video-miniature[_ngcontent-%COMP%]{flex-grow:1;max-width:100%}@media screen and (max-width: 800px){.video[_ngcontent-%COMP%]{flex-wrap:wrap}.checkbox-container[_ngcontent-%COMP%], .action-selection-mode[_ngcontent-%COMP%]{display:none!important}}
/*# sourceMappingURL=videos-selection.component-ICCRJ6RA.css.map */`]}));let r=i;return r;})();var $s=["videosSelection"];function ks(r,i){if(r&1){let n=T();d(0,"div",12)(1,"my-delete-button",13),M("click",function(){let t=S(n).$implicit,o=p();return y(o.deleteHistoryElement(t));}),l()();}}var gr=(()=>{let i=class i{authService=u(H);userService=u(xi);notifier=u(N);confirmService=u(ct);userHistoryService=u(or);videosSelection=ge("videosSelection");titlePage;pagination={currentPage:1,itemsPerPage:5,totalItems:null};videosHistoryEnabled;miniatureDisplayOptions={date:!0,views:!0,by:!0,privacyLabel:!1};getVideosObservableFunction=this.getVideosObservable.bind(this);user;videos=[];search;disabled=!1;constructor(){this.titlePage="lukin mi pi tenpo pini";}ngOnInit(){this.user=this.authService.getUser(),this.authService.userInformationLoaded.subscribe(()=>this.videosHistoryEnabled=this.user.videosHistoryEnabled);}disableForReuse(){this.disabled=!0;}enabledForReuse(){this.disabled=!1;}reloadData(){this.videosSelection().reloadVideos();}onSearch(e){this.search=e,this.reloadData();}getVideosObservable(e){let t=ho(this.pagination,{currentPage:e});return this.userHistoryService.list(t,this.search).pipe(fi(o=>this.pagination.totalItems=o.total));}generateSyndicationList(){throw new Error("Method not implemented.");}onVideosHistoryChange(){this.userService.updateMyProfile({videosHistoryEnabled:this.videosHistoryEnabled}).subscribe({next:()=>{let e=this.videosHistoryEnabled===!0?"Video history is enabled":"Video history is disabled";this.notifier.success(e),this.authService.refreshUserInformation();},error:e=>this.notifier.error(e.message)});}deleteHistoryElement(e){this.userHistoryService.deleteElement(e).subscribe({next:()=>{this.videos=this.videos.filter(t=>t.id!==e.id),Yt(this.pagination);},error:t=>this.notifier.error(t.message)});}clearAllHistory(){return Ke(this,null,function*(){let e="Delete video history",t="Are you sure you want to delete all your video history?";(yield this.confirmService.confirm(t,e))===!0&&this.userHistoryService.clearAll().subscribe({next:()=>{this.notifier.success("Video history deleted"),this.reloadData();},error:s=>this.notifier.error(s.message)});});}getNoResultMessage(){return this.search?"No videos found for \""+this.search+"\".":"sona pi lukin sina li lon ala.";}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],viewQuery:function(t,o){t&1&&Ce(o.videosSelection,$s,5),t&2&&oe();},decls:12,vars:11,consts:()=>{let e;e="o awen e sona pi lukin mi";let t;t="Clear all history";let o;return o="o weka tan lipu ni",[["videosSelection",""],e,t,[1,"top-buttons"],[1,"search-wrapper"],[3,"search","emitOnInit"],[1,"history-switch"],["inputName","track-watch-history",3,"ngModelChange","ngModel"],["for","track-watch-history"],["icon","delete",3,"click"],[3,"videosChange","pagination","videos","miniatureDisplayOptions","titlePage","getVideosObservableFunction","user","noResultMessage","enableSelection","disabled"],["ptTemplate","rowButtons"],[1,"action-button"],["label",o,3,"click"]];},template:function(t,o){if(t&1){let s=T();d(0,"div",3)(1,"div",4)(2,"my-advanced-input-filter",5),M("search",function(m){return S(s),y(o.onSearch(m));}),l()(),d(3,"div",6)(4,"my-input-switch",7),ae("ngModelChange",function(m){return S(s),se(o.videosHistoryEnabled,m)||(o.videosHistoryEnabled=m),y(m);}),M("ngModelChange",function(){return S(s),y(o.onVideosHistoryChange());}),l(),d(5,"label",8),C(6,1),l()(),d(7,"my-button",9),M("click",function(){return S(s),y(o.clearAllHistory());}),C(8,2),l()(),d(9,"my-videos-selection",10,0),ae("videosChange",function(m){return S(s),se(o.videos,m)||(o.videos=m),y(m);}),h(11,ks,2,0,"ng-template",11),l();}t&2&&(a(2),c("emitOnInit",!1),a(2),re("ngModel",o.videosHistoryEnabled),a(5),c("pagination",o.pagination),re("videos",o.videos),c("miniatureDisplayOptions",o.miniatureDisplayOptions)("titlePage",o.titlePage)("getVideosObservableFunction",o.getVideosObservableFunction)("user",o.user)("noResultMessage",o.getNoResultMessage())("enableSelection",!1)("disabled",o.disabled));},dependencies:[ze,Ee,tr,K,j,ot,hr,oi,kt],styles:[`.no-history[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px;font-weight:600}.top-buttons[_ngcontent-%COMP%]{margin-bottom:30px;display:grid;grid-template-columns:250px 1fr auto auto;align-items:center}.top-buttons[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{grid-column:1}.top-buttons[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) var(--input-x-padding);width:250px;max-width:250px;color:var(--input-fg);background-color:var(--input-bg);border:1px solid var(--input-border-color);border-radius:var(--input-border-radius);line-height:24px}.top-buttons[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder);font-size:14px}.top-buttons[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{color:var(--fg-300)}.top-buttons[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .top-buttons[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100);outline:0}.top-buttons[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{color:var(--fg-300);opacity:.8}@media screen and (max-width: 290px){.top-buttons[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.top-buttons[_ngcontent-%COMP%]   .history-switch[_ngcontent-%COMP%]{grid-column:3;display:flex;align-items:center;margin-inline-start:auto;margin-inline-end:.9375rem}.top-buttons[_ngcontent-%COMP%]   .history-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 0 0 5px;color:var(--fg-400);font-weight:600}.top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]{grid-column:4}.video[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid var(--input-border-color)}@media screen and (max-width: 800px){.video[_ngcontent-%COMP%]{min-height:initial;padding-bottom:10px;margin-bottom:10px}}.action-button[_ngcontent-%COMP%]{display:flex;align-self:flex-end}@media screen and (max-width: 800px){.top-buttons[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto;row-gap:20px}.top-buttons[_ngcontent-%COMP%]   .history-switch[_ngcontent-%COMP%]{grid-row:1;grid-column:1;margin:0}.top-buttons[_ngcontent-%COMP%]   .delete-history[_ngcontent-%COMP%]{grid-row:1;grid-column:3}.top-buttons[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{grid-column:1/4}}
/*# sourceMappingURL=my-history.component-C2GQ2NEG.css.map */`]}));let r=i;return r;})();var fr=(()=>{let i=class i{menuEntries=[];ngOnInit(){this.buildMenu();}buildMenu(){this.menuEntries=[{label:"kulupu sitelen",routerLink:"/my-library/video-playlists"},{label:"wile lukin",routerLink:"/my-library/subscriptions"},{label:"tenpo pini",routerLink:"/my-library/history/videos"}];}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],decls:8,vars:1,consts:()=>{let e;e="tomo mi";let t;return t="Skip the sub menu",[["myLibraryContent",""],t,[1,"root"],[1,"margin-content"],["href","#my-library-content-content",1,"visually-hidden-focusable","skip-to-content-sub-menu",3,"click"],["h1",e,3,"menuEntries"],["tabindex","-1","id","my-library-content",1,"margin-content","pb-5","outline-0"]];},template:function(t,o){if(t&1){let s=T();d(0,"div",2)(1,"div",3)(2,"a",4),M("click",function(m){S(s);let v=me(6);return m.preventDefault(),y(v.focus());}),C(3,1),l(),g(4,"my-horizontal-menu",5),l(),d(5,"div",6,0),g(7,"router-outlet"),l()();}t&2&&(a(4),c("menuEntries",o.menuEntries));},dependencies:[Nt,Ft],encapsulation:2}));let r=i;return r;})();var Cr={VALIDATORS:[cn.required],MESSAGES:{required:"o pana e lipu."}},Sr={VALIDATORS:[cn.required,zs],MESSAGES:{required:"o pana e nimi ilo sijelo.",localAccountOnly:"sina ken pana e wawa lawa tawa sijelo pi ma ni taso"}};function zs(r){return r.value.includes("@")?{localAccountOnly:!0}:null;}var Bs=["modal"];function Gs(r,i){if(r&1&&(d(0,"div",16),E(1),l()),r&2){let n=p(2);a(),P(n.formErrors.channel);}}function Hs(r,i){if(r&1){let n=T();d(0,"div",3)(1,"h1",4),C(2,1),l(),d(3,"button",5),M("click",function(){let t=S(n).dismiss;return y(t());}),g(4,"my-global-icon",6),l()(),d(5,"div",7)(6,"div",8)(7,"label",9),C(8,2),l(),g(9,"my-select-channel",10),h(10,Gs,2,1,"div",11),l()(),d(11,"div",12)(12,"div",13)(13,"input",14),M("click",function(){let t=S(n).dismiss;return y(t());})("key.enter",function(){let t=S(n).dismiss;return y(t());}),l(),d(14,"input",15),M("click",function(){let t=S(n).close;return y(t());}),l()()();}if(r&2){let n=p();a(5),c("formGroup",n.form),a(4),c("items",n.videoChannels),a(),c("ngIf",n.formErrors.channel);}}var yr=(()=>{let i=class i extends _t{formReactiveService=u(Ve);videoOwnershipService=u(Bt);notifier=u(N);authService=u(H);modalService=u(bi);accepted=Un();modal=ge("modal");videoChangeOwnership=void 0;videoChannels;error=null;ngOnInit(){this.videoChannels=[],st(this.authService).subscribe(e=>this.videoChannels=e),this.buildForm({channel:Cr});}show(e){this.form.patchValue({channel:this.videoChannels[0].id}),this.videoChangeOwnership=e,this.modalService.open(this.modal(),{centered:!0}).result.then(()=>this.acceptOwnership()).catch(()=>{this.videoChangeOwnership=void 0;});}acceptOwnership(){let e=this.form.value.channel,t=this.videoChangeOwnership;this.videoOwnershipService.acceptOwnership(t.id,{channelId:e}).subscribe({next:()=>{this.notifier.success("ona li wile lawa"),this.accepted&&this.accepted.emit(),this.videoChangeOwnership=void 0;},error:o=>this.notifier.error(o.message)});}};f(i,"\u0275fac",(()=>{let e;return function(o){return(e||(e=W(i)))(o||i);};})()),f(i,"\u0275cmp",O({type:i,selectors:[["my-accept-ownership"]],viewQuery:function(t,o){t&1&&Ce(o.modal,Bs,5),t&2&&oe();},outputs:{accepted:"accepted"},features:[U],decls:2,vars:0,consts:()=>{let e;e="Close this modal";let t;t="o pana ala";let o;o="o ken";let s;s="mi wile lawa";let _;return _="lipu seme o lawa e sitelen",[["modal",""],s,_,[1,"modal-header"],[1,"modal-title"],["title",e,1,"border-0","p-0",3,"click"],["iconName","cross"],[1,"modal-body",3,"formGroup"],[1,"form-group"],["for","channel"],["inputId","channel","formControlName","channel",1,"d-block",3,"items"],["class","form-error","role","alert",4,"ngIf"],[1,"modal-footer","inputs"],[1,"inputs"],["type","button","role","button","value",t,1,"peertube-button","secondary-button",3,"click","key.enter"],["type","submit","value",o,1,"peertube-button","primary-button",3,"click"],["role","alert",1,"form-error"]];},template:function(t,o){t&1&&h(0,Hs,15,3,"ng-template",null,0,tt);},dependencies:[Fe,K,j,Ne,Ye,De,Le,St,w],styles:[`.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;position:relative;height:min-content;width:350px}@media screen and (max-width: 320px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:var(--fg-300);margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{line-height:24px}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:inherit;background-color:transparent;border:1px solid var(--bg-secondary-500)!important}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:active, .peertube-select-container[_ngcontent-%COMP%]   select.active[_ngcontent-%COMP%], .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible{color:inherit;background-color:var(--bg-secondary-500);border-color:var(--bg-secondary-500)}.peertube-select-container[_ngcontent-%COMP%]   select.btn[_ngcontent-%COMP%]:active, .peertube-select-container[_ngcontent-%COMP%]   select.btn[_ngcontent-%COMP%]:focus-visible, .peertube-select-container[_ngcontent-%COMP%]   select.btn.show[_ngcontent-%COMP%]{color:inherit!important;background-color:var(--bg-secondary-500)!important;border-color:var(--bg-secondary-500)!important}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{color:inherit;background-color:var(--bg-secondary-450)}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.8}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:not(.icon-only)   my-global-icon[_ngcontent-%COMP%]{color:var(--secondary-icon-color)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) calc(var(--input-x-padding) + 23px) var(--input-y-padding) var(--input-x-padding);position:relative;border:1px solid var(--input-border-color)!important;-webkit-appearance:none;appearance:none;text-overflow:ellipsis;color:var(--input-fg);background:var(--input-bg);border-radius:var(--input-border-radius)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100)}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{opacity:.5}
/*# sourceMappingURL=my-accept-ownership.component-UJQI326Y.css.map */`]}));let r=i;return r;})();var Us=["myAcceptOwnershipComponent"];function Ws(r,i){if(r&1&&(d(0,"tr")(1,"th",12),C(2,1),l(),d(3,"th",13),C(4,2),l(),d(5,"th",14),C(6,3),l(),d(7,"th",15),q(8,4),g(9,"p-sortIcon",16),Q(),l(),d(10,"th",17),C(11,5),l()()),r&2){let n=p();a(7),c("ngbTooltip",n.sortTooltip);}}function Xs(r,i){if(r&1){let n=T();D(0),d(1,"my-button",26),M("click",function(){S(n);let t=p().$implicit,o=p();return y(o.openAcceptModal(t));}),l(),d(2,"my-button",27),M("click",function(){S(n);let t=p().$implicit,o=p();return y(o.refuse(t));}),l(),L();}}function js(r,i){if(r&1&&(d(0,"tr")(1,"td",18),h(2,Xs,3,0,"ng-container",19),l(),d(3,"td")(4,"a",20)(5,"div",21),g(6,"my-actor-avatar",22),d(7,"div"),E(8),d(9,"span",23),E(10),l()()()()(),d(11,"td"),g(12,"my-video-cell",24),l(),d(13,"td"),E(14),ue(15,"ptDate"),l(),d(16,"td")(17,"span",25),E(18),l()()()),r&2){let n=i.$implicit,e=p();a(2),c("ngIf",n.status==="WAITING"),a(2),c("href",n.initiatorAccount.url,He),a(2),c("actor",n.initiatorAccount),a(2),A(" ",n.initiatorAccount.displayName," "),a(2),P(n.initiatorAccount.nameWithHost),a(2),c("video",n.video),a(2),P(Ue(15,9,n.createdAt,"short")),a(3),c("ngClass",e.getStatusClass(n.status)),a(),P(n.status);}}function Ks(r,i){r&1&&(d(0,"tr")(1,"td",28)(2,"div",29),D(3),C(4,6),L(),l()()());}var vr=(()=>{let i=class i extends lt{notifier=u(N);videoOwnershipService=u(Bt);videoChangeOwnerships=[];totalRecords=0;sort={field:"createdAt",order:-1};pagination={count:this.rowsPerPage,start:0};myAccountAcceptOwnershipComponent=ge("myAcceptOwnershipComponent");ngOnInit(){this.initialize();}getIdentifier(){return"MyOwnershipComponent";}getStatusClass(e){switch(e){case dn.ACCEPTED:return"badge-green";case dn.REFUSED:return"badge-red";default:return"badge-yellow";}}openAcceptModal(e){this.myAccountAcceptOwnershipComponent().show(e);}accepted(){this.reloadData();}refuse(e){this.videoOwnershipService.refuseOwnership(e.id).subscribe({next:()=>this.reloadData(),error:t=>this.notifier.error(t.message)});}reloadDataInternal(){return this.videoOwnershipService.getOwnershipChanges(this.pagination,this.sort).subscribe({next:e=>{this.videoChangeOwnerships=e.data.map(t=>Re(ne({},t),{initiatorAccount:new un(t.initiatorAccount),nextOwnerAccount:new un(t.nextOwnerAccount)})),this.totalRecords=e.total;},error:e=>this.notifier.error(e.message)});}};f(i,"\u0275fac",(()=>{let e;return function(o){return(e||(e=W(i)))(o||i);};})()),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],viewQuery:function(t,o){t&1&&Ce(o.myAccountAcceptOwnershipComponent,Us,5),t&2&&oe();},features:[U],decls:6,vars:8,consts:()=>{let e;e="pali";let t;t="jan kama";let o;o="sitelen";let s;s="tenpo open "+"\uFFFD#9\uFFFD"+""+"\uFFFD/#9\uFFFD"+"";let _;_="pini ala pini";let m;m="o pana lukin e sijelo lon poki sin";let v;v="o ken";let I;I="o ken ala";let b;return b="tenpo ala la sina wile ante e lawa sitelen.",[["myAcceptOwnershipComponent",""],e,t,o,s,_,b,[3,"onLazyLoad","value","lazy","paginator","totalRecords","rows","first","sortField","sortOrder"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"accepted"],["scope","col",2,"width","150px"],["scope","col",2,"width","35%"],["scope","col",2,"width","65%"],["scope","col","container","body","pSortableColumn","createdAt",2,"width","150px",3,"ngbTooltip"],["field","createdAt"],["scope","col",2,"width","100px"],[1,"action-cell"],[4,"ngIf"],["title",m,"target","_blank","rel","noopener noreferrer",3,"href"],[1,"chip","two-lines"],["actorType","account","size","32",3,"actor"],[1,"muted"],["size","small",3,"video"],[1,"pt-badge",3,"ngClass"],["title",v,"icon","tick",3,"click"],["title",I,"icon","cross",3,"click"],["myAutoColspan",""],[1,"no-results"]];},template:function(t,o){if(t&1){let s=T();d(0,"p-table",7),M("onLazyLoad",function(m){return S(s),y(o.loadLazy(m));}),h(1,Ws,12,1,"ng-template",8)(2,js,19,12,"ng-template",9)(3,Ks,5,0,"ng-template",10),l(),d(4,"my-accept-ownership",11,0),M("accepted",function(){return S(s),y(o.accepted());}),l();}t&2&&c("value",o.videoChangeOwnerships)("lazy",!0)("paginator",o.totalRecords>0)("totalRecords",o.totalRecords)("rows",o.rowsPerPage)("first",o.pagination.start)("sortField",o.sort.field)("sortOrder",o.sort.order);},dependencies:[gt,mt,Se,ut,ht,Te,rt,w,ze,Be,G,ft,yr,Ct,Gi],encapsulation:2}));let r=i;return r;})();var Mr=r=>["/c",r];function qs(r,i){if(r&1&&(d(0,"my-alert",12),E(1),l()),r&2){let n=p();a(),P(n.error);}}function Qs(r,i){r&1&&(d(0,"div")(1,"p",13),C(2,0),l()());}function Zs(r,i){if(r&1&&(d(0,"div",19)(1,"div",20)(2,"a",21),g(3,"my-global-icon",22),D(4),C(5,1),L(),l()()()),r&2){let n=p(2);a(2),Je("routerLink",n.getSyncCreateLink());}}function Js(r,i){if(r&1&&(d(0,"tr")(1,"th",23)(2,"span",24),C(3,2),l()(),d(4,"th",25),q(5,3),g(6,"p-sortIcon",26),Q(),l(),d(7,"th",27),q(8,4),g(9,"p-sortIcon",28),Q(),l(),d(10,"th",29),q(11,5),g(12,"p-sortIcon",30),Q(),l(),d(13,"th",31),q(14,6),g(15,"p-sortIcon",32),Q(),l(),d(16,"th",33),q(17,7),g(18,"p-sortIcon",34),Q(),l()()),r&2){let n=p(2);a(4),c("ngbTooltip",n.sortTooltip),a(3),c("ngbTooltip",n.sortTooltip),a(3),c("ngbTooltip",n.sortTooltip),a(3),c("ngbTooltip",n.sortTooltip),a(3),c("ngbTooltip",n.sortTooltip);}}function ea(r,i){if(r&1&&(d(0,"tr")(1,"td",35),g(2,"my-action-dropdown",36),l(),d(3,"td")(4,"a",37),E(5),l()(),d(6,"td")(7,"a",38)(8,"div",39),g(9,"my-actor-avatar",40),d(10,"div")(11,"span",41),E(12),l(),d(13,"span",13),E(14),l()()()()(),d(15,"td")(16,"span",42),E(17),l()(),d(18,"td"),E(19),ue(20,"ptDate"),l(),d(21,"td"),E(22),ue(23,"ptDate"),l()()),r&2){let n=i.$implicit,e=p(2);a(2),c("actions",e.videoChannelSyncActions)("entry",n),a(2),c("href",n.externalChannelUrl,He),a(),P(n.externalChannelUrl),a(2),c("routerLink",R(19,Mr,n.channel.name)),a(2),c("actor",n.channel)("internalHref",R(21,Mr,n.channel.name)),a(3),P(n.channel.displayName),a(2),P(n.channel.name),a(2),c("ngClass",e.getSyncStateClass(n.state.id)),a(),A(" ",n.state.label," "),a(2),P(Ue(20,13,n.createdAt,"short")),a(3),P(Ue(23,16,n.lastSyncAt,"short"));}}function ta(r,i){r&1&&(d(0,"tr")(1,"td",43)(2,"div",44),D(3),C(4,8),L(),l()()());}function ia(r,i){if(r&1){let n=T();d(0,"p-table",14),M("onLazyLoad",function(t){S(n);let o=p();return y(o.loadLazy(t));}),h(1,Zs,6,1,"ng-template",15)(2,Js,19,5,"ng-template",16)(3,ea,24,23,"ng-template",17)(4,ta,5,0,"ng-template",18),l();}if(r&2){let n=p();c("value",n.channelSyncs)("lazy",!0)("paginator",n.totalRecords>0)("totalRecords",n.totalRecords)("rows",n.rowsPerPage)("rowsPerPageOptions",n.rowsPerPageOptions)("first",n.pagination.start)("sortField",n.sort.field)("sortOrder",n.sort.order)("showCurrentPageReport",!0)("currentPageReportTemplate",n.getPaginationTemplate())("expandedRowKeys",n.expandedRows);}}var je=class je extends lt{videoChannelsSyncService=u(Ui);serverService=u(ve);notifier=u(N);authService=u(H);videoChannelService=u(Li);error;channelSyncs=[];totalRecords=0;videoChannelSyncActions=[];sort={field:"createdAt",order:1};pagination={count:this.rowsPerPage,start:0};serverConfig;ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),this.initialize(),this.videoChannelSyncActions=[[{label:"List imports",linkBuilder:()=>["/my-library/video-imports"],queryParamsBuilder:i=>({search:`videoChannelSyncId:${i.id}`}),iconName:"cloud-download"}],[{label:"o weka",iconName:"delete",handler:i=>this.deleteSync(i)},{label:"Fully synchronize the channel",description:"This fetches any missing videos on the local channel",iconName:"refresh",handler:i=>this.fullySynchronize(i)}]];}reloadDataInternal(){this.error=void 0,this.authService.userInformationLoaded.pipe(Tt(()=>{let i=this.authService.getUser();return this.videoChannelsSyncService.listAccountVideoChannelsSyncs({sort:this.sort,account:i.account,pagination:this.pagination});})).subscribe({next:i=>{this.channelSyncs=i.data,this.totalRecords=i.total;},error:i=>{this.error=i.message;}});}syncEnabled(){return this.serverConfig.import.videoChannelSynchronization.enabled;}deleteSync(i){this.videoChannelsSyncService.deleteSync(i.id).subscribe({next:()=>{this.notifier.success("Synchronization removed successfully for "+i.channel.displayName+"."),this.reloadData();},error:n=>{this.error=n.message;}});}fullySynchronize(i){this.videoChannelService.importVideos(i.channel.name,i.externalChannelUrl,i.id).subscribe({next:()=>{this.notifier.success("Full synchronization requested successfully for "+i.channel.displayName+".");},error:n=>{this.error=n.message;}});}getSyncCreateLink(){return"/my-library/video-channel-syncs/create";}getSyncStateClass(i){return["pt-badge",je.STATE_CLASS_BY_ID[i]];}getIdentifier(){return"MyVideoChannelsSyncComponent";}getChannelUrl(i){return"/c/"+i;}};f(je,"STATE_CLASS_BY_ID",{[ni.FAILED]:"badge-red",[ni.PROCESSING]:"badge-blue",[ni.SYNCED]:"badge-green",[ni.WAITING_FIRST_RUN]:"badge-yellow"}),f(je,"\u0275fac",(()=>{let i;return function(e){return(i||(i=W(je)))(e||je);};})()),f(je,"\u0275cmp",O({type:je,selectors:[["ng-component"]],features:[U],decls:3,vars:3,consts:()=>{let i;i="\u26A0\uFE0F The instance doesn't allow channel synchronization";let n;n="Add synchronization";let e;e="pali";let t;t="External Channel "+"\uFFFD#6\uFFFD"+""+"\uFFFD/#6\uFFFD"+"";let o;o="Channel "+"\uFFFD#9\uFFFD"+""+"\uFFFD/#9\uFFFD"+"";let s;s="ken lukin "+"\uFFFD#12\uFFFD"+""+"\uFFFD/#12\uFFFD"+"";let _;_="tenpo open "+"\uFFFD#15\uFFFD"+""+"\uFFFD/#15\uFFFD"+"";let m;m="Last synchronization at "+"\uFFFD#18\uFFFD"+""+"\uFFFD/#18\uFFFD"+"";let v;v="lipu sitelen";let I;return I="You don't have channel synchronisation configured.",[i,n,e,t,o,s,_,m,I,["type","danger",4,"ngIf"],[4,"ngIf"],["dataKey","id",3,"value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","first","sortField","sortOrder","showCurrentPageReport","currentPageReportTemplate","expandedRowKeys","onLazyLoad",4,"ngIf"],["type","danger"],[1,"muted"],["dataKey","id",3,"onLazyLoad","value","lazy","paginator","totalRecords","rows","rowsPerPageOptions","first","sortField","sortOrder","showCurrentPageReport","currentPageReportTemplate","expandedRowKeys"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"caption"],[1,"left-buttons"],[1,"peertube-create-button",3,"routerLink"],["iconName","add","aria-hidden","true"],["scope","col",2,"width","10%"],[1,"visually-hidden"],["scope","col","container","body","pSortableColumn","externalChannelUrl",2,"width","25%",3,"ngbTooltip"],["field","externalChannelUrl"],["scope","col","container","body","pSortableColumn","videoChannel",2,"width","25%",3,"ngbTooltip"],["field","videoChannel"],["scope","col","container","body","pSortableColumn","state",2,"width","10%",3,"ngbTooltip"],["field","state"],["scope","col","container","body","pSortableColumn","createdAt",2,"width","10%",3,"ngbTooltip"],["field","createdAt"],["scope","col","container","body","pSortableColumn","lastSyncAt",2,"width","10%",3,"ngbTooltip"],["field","lastSyncAt"],[1,"action-cell"],["container","body","buttonSize","small",3,"actions","entry"],["target","_blank","rel","noopener noreferrer",3,"href"],["title",v,3,"routerLink"],[1,"chip","two-lines"],["actorType","channel","size","32",3,"actor","internalHref"],[1,"fw-semibold"],[3,"ngClass"],["myAutoColspan",""],[1,"no-results"]];},template:function(n,e){n&1&&h(0,qs,2,1,"my-alert",9)(1,Qs,3,0,"div",10)(2,ia,5,12,"p-table",11),n&2&&(c("ngIf",e.error),a(),c("ngIf",!e.syncEnabled()),a(),c("ngIf",e.syncEnabled()));},dependencies:[w,Fe,gt,mt,Se,ut,ht,Te,ce,rt,$t,Be,G,Ct,dt,ft],encapsulation:2}));var ji=je;var na=r=>({"input-error":r});function oa(r,i){if(r&1&&(d(0,"my-alert",26),E(1),l()),r&2){let n=p();a(),P(n.error);}}function ra(r,i){if(r&1&&(d(0,"div",27),E(1),l()),r&2){let n=p();a(),A(" ",n.formErrors.externalChannelUrl," ");}}function sa(r,i){if(r&1&&(d(0,"div",27),E(1),l()),r&2){let n=p();a(),A(" ",n.formErrors.videoChannel," ");}}var Er=(()=>{let i=class i extends _t{formReactiveService=u(Ve);authService=u(H);router=u(we);notifier=u(N);videoChannelSyncService=u(Ui);videoChannelService=u(Li);error;userVideoChannels=[];existingVideosStrategy;ngOnInit(){this.buildForm({externalChannelUrl:rr,videoChannel:Mn,existingVideoStrategy:Mn}),st(this.authService).subscribe(e=>this.userVideoChannels=e);}getFormButtonTitle(){return"o pali";}formValidated(){this.error=void 0;let e=this.form.value,t={externalChannelUrl:e.externalChannelUrl,videoChannelId:e.videoChannel},o=e.existingVideoStrategy==="import";this.videoChannelSyncService.createSync(t).pipe(Tt(({videoChannelSync:s})=>o?this.videoChannelService.importVideos(s.channel.name,s.externalChannelUrl,s.id):Promise.resolve(null))).subscribe({next:()=>{this.notifier.success("Synchronization created successfully."),this.router.navigate(["/my-library","video-channel-syncs"]);},error:s=>{this.error=s.message;}});}};f(i,"\u0275fac",(()=>{let e;return function(o){return(e||(e=W(i)))(o||i);};})()),f(i,"\u0275cmp",O({type:i,selectors:[["my-video-channel-sync-edit"]],features:[U],decls:30,vars:10,consts:()=>{let e;e="Example: https://youtube.com/channel/UC_fancy_channel";let t;t="NEW SYNCHRONIZATION";let o;o="Remote channel URL";let s;s="Video channel";let _;_="Options for existing videos on remote channel:";let m;m="Import all and watch for new publications";let v;return v="Only watch for new publications",[t,o,s,_,m,v,["type","danger",4,"ngIf"],[1,"pt-two-cols"],[1,"title-col"],[1,"content-col"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","externalChannelUrl"],[1,"input-group"],["type","text","id","externalChannelUrl","placeholder",e,"formControlName","externalChannelUrl",1,"form-control",3,"ngClass"],["class","form-error","role","alert",4,"ngIf"],["for","videoChannel"],["inputId","videoChannel","formControlName","videoChannel",3,"items"],["role","radiogroup",1,"form-group"],["for","existingVideoStrategy"],[1,"peertube-radio-container"],["type","radio","name","existingVideoStrategy","id","import","value","import","formControlName","existingVideoStrategy"],["for","import"],["type","radio","name","existingVideoStrategy","id","doNothing","value","nothing","formControlName","existingVideoStrategy"],["for","doNothing"],["type","submit",1,"peertube-button","primary-button",3,"value","disabled"],["type","danger"],["role","alert",1,"form-error"]];},template:function(t,o){t&1&&(h(0,oa,2,1,"my-alert",6),d(1,"div",7)(2,"div",8)(3,"h2"),C(4,0),l()(),d(5,"div",9)(6,"form",10),M("ngSubmit",function(){return o.formValidated();}),d(7,"div",11)(8,"label",12),C(9,1),l(),d(10,"div",13),g(11,"input",14),l(),h(12,ra,2,1,"div",15),l(),d(13,"div",11)(14,"label",16),C(15,2),l(),g(16,"my-select-channel",17),h(17,sa,2,1,"div",15),l(),d(18,"div",18)(19,"label",19),C(20,3),l(),d(21,"div",20),g(22,"input",21),d(23,"label",22),C(24,4),l()(),d(25,"div",20),g(26,"input",23),d(27,"label",24),C(28,5),l()()(),g(29,"input",25),l()()()),t&2&&(c("ngIf",o.error),a(6),c("formGroup",o.form),a(5),c("ngClass",R(8,na,o.formErrors.externalChannelUrl)),a(),c("ngIf",o.formErrors.externalChannelUrl),a(4),c("items",o.userVideoChannels),a(),c("ngIf",o.formErrors.videoChannel),a(12),Je("value",o.getFormButtonTitle()),c("disabled",!o.form.valid));},dependencies:[w,K,Lt,Dt,Jn,j,Ne,Ye,De,Le,G,St,dt],styles:[`input[type=text][_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) var(--input-x-padding);width:480px;max-width:480px;color:var(--input-fg);background-color:var(--input-bg);border:1px solid var(--input-border-color);border-radius:var(--input-border-radius);line-height:24px}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder);font-size:14px}input[type=text][readonly][_ngcontent-%COMP%]{color:var(--fg-300)}input[type=text][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100);outline:0}input[type=text][disabled][_ngcontent-%COMP%]{color:var(--fg-300);opacity:.8}@media screen and (max-width: 520px){input[type=text][_ngcontent-%COMP%]{width:100%}}my-select-channel[_ngcontent-%COMP%]{display:block;max-width:480px}
/*# sourceMappingURL=video-channel-sync-edit.component-66I3MLBW.css.map */`]}));let r=i;return r;})();function aa(r,i){if(r&1&&(d(0,"tr")(1,"th",13)(2,"span",14),C(3,1),l()(),d(4,"th",15),E(5,"Action"),l(),d(6,"th",16),C(7,2),l(),d(8,"th",17),C(9,3),l(),d(10,"th",18),C(11,4),l(),d(12,"th",19),q(13,5),g(14,"p-sortIcon",20),Q(),l()()),r&2){let n=p();a(12),c("ngbTooltip",n.sortTooltip);}}function la(r,i){if(r&1&&g(0,"my-table-expander-icon",30),r&2){let n=p(),e=n.expanded,t=n.$implicit;c("pRowToggler",t)("expanded",e);}}function ca(r,i){if(r&1){let n=T();d(0,"my-button",31),M("click",function(){S(n);let t=p().$implicit,o=p();return y(o.cancelImport(t));}),l();}}function da(r,i){if(r&1){let n=T();d(0,"my-delete-button",32),M("click",function(){S(n);let t=p().$implicit,o=p();return y(o.deleteImport(t));}),l();}}function _a(r,i){if(r&1&&g(0,"my-edit-button",33),r&2){let n=p().$implicit,e=p();c("ptRouterLink",e.getEditVideoUrl(n.video));}}function pa(r,i){if(r&1&&(d(0,"a",34),E(1),l()),r&2){let n=p().$implicit;c("href",n.targetUrl,He),a(),P(n.targetUrl);}}function ma(r,i){if(r&1&&(d(0,"span",35),E(1),l()),r&2){let n=p().$implicit;c("title",n.torrentName||n.magnetUri),a(),P(n.torrentName||n.magnetUri);}}function ua(r,i){if(r&1&&(D(0),E(1),L()),r&2){let n=p().$implicit;a(),P(n.video==null?null:n.video.name);}}function ha(r,i){if(r&1&&(D(0),d(1,"a",34),E(2),l(),L()),r&2){let n=p().$implicit,e=p();a(),c("href",e.getVideoUrl(n.video),He),a(),P(n.video==null?null:n.video.name);}}function ga(r,i){r&1&&(D(0),C(1,6),L());}function fa(r,i){r&1&&te(0);}function Ca(r,i){if(r&1&&(d(0,"tr")(1,"td",21),h(2,la,1,2,"my-table-expander-icon",22),l(),d(3,"td",23),h(4,ca,1,0,"my-button",24)(5,da,1,0,"my-delete-button",25)(6,_a,1,1,"my-edit-button",26),l(),d(7,"td"),h(8,pa,2,2,"a",27)(9,ma,2,2,"ng-template",null,0,tt),l(),d(11,"td"),h(12,ua,2,1,"ng-container",28)(13,ha,3,2,"ng-container",28)(14,ga,2,0,"ng-container",28)(15,fa,1,0,"ng-container",28),l(),d(16,"td")(17,"span",29),E(18),l()(),d(19,"td"),E(20),ue(21,"ptDate"),l()()),r&2){let n=i.$implicit,e=me(10),t=p();a(2),c("ngIf",n.error),a(2),c("ngIf",t.isVideoImportPending(n)),a(),c("ngIf",t.isVideoImportFailed(n)||t.isVideoImportCancelled(n)||!n.video),a(),c("ngIf",t.isVideoImportSuccess(n)&&n.video),a(2),c("ngIf",n.targetUrl)("ngIfElse",e),a(4),c("ngIf",t.isVideoImportPending(n)),a(),c("ngIf",t.isVideoImportSuccess(n)&&n.video),a(),c("ngIf",t.isVideoImportSuccess(n)&&!n.video),a(),c("ngIf",t.isVideoImportFailed(n)),a(2),c("ngClass",t.getVideoImportStateClass(n.state.id)),a(),A(" ",n.state.label," "),a(2),P(Ue(21,13,n.createdAt,"short"));}}function Sa(r,i){if(r&1&&(d(0,"tr",37)(1,"td",38)(2,"pre"),E(3),l()()()),r&2){let n=p().$implicit;a(3),P(n.error);}}function ya(r,i){if(r&1&&h(0,Sa,4,1,"tr",36),r&2){let n=i.$implicit;c("ngIf",n.error);}}var Ir=(()=>{let i=class i extends lt{notifier=u(N);videoImportService=u(sr);videoImports=[];totalRecords=0;sort={field:"createdAt",order:1};pagination={count:this.rowsPerPage,start:0};ngOnInit(){this.initialize();}getIdentifier(){return"MyVideoImportsComponent";}getVideoImportStateClass(e){switch(e){case We.FAILED:return"badge-red";case We.REJECTED:return"badge-banned";case We.PENDING:return"badge-yellow";case We.PROCESSING:return"badge-blue";default:return"badge-green";}}isVideoImportSuccess(e){return e.state.id===We.SUCCESS;}isVideoImportPending(e){return e.state.id===We.PENDING;}isVideoImportFailed(e){return e.state.id===We.FAILED;}isVideoImportCancelled(e){return e.state.id===We.CANCELLED;}getVideoUrl(e){return hn.buildWatchUrl(e);}getEditVideoUrl(e){return hn.buildUpdateUrl(e);}deleteImport(e){this.videoImportService.deleteVideoImport(e).subscribe({next:()=>this.reloadData(),error:t=>this.notifier.error(t.message)});}cancelImport(e){this.videoImportService.cancelVideoImport(e).subscribe({next:()=>this.reloadData(),error:t=>this.notifier.error(t.message)});}reloadDataInternal(){this.videoImportService.getMyVideoImports(this.pagination,this.sort,this.search).subscribe({next:e=>{this.videoImports=e.data,this.totalRecords=e.total;},error:e=>this.notifier.error(e.message)});}};f(i,"\u0275fac",(()=>{let e;return function(o){return(e||(e=W(i)))(o||i);};})()),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],features:[U],decls:6,vars:13,consts:()=>{let e;e="sona";let t;t="tan";let o;o="sitelen";let s;s="pali li awen anu pini anu seme";let _;_="tenpo open "+"\uFFFD#14\uFFFD"+""+"\uFFFD/#14\uFFFD"+"";let m;m="o pana ala";let v;return v="sitelen ni li weka",[["torrent",""],e,t,o,s,_,v,[1,"mb-4","d-flex","justify-content-between"],[3,"search"],["dataKey","id",3,"onLazyLoad","value","lazy","paginator","totalRecords","rows","first","rowsPerPageOptions","sortField","sortOrder","lazyLoadOnInit","showCurrentPageReport","currentPageReportTemplate","expandedRowKeys"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["scope","col",2,"width","40px"],[1,"visually-hidden"],["scope","col",2,"width","200px"],["scope","col",2,"width","45%"],["scope","col",2,"width","55%"],["scope","col",2,"width","150px"],["scope","col","container","body","pSortableColumn","createdAt",2,"width","150px",3,"ngbTooltip"],["field","createdAt"],[1,"expand-cell"],[3,"pRowToggler","expanded",4,"ngIf"],[1,"action-cell"],["label",m,"icon","no",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],[3,"ptRouterLink",4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href",4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"pt-badge",3,"ngClass"],[3,"pRowToggler","expanded"],["label",m,"icon","no",3,"click"],[3,"click"],[3,"ptRouterLink"],["target","_blank","rel","noopener noreferrer",3,"href"],[3,"title"],["class","video-import-error",4,"ngIf"],[1,"video-import-error"],["myAutoColspan",""]];},template:function(t,o){t&1&&(d(0,"div",7)(1,"my-advanced-input-filter",8),M("search",function(_){return o.onSearch(_);}),l()(),d(2,"p-table",9),M("onLazyLoad",function(_){return o.loadLazy(_);}),h(3,aa,15,1,"ng-template",10)(4,Ca,22,16,"ng-template",11)(5,ya,1,1,"ng-template",12),l()),t&2&&(a(2),c("value",o.videoImports)("lazy",!0)("paginator",o.totalRecords>0)("totalRecords",o.totalRecords)("rows",o.rowsPerPage)("first",o.pagination.start)("rowsPerPageOptions",o.rowsPerPageOptions)("sortField",o.sort.field)("sortOrder",o.sort.order)("lazyLoadOnInit",!1)("showCurrentPageReport",!0)("currentPageReportTemplate",o.getPaginationTemplate())("expandedRowKeys",o.expandedRows));},dependencies:[Ee,gt,mt,Se,ut,Go,ht,Te,rt,w,Wo,ze,kt,Hi,G,ft,Ct],styles:[`pre[_ngcontent-%COMP%]{font-size:11px}.video-import-error[_ngcontent-%COMP%]{color:var(--red)}
/*# sourceMappingURL=my-video-imports.component-HGS5WN2W.css.map */`]}));let r=i;return r;})();var Ht=class extends _t{videoPlaylistToUpdate;userVideoChannels=[];videoPlaylistPrivacies=[];};var va=r=>({"input-error":r}),Ma=r=>["/my-library/video-playlists/update",r];function Ea(r,i){if(r&1&&(d(0,"my-alert",35),E(1),l()),r&2){let n=p();a(),P(n.error);}}function Ia(r,i){r&1&&(d(0,"li",17),C(1,6),l());}function Oa(r,i){if(r&1&&(d(0,"a",38),E(1),l()),r&2){let n=p(2);c("routerLink",R(2,Ma,n.videoPlaylistToUpdate==null?null:n.videoPlaylistToUpdate.shortUUID)),a(),A(" ",n.videoPlaylistToUpdate==null?null:n.videoPlaylistToUpdate.displayName," ");}}function Pa(r,i){if(r&1&&(d(0,"li",17),C(1,7),l(),d(2,"li",36),h(3,Oa,2,4,"a",37),l()),r&2){let n=p();a(3),c("ngIf",n.videoPlaylistToUpdate);}}function Ta(r,i){r&1&&(d(0,"h2",18),C(1,8),l());}function ba(r,i){r&1&&(d(0,"h2",18),C(1,9),l());}function Ra(r,i){if(r&1&&(d(0,"div",39),E(1),l()),r&2){let n=p();a(),A(" ",n.formErrors.displayName," ");}}function xa(r,i){if(r&1&&(d(0,"div",39),E(1),l()),r&2){let n=p();a(),P(n.formErrors.privacy);}}function Aa(r,i){if(r&1&&(d(0,"div",39),E(1),l()),r&2){let n=p();a(),P(n.formErrors.videoChannelId);}}var Or=(()=>{let i=class i extends Ht{formReactiveService=u(Ve);authService=u(H);notifier=u(N);router=u(we);videoPlaylistService=u(Me);serverService=u(ve);error;ngOnInit(){this.buildForm({displayName:Vi,privacy:Fi,description:$i,videoChannelId:ki,thumbnailfile:null}),this.form.get("privacy").valueChanges.subscribe(e=>{zi(this.form.get("videoChannelId"),e);}),st(this.authService).subscribe(e=>this.userVideoChannels=e),this.serverService.getVideoPlaylistPrivacies().subscribe(e=>{this.videoPlaylistPrivacies=e,this.form.patchValue({privacy:eo.PRIVATE});});}formValidated(){this.error=void 0;let e=this.form.value,t={displayName:e.displayName,privacy:e.privacy,description:e.description||null,videoChannelId:e.videoChannelId||null,thumbnailfile:e.thumbnailfile||null};this.videoPlaylistService.createVideoPlaylist(t).subscribe({next:()=>{this.notifier.success("mi pali e kulupu sitelen \""+t.displayName+"\"."),this.router.navigate(["/my-library","video-playlists"]);},error:o=>{this.error=o.message;}});}isCreation(){return!0;}getFormButtonTitle(){return"o pali";}};f(i,"\u0275fac",(()=>{let e;return function(o){return(e||(e=W(i)))(o||i);};})()),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],features:[U],decls:39,vars:15,consts:()=>{let e;e="o ante";let t;t="kulupu sitelen mi";let o;o="sitelen lawa";let s;s="nimi jan";let _;_="ma ni li seme";let m;m="wawa len";let v;v="lipu sitelen";let I;I="o pali";let b;b="o ante";let Y;Y="KULUPU SITELEN SIN";let he;return he="UPDATE PLAYLIST",[t,o,s,_,m,v,I,b,Y,he,["type","danger",4,"ngIf"],[1,"pt-two-cols"],[1,"title-col"],["aria-label","breadcrumb"],[1,"pt-breadcrumb"],[1,"breadcrumb-item"],["routerLink","/my-library/video-playlists"],[1,"breadcrumb-item","active"],[1,"visually-hidden"],[1,"content-col"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","thumbnailfile"],["inputLabel",e,"inputName","thumbnailfile","formControlName","thumbnailfile","previewWidth","223px","previewHeight","122px"],["for","displayName"],["type","text","id","displayName","formControlName","displayName",1,"form-control",3,"ngClass"],["class","form-error","role","alert",4,"ngIf"],["for","description"],["helpType","markdownText"],["inputId","description","formControlName","description",3,"formError"],["for","privacy"],["inputId","privacy","formControlName","privacy",3,"items"],["for","videoChannelId"],["inputId","videoChannelId","formControlName","videoChannelId",3,"items"],["type","submit",1,"peertube-button","primary-button",3,"value","disabled"],["type","danger"],["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["role","alert",1,"form-error"]];},template:function(t,o){t&1&&(h(0,Ea,2,1,"my-alert",10),d(1,"div",11)(2,"div",12)(3,"nav",13)(4,"ol",14)(5,"li",15)(6,"a",16),C(7,0),l()(),h(8,Ia,2,0,"li",17)(9,Pa,4,1),l()(),h(10,Ta,2,0,"h2",18)(11,ba,2,0,"h2",18),l(),d(12,"div",19)(13,"form",20),M("ngSubmit",function(){return o.formValidated();}),d(14,"div",21)(15,"label",22),C(16,1),l(),g(17,"my-preview-upload",23),l(),d(18,"div",21)(19,"label",24),C(20,2),l(),g(21,"input",25),h(22,Ra,2,1,"div",26),l(),d(23,"div",21)(24,"label",27),C(25,3),l(),g(26,"my-help",28)(27,"my-markdown-textarea",29),l(),d(28,"div",21)(29,"label",30),C(30,4),l(),g(31,"my-select-options",31),h(32,xa,2,1,"div",26),l(),d(33,"div",21)(34,"label",32),C(35,5),l(),g(36,"my-select-channel",33),h(37,Aa,2,1,"div",26),l(),g(38,"input",34),l()()()),t&2&&(c("ngIf",o.error),a(8),fe(o.isCreation()?8:9),a(2),fe(o.isCreation()?10:11),a(3),c("formGroup",o.form),a(8),c("ngClass",R(13,va,o.formErrors.displayName)),a(),c("ngIf",o.formErrors.displayName),a(5),c("formError",o.formErrors.description),a(4),c("items",o.videoPlaylistPrivacies),a(),c("ngIf",o.formErrors.privacy),a(4),c("items",o.userVideoChannels),a(),c("ngIf",o.formErrors.videoChannelId),a(),Je("value",o.getFormButtonTitle()),c("disabled",!o.form.valid));},dependencies:[w,ce,K,Lt,Dt,j,Ne,Ye,De,Le,Wi,G,Ni,Yi,wi,St,dt],styles:[`input[type=text][_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) var(--input-x-padding);width:340px;max-width:340px;color:var(--input-fg);background-color:var(--input-bg);border:1px solid var(--input-border-color);border-radius:var(--input-border-radius);line-height:24px}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder);font-size:14px}input[type=text][readonly][_ngcontent-%COMP%]{color:var(--fg-300)}input[type=text][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100);outline:0}input[type=text][disabled][_ngcontent-%COMP%]{color:var(--fg-300);opacity:.8}@media screen and (max-width: 380px){input[type=text][_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;position:relative;height:min-content;width:340px}@media screen and (max-width: 310px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:var(--fg-300);margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{line-height:24px}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:inherit;background-color:transparent;border:1px solid var(--bg-secondary-500)!important}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:active, .peertube-select-container[_ngcontent-%COMP%]   select.active[_ngcontent-%COMP%], .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible{color:inherit;background-color:var(--bg-secondary-500);border-color:var(--bg-secondary-500)}.peertube-select-container[_ngcontent-%COMP%]   select.btn[_ngcontent-%COMP%]:active, .peertube-select-container[_ngcontent-%COMP%]   select.btn[_ngcontent-%COMP%]:focus-visible, .peertube-select-container[_ngcontent-%COMP%]   select.btn.show[_ngcontent-%COMP%]{color:inherit!important;background-color:var(--bg-secondary-500)!important;border-color:var(--bg-secondary-500)!important}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{color:inherit;background-color:var(--bg-secondary-450)}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.8}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:not(.icon-only)   my-global-icon[_ngcontent-%COMP%]{color:var(--secondary-icon-color)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) calc(var(--input-x-padding) + 23px) var(--input-y-padding) var(--input-x-padding);position:relative;border:1px solid var(--input-border-color)!important;-webkit-appearance:none;appearance:none;text-overflow:ellipsis;color:var(--input-fg);background:var(--input-bg);border-radius:var(--input-border-radius)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100)}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{opacity:.5}my-select-channel[_ngcontent-%COMP%], my-select-options[_ngcontent-%COMP%]{display:block;max-width:340px}.content-col[_ngcontent-%COMP%]{max-width:500px}
/*# sourceMappingURL=my-video-playlist-edit.component-WP2XP4RF.css.map */`]}));let r=i;return r;})();var Na=20,Pr=(()=>{let i=class i{_ngZone=u(Ge);_platform=u(vn);_renderer=u(xt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new x();_scrolledCount=0;scrollContainers=new Map();register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)));}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e));}scrolled(e=Na){return this._platform.isBrowser?new Xt(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=e>0?this._scrolled.pipe(tn(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0);};}):kn();}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete();}ancestorScrolled(e,t){let o=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Bn(s=>!s||o.indexOf(s)>-1));}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&t.push(s);}),t;}_scrollableContainsElement(e,t){let o=ke(t),s=e.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1;}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275prov",qe({token:i,factory:i.Éµfac,providedIn:"root"}));let r=i;return r;})();var Da=20,Tr=(()=>{let i=class i{_platform=u(vn);_listeners;_viewportSize;_change=new x();_document=u(Ot,{optional:!0});constructor(){let e=u(Ge),t=u(xt).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=s=>this._change.next(s);this._listeners=[t.listen("window","resize",o),t.listen("window","orientationchange",o)];}this.change().subscribe(()=>this._viewportSize=null);});}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete();}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e;}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+t,height:o,width:t};}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect(),_=-s.top||e.body.scrollTop||t.scrollY||o.scrollTop||0,m=-s.left||e.body.scrollLeft||t.scrollX||o.scrollLeft||0;return{top:_,left:m};}change(e=Da){return e>0?this._change.pipe(tn(e)):this._change;}_getWindow(){return this._document.defaultView||window;}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0};}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275prov",qe({token:i,factory:i.Éµfac,providedIn:"root"}));let r=i;return r;})();function Gr(r){let i=r.cloneNode(!0),n=i.querySelectorAll("[id]"),e=r.nodeName.toLowerCase();i.removeAttribute("id");for(let t=0;t<n.length;t++)n[t].removeAttribute("id");return e==="canvas"?xr(r,i):(e==="input"||e==="select"||e==="textarea")&&Rr(r,i),br("canvas",r,i,xr),br("input, textarea, select",r,i,Rr),i;}function br(r,i,n,e){let t=i.querySelectorAll(r);if(t.length){let o=n.querySelectorAll(r);for(let s=0;s<t.length;s++)e(t[s],o[s]);}}var La=0;function Rr(r,i){i.type!=="file"&&(i.value=r.value),i.type==="radio"&&i.name&&(i.name=`mat-clone-${i.name}-${La++}`);}function xr(r,i){let n=i.getContext("2d");if(n)try{n.drawImage(r,0,0);}catch{}}function wn(r){let i=r.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y};}function Tn(r,i,n){let{top:e,bottom:t,left:o,right:s}=r;return n>=e&&n<=t&&i>=o&&i<=s;}function li(r,i,n){r.top+=i,r.bottom=r.top+r.height,r.left+=n,r.right=r.left+r.width;}function Ar(r,i,n,e){let{top:t,right:o,bottom:s,left:_,width:m,height:v}=r,I=m*i,b=v*i;return e>t-b&&e<s+b&&n>_-I&&n<o+I;}var Ki=class{_document;positions=new Map();constructor(i){this._document=i;}clear(){this.positions.clear();}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:wn(n)});});}handleScroll(i){let n=ri(i),e=this.positions.get(n);if(!e)return null;let t=e.scrollPosition,o,s;if(n===this._document){let v=this.getViewportScrollPosition();o=v.top,s=v.left;}else o=n.scrollTop,s=n.scrollLeft;let _=t.top-o,m=t.left-s;return this.positions.forEach((v,I)=>{v.clientRect&&n!==I&&n.contains(I)&&li(v.clientRect,_,m);}),t.top=o,t.left=s,{top:_,left:m};}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX};}};function Hr(r,i){let n=r.rootNodes;if(n.length===1&&n[0].nodeType===i.ELEMENT_NODE)return n[0];let e=i.createElement("div");return n.forEach(t=>e.appendChild(t)),e;}function Nn(r,i,n){for(let e in i)if(i.hasOwnProperty(e)){let t=i[e];t?r.setProperty(e,t,n?.has(e)?"important":""):r.removeProperty(e);}return r;}function Ut(r,i){let n=i?"":"none";Nn(r.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n});}function wr(r,i,n){Nn(r.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},n);}function qi(r,i){return i&&i!="none"?r+" "+i:r;}function Nr(r,i){r.style.width=`${i.width}px`,r.style.height=`${i.height}px`,r.style.transform=Qi(i.left,i.top);}function Qi(r,i){return`translate3d(${Math.round(r)}px, ${Math.round(i)}px, 0)`;}function Dr(r){let i=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*i;}function Ya(r){let i=getComputedStyle(r),n=On(i,"transition-property"),e=n.find(_=>_==="transform"||_==="all");if(!e)return 0;let t=n.indexOf(e),o=On(i,"transition-duration"),s=On(i,"transition-delay");return Dr(o[t])+Dr(s[t]);}function On(r,i){return r.getPropertyValue(i).split(",").map(e=>e.trim());}var Va=new Set(["position"]),bn=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview;}constructor(i,n,e,t,o,s,_,m,v,I){this._document=i,this._rootElement=n,this._direction=e,this._initialDomRect=t,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=_,this._initialTransform=m,this._zIndex=v,this._renderer=I;}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),Lr(this._preview)&&this._preview.showPopover();}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null;}setTransform(i){this._preview.style.transform=i;}getBoundingClientRect(){return this._preview.getBoundingClientRect();}addClass(i){this._preview.classList.add(i);}getTransitionDuration(){return Ya(this._preview);}addEventListener(i,n){return this._renderer.listen(this._preview,i,n);}_createPreview(){let i=this._previewTemplate,n=this._previewClass,e=i?i.template:null,t;if(e&&i){let o=i.matchSize?this._initialDomRect:null,s=i.viewContainer.createEmbeddedView(e,i.context);s.detectChanges(),t=Hr(s,this._document),this._previewEmbeddedView=s,i.matchSize?Nr(t,o):t.style.transform=Qi(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y);}else t=Gr(this._rootElement),Nr(t,this._initialDomRect),this._initialTransform&&(t.style.transform=this._initialTransform);return Nn(t.style,{"pointer-events":"none",margin:Lr(t)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Va),Ut(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("popover","manual"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(o=>t.classList.add(o)):t.classList.add(n)),t;}};function Lr(r){return"showPopover"in r;}var Fa={passive:!0},Yr={passive:!1},$a={passive:!1,capture:!0},ka=800,Vr=new Set(["position"]),Rn=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Qe(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new x();_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Et.EMPTY;_pointerUpSubscription=Et.EMPTY;_scrollSubscription=Et.EMPTY;_resizeSubscription=Et.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set();_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled);}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Ut(n,i)));}_disabled=!1;beforeStarted=new x();started=new x();released=new x();ended=new x();entered=new x();exited=new x();dropped=new x();moved=this._moveEvents;data;constrainPosition;constructor(i,n,e,t,o,s,_){this._config=n,this._document=e,this._ngZone=t,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=_,this.withRootElement(i).withParent(n.parentDragRef||null),this._parentPositions=new Ki(e),s.registerDragItem(this);}getPlaceholderElement(){return this._placeholder;}getRootElement(){return this._rootElement;}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement();}withHandles(i){this._handles=i.map(e=>ke(e)),this._handles.forEach(e=>Ut(e,this.disabled)),this._toggleNativeDragInteractions();let n=new Set();return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&n.add(e);}),this._disabledHandles=n,this;}withPreviewTemplate(i){return this._previewTemplate=i,this;}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this;}withRootElement(i){let n=ke(i);return n!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[pt(this._renderer,n,"mousedown",this._pointerDown,Yr),pt(this._renderer,n,"touchstart",this._pointerDown,Fa),pt(this._renderer,n,"dragstart",this._nativeDragStart,Yr)]),this._initialTransform=void 0,this._rootElement=n),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this;}withBoundaryElement(i){return this._boundaryElement=i?ke(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this;}withParent(i){return this._parentDragRef=i,this;}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null;}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this);}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0};}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),Ut(i,!0));}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),Ut(i,this.disabled));}withDirection(i){return this._direction=i,this;}_withDropContainer(i){this._dropContainer=i;}getFreeDragPosition(){let i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y};}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this;}withPreviewContainer(i){return this._previewContainer=i,this;}_sortFromLastPointerPosition(){let i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i);}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0;}_destroyPreview(){this._preview?.destroy(),this._preview=null;}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null;}_pointerDown=i=>{if(this.beforeStarted.next(),this._handles.length){let n=this._getTargetHandle(i);n&&!this._disabledHandles.has(n)&&!this.disabled&&this._initializeDragSequence(n,i);}else this.disabled||this._initializeDragSequence(this._rootElement,i);};_pointerMove=i=>{let n=this._getPointerPositionOnPage(i);if(!this._hasStartedDragging()){let t=Math.abs(n.x-this._pickupPositionOnPage.x),o=Math.abs(n.y-this._pickupPositionOnPage.y);if(t+o>=this._config.dragStartThreshold){let _=Date.now()>=this._dragStartTime+this._getDragStartDelay(i),m=this._dropContainer;if(!_){this._endDragSequence(i);return;}(!m||!m.isDragging()&&!m.isReceiving())&&(i.cancelable&&i.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(i)));}return;}i.cancelable&&i.preventDefault();let e=this._getConstrainedPointerPosition(n);if(this._hasMoved=!0,this._lastKnownPointerPosition=n,this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e,n);else{let t=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=e.x-t.x+this._passiveTransform.x,o.y=e.y-t.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y);}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:i,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta});});};_pointerUp=i=>{this._endDragSequence(i);};_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this);});else{this._passiveTransform.x=this._activeTransform.x;let n=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:i});}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this);}}_startDragSequence(i){si(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let n=this._getShadowRoot(),e=this._dropContainer;if(n&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=pt(this._renderer,n,"selectstart",za,$a);}),e){let t=this._rootElement,o=t.parentNode,s=this._placeholder=this._createPlaceholderElement(),_=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(_,t),this._initialTransform=t.style.transform||"",this._preview=new bn(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,n)),wr(t,!1,Vr),this._document.body.appendChild(o.replaceChild(s,t)),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this);}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[]);}_initializeDragSequence(i,n){this._parentDragRef&&n.stopPropagation();let e=this.isDragging(),t=si(n),o=!t&&n.button!==0,s=this._rootElement,_=ri(n),m=!t&&this._lastTouchEventTime&&this._lastTouchEventTime+ka>Date.now(),v=t?bo(n):To(n);if(_&&_.draggable&&n.type==="mousedown"&&n.preventDefault(),e||o||m||v)return;if(this._handles.length){let Y=s.style;this._rootElementTapHighlight=Y.webkitTapHighlightColor||"",Y.webkitTapHighlightColor="transparent";}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Y=>this._updateOnScroll(Y)),this._boundaryElement&&(this._boundaryRect=wn(this._boundaryElement));let I=this._previewTemplate;this._pickupPositionInElement=I&&I.template&&!I.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,n);let b=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:b.x,y:b.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n);}_cleanupDragArtifacts(i){wr(this._rootElement,!0,Vr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let n=this._dropContainer,e=n.getItemIndex(this),t=this._getPointerPositionOnPage(i),o=this._getDragDistance(t),s=n._isOverContainer(t.x,t.y);this.ended.next({source:this,distance:o,dropPoint:t,event:i}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:t,event:i}),n.drop(this,e,this._initialIndex,this._initialContainer,s,o,t,i),this._dropContainer=this._initialContainer;});}_updateActiveDropContainer({x:i,y:n},{x:e,y:t}){let o=this._initialContainer._getSiblingContainerFromPosition(this,i,n);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,n)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,i,n,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)});}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,t),this._dropContainer._sortItem(this,i,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,n):this._applyPreviewTransform(i-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y));}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);let n=this._preview.getTransitionDuration();return n===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{let t=_=>{(!_||this._preview&&ri(_)===this._preview.element&&_.propertyName==="transform")&&(s(),e(),clearTimeout(o));},o=setTimeout(t,n*1.5),s=this._preview.addEventListener("transitionend",t);}));}_createPlaceholderElement(){let i=this._placeholderTemplate,n=i?i.template:null,e;return n?(this._placeholderRef=i.viewContainer.createEmbeddedView(n,i.context),this._placeholderRef.detectChanges(),e=Hr(this._placeholderRef,this._document)):e=Gr(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e;}_getPointerPositionInElement(i,n,e){let t=n===this._rootElement?null:n,o=t?t.getBoundingClientRect():i,s=si(e)?e.targetTouches[0]:e,_=this._getViewportScrollPosition(),m=s.pageX-o.left-_.left,v=s.pageY-o.top-_.top;return{x:o.left-i.left+m,y:o.top-i.top+v};}_getPointerPositionOnPage(i){let n=this._getViewportScrollPosition(),e=si(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,t=e.pageX-n.left,o=e.pageY-n.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let _=this._ownerSVGElement.createSVGPoint();return _.x=t,_.y=o,_.matrixTransform(s.inverse());}}return{x:t,y:o};}_getConstrainedPointerPosition(i){let n=this._dropContainer?this._dropContainer.lockAxis:null,{x:e,y:t}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if(this.lockAxis==="x"||n==="x"?t=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||n==="y")&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,_=this._boundaryRect,{width:m,height:v}=this._getPreviewRect(),I=_.top+s,b=_.bottom-(v-s),Y=_.left+o,he=_.right-(m-o);e=Fr(e,Y,he),t=Fr(t,I,b);}return{x:e,y:t};}_updatePointerDirectionDelta(i){let{x:n,y:e}=i,t=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(n-o.x),_=Math.abs(e-o.y);return s>this._config.pointerDirectionChangeThreshold&&(t.x=n>o.x?1:-1,o.x=n),_>this._config.pointerDirectionChangeThreshold&&(t.y=e>o.y?1:-1,o.y=e),t;}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,Ut(this._rootElement,i));}_removeRootElementListeners(){this._rootElementCleanups?.forEach(i=>i()),this._rootElementCleanups=void 0;}_applyRootElementTransform(i,n){let e=1/this.scale,t=Qi(i*e,n*e),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=qi(t,this._initialTransform);}_applyPreviewTransform(i,n){let e=this._previewTemplate?.template?void 0:this._initialTransform,t=Qi(i,n);this._preview.setTransform(qi(t,e));}_getDragDistance(i){let n=this._pickupPositionOnPage;return n?{x:i.x-n.x,y:i.y-n.y}:{x:0,y:0};}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear();}_containInsideBoundaryOnResize(){let{x:i,y:n}=this._passiveTransform;if(i===0&&n===0||this.isDragging()||!this._boundaryElement)return;let e=this._rootElement.getBoundingClientRect(),t=this._boundaryElement.getBoundingClientRect();if(t.width===0&&t.height===0||e.width===0&&e.height===0)return;let o=t.left-e.left,s=e.right-t.right,_=t.top-e.top,m=e.bottom-t.bottom;t.width>e.width?(o>0&&(i+=o),s>0&&(i-=s)):i=0,t.height>e.height?(_>0&&(n+=_),m>0&&(n-=m)):n=0,(i!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:i});}_getDragStartDelay(i){let n=this.dragStartDelay;return typeof n=="number"?n:si(i)?n.touch:n?n.mouse:0;}_updateOnScroll(i){let n=this._parentPositions.handleScroll(i);if(n){let e=ri(i);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&li(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y));}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition();}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Di(this._rootElement)),this._cachedShadowRoot;}_getPreviewInsertionPoint(i,n){let e=this._previewContainer||"global";if(e==="parent")return i;if(e==="global"){let t=this._document;return n||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body;}return ke(e);}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect;}_nativeDragStart=i=>{if(this._handles.length){let n=this._getTargetHandle(i);n&&!this._disabledHandles.has(n)&&!this.disabled&&i.preventDefault();}else this.disabled||i.preventDefault();};_getTargetHandle(i){return this._handles.find(n=>i.target&&(i.target===n||n.contains(i.target)));}};function Fr(r,i,n){return Math.max(i,Math.min(n,r));}function si(r){return r.type[0]==="t";}function za(r){r.preventDefault();}function Ur(r,i,n){let e=$r(i,r.length-1),t=$r(n,r.length-1);if(e===t)return;let o=r[e],s=t<e?-1:1;for(let _=e;_!==t;_+=s)r[_]=r[_+s];r[t]=o;}function $r(r,i){return Math.max(0,Math.min(i,r));}var Zi=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(i){this._dragDropRegistry=i;}_previousSwap={drag:null,delta:0,overlaps:!1};start(i){this.withItems(i);}sort(i,n,e,t){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(i,n,e,t);if(s===-1&&o.length>0)return null;let _=this.orientation==="horizontal",m=o.findIndex(J=>J.drag===i),v=o[s],I=o[m].clientRect,b=v.clientRect,Y=m>s?1:-1,he=this._getItemOffsetPx(I,b,Y),F=this._getSiblingOffsetPx(m,o,Y),ci=o.slice();return Ur(o,m,s),o.forEach((J,di)=>{if(ci[di]===J)return;let Wt=J.drag===i,Pt=Wt?he:F,vt=Wt?i.getPlaceholderElement():J.drag.getRootElement();J.offset+=Pt;let Mt=Math.round(J.offset*(1/J.drag.scale));_?(vt.style.transform=qi(`translate3d(${Mt}px, 0, 0)`,J.initialTransform),li(J.clientRect,0,Pt)):(vt.style.transform=qi(`translate3d(0, ${Mt}px, 0)`,J.initialTransform),li(J.clientRect,Pt,0));}),this._previousSwap.overlaps=Tn(b,n,e),this._previousSwap.drag=v.drag,this._previousSwap.delta=_?t.x:t.y,{previousIndex:m,currentIndex:s};}enter(i,n,e,t){let o=t==null||t<0?this._getItemIndexFromPointerPosition(i,n,e):t,s=this._activeDraggables,_=s.indexOf(i),m=i.getPlaceholderElement(),v=s[o];if(v===i&&(v=s[o+1]),!v&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(n,e)&&(v=s[0]),_>-1&&s.splice(_,1),v&&!this._dragDropRegistry.isDragging(v)){let I=v.getRootElement();I.parentElement.insertBefore(m,I),s.splice(o,0,i);}else this._element.appendChild(m),s.push(i);m.style.transform="",this._cacheItemPositions();}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions();}withSortPredicate(i){this._sortPredicate=i;}reset(){this._activeDraggables?.forEach(i=>{let n=i.getRootElement();if(n){let e=this._itemPositions.find(t=>t.drag===i)?.initialTransform;n.style.transform=e||"";}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1;}getActiveItemsSnapshot(){return this._activeDraggables;}getItemIndex(i){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===i);}updateOnScroll(i,n){this._itemPositions.forEach(({clientRect:e})=>{li(e,i,n);}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition();});}withElementContainer(i){this._element=i;}_cacheItemPositions(){let i=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(n=>{let e=n.getVisibleElement();return{drag:n,offset:0,initialTransform:e.style.transform||"",clientRect:wn(e)};}).sort((n,e)=>i?n.clientRect.left-e.clientRect.left:n.clientRect.top-e.clientRect.top);}_getItemOffsetPx(i,n,e){let t=this.orientation==="horizontal",o=t?n.left-i.left:n.top-i.top;return e===-1&&(o+=t?n.width-i.width:n.height-i.height),o;}_getSiblingOffsetPx(i,n,e){let t=this.orientation==="horizontal",o=n[i].clientRect,s=n[i+e*-1],_=o[t?"width":"height"]*e;if(s){let m=t?"left":"top",v=t?"right":"bottom";e===-1?_-=s.clientRect[m]-o[v]:_+=o[m]-s.clientRect[v];}return _;}_shouldEnterAsFirstChild(i,n){if(!this._activeDraggables.length)return!1;let e=this._itemPositions,t=this.orientation==="horizontal";if(e[0].drag!==this._activeDraggables[0]){let s=e[e.length-1].clientRect;return t?i>=s.right:n>=s.bottom;}else{let s=e[0].clientRect;return t?i<=s.left:n<=s.top;}}_getItemIndexFromPointerPosition(i,n,e,t){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:_,clientRect:m})=>{if(_===i)return!1;if(t){let v=o?t.x:t.y;if(_===this._previousSwap.drag&&this._previousSwap.overlaps&&v===this._previousSwap.delta)return!1;}return o?n>=Math.floor(m.left)&&n<Math.floor(m.right):e>=Math.floor(m.top)&&e<Math.floor(m.bottom);});return s===-1||!this._sortPredicate(s,i)?-1:s;}},xn=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(i,n){this._document=i,this._dragDropRegistry=n;}start(i){let n=this._element.childNodes;this._relatedNodes=[];for(let e=0;e<n.length;e++){let t=n[e];this._relatedNodes.push([t,t.nextSibling]);}this.withItems(i);}sort(i,n,e,t){let o=this._getItemIndexFromPointerPosition(i,n,e),s=this._previousSwap;if(o===-1||this._activeItems[o]===i)return null;let _=this._activeItems[o];if(s.drag===_&&s.overlaps&&s.deltaX===t.x&&s.deltaY===t.y)return null;let m=this.getItemIndex(i),v=i.getPlaceholderElement(),I=_.getRootElement();o>m?I.after(v):I.before(v),Ur(this._activeItems,m,o);let b=this._getRootNode().elementFromPoint(n,e);return s.deltaX=t.x,s.deltaY=t.y,s.drag=_,s.overlaps=I===b||I.contains(b),{previousIndex:m,currentIndex:o};}enter(i,n,e,t){let o=t==null||t<0?this._getItemIndexFromPointerPosition(i,n,e):t;o===-1&&(o=this._getClosestItemIndexToPointer(i,n,e));let s=this._activeItems[o],_=this._activeItems.indexOf(i);_>-1&&this._activeItems.splice(_,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,i),s.getRootElement().before(i.getPlaceholderElement())):(this._activeItems.push(i),this._element.appendChild(i.getPlaceholderElement()));}withItems(i){this._activeItems=i.slice();}withSortPredicate(i){this._sortPredicate=i;}reset(){let i=this._element,n=this._previousSwap;for(let e=this._relatedNodes.length-1;e>-1;e--){let[t,o]=this._relatedNodes[e];t.parentNode===i&&t.nextSibling!==o&&(o===null?i.appendChild(t):o.parentNode===i&&i.insertBefore(t,o));}this._relatedNodes=[],this._activeItems=[],n.drag=null,n.deltaX=n.deltaY=0,n.overlaps=!1;}getActiveItemsSnapshot(){return this._activeItems;}getItemIndex(i){return this._activeItems.indexOf(i);}updateOnScroll(){this._activeItems.forEach(i=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition();});}withElementContainer(i){i!==this._element&&(this._element=i,this._rootNode=void 0);}_getItemIndexFromPointerPosition(i,n,e){let t=this._getRootNode().elementFromPoint(Math.floor(n),Math.floor(e)),o=t?this._activeItems.findIndex(s=>{let _=s.getRootElement();return t===_||_.contains(t);}):-1;return o===-1||!this._sortPredicate(o,i)?-1:o;}_getRootNode(){return this._rootNode||(this._rootNode=Di(this._element)||this._document),this._rootNode;}_getClosestItemIndexToPointer(i,n,e){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let t=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let _=this._activeItems[s];if(_!==i){let{x:m,y:v}=_.getRootElement().getBoundingClientRect(),I=Math.hypot(n-m,e-v);I<t&&(t=I,o=s);}}return o;}},kr=.05,Wr=.05,Ie=function(r){return r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r;}(Ie||{}),ie=function(r){return r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r;}(ie||{}),An=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new x();entered=new x();exited=new x();dropped=new x();sorted=new x();receivingStarted=new x();receivingStopped=new x();data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set();_viewportScrollSubscription=Et.EMPTY;_verticalScrollDirection=Ie.NONE;_horizontalScrollDirection=ie.NONE;_scrollNode;_stopScrollTimers=new x();_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(i,n,e,t,o){this._dragDropRegistry=n,this._ngZone=t,this._viewportRuler=o;let s=this.element=ke(i);this._document=e,this.withOrientation("vertical").withElementContainer(s),n.registerDropContainer(this),this._parentPositions=new Ki(e);}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this);}isDragging(){return this._isDragging;}start(){this._draggingStarted(),this._notifyReceivingSiblings();}enter(i,n,e,t){this._draggingStarted(),t==null&&this.sortingDisabled&&(t=this._draggables.indexOf(i)),this._sortStrategy.enter(i,n,e,t),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)});}exit(i){this._reset(),this.exited.next({item:i,container:this});}drop(i,n,e,t,o,s,_,m={}){this._reset(),this.dropped.next({item:i,currentIndex:n,previousIndex:e,container:this,previousContainer:t,isPointerOverContainer:o,distance:s,dropPoint:_,event:m});}withItems(i){let n=this._draggables;return this._draggables=i,i.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(n.filter(t=>t.isDragging()).every(t=>i.indexOf(t)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this;}withDirection(i){return this._direction=i,this._sortStrategy instanceof Zi&&(this._sortStrategy.direction=i),this;}connectedTo(i){return this._siblings=i.slice(),this;}withOrientation(i){if(i==="mixed")this._sortStrategy=new xn(this._document,this._dragDropRegistry);else{let n=new Zi(this._dragDropRegistry);n.direction=this._direction,n.orientation=i,this._sortStrategy=n;}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((n,e)=>this.sortPredicate(n,e,this)),this;}withScrollableParents(i){let n=this._container;return this._scrollableElements=i.indexOf(n)===-1?[n,...i]:i.slice(),this;}withElementContainer(i){if(i===this._container)return this;let n=ke(this.element),e=this._scrollableElements.indexOf(this._container),t=this._scrollableElements.indexOf(i);return e>-1&&this._scrollableElements.splice(e,1),t>-1&&this._scrollableElements.splice(t,1),this._sortStrategy&&this._sortStrategy.withElementContainer(i),this._cachedShadowRoot=null,this._scrollableElements.unshift(i),this._container=i,this;}getScrollableParents(){return this._scrollableElements;}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i);}isReceiving(){return this._activeSiblings.size>0;}_sortItem(i,n,e,t){if(this.sortingDisabled||!this._domRect||!Ar(this._domRect,kr,n,e))return;let o=this._sortStrategy.sort(i,n,e,t);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:i});}_startScrollingIfNecessary(i,n){if(this.autoScrollDisabled)return;let e,t=Ie.NONE,o=ie.NONE;if(this._parentPositions.positions.forEach((s,_)=>{_===this._document||!s.clientRect||e||Ar(s.clientRect,kr,i,n)&&([t,o]=Ba(_,s.clientRect,this._direction,i,n),(t||o)&&(e=_));}),!t&&!o){let{width:s,height:_}=this._viewportRuler.getViewportSize(),m={width:s,height:_,top:0,right:s,bottom:_,left:0};t=Xr(m,n),o=jr(m,i),e=window;}e&&(t!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=t,this._horizontalScrollDirection=o,this._scrollNode=e,(t||o)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling());}_stopScrolling(){this._stopScrollTimers.next();}_draggingStarted(){let i=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents();}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect;}_reset(){this._isDragging=!1;let i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear();}_startScrollInterval=()=>{this._stopScrolling(),zn(0,en).pipe(bt(this._stopScrollTimers)).subscribe(()=>{let i=this._scrollNode,n=this.autoScrollStep;this._verticalScrollDirection===Ie.UP?i.scrollBy(0,-n):this._verticalScrollDirection===Ie.DOWN&&i.scrollBy(0,n),this._horizontalScrollDirection===ie.LEFT?i.scrollBy(-n,0):this._horizontalScrollDirection===ie.RIGHT&&i.scrollBy(n,0);});};_isOverContainer(i,n){return this._domRect!=null&&Tn(this._domRect,i,n);}_getSiblingContainerFromPosition(i,n,e){return this._siblings.find(t=>t._canReceive(i,n,e));}_canReceive(i,n,e){if(!this._domRect||!Tn(this._domRect,n,e)||!this.enterPredicate(i,this))return!1;let t=this._getShadowRoot().elementFromPoint(n,e);return t?t===this._container||this._container.contains(t):!1;}_startReceiving(i,n){let e=this._activeSiblings;!e.has(i)&&n.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(e.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:n}));}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this});}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){let n=this._parentPositions.handleScroll(i);n&&this._sortStrategy.updateOnScroll(n.top,n.left);}else this.isReceiving()&&this._cacheParentPositions();});}_getShadowRoot(){if(!this._cachedShadowRoot){let i=Di(this._container);this._cachedShadowRoot=i||this._document;}return this._cachedShadowRoot;}_notifyReceivingSiblings(){let i=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,i));}};function Xr(r,i){let{top:n,bottom:e,height:t}=r,o=t*Wr;return i>=n-o&&i<=n+o?Ie.UP:i>=e-o&&i<=e+o?Ie.DOWN:Ie.NONE;}function jr(r,i){let{left:n,right:e,width:t}=r,o=t*Wr;return i>=n-o&&i<=n+o?ie.LEFT:i>=e-o&&i<=e+o?ie.RIGHT:ie.NONE;}function Ba(r,i,n,e,t){let o=Xr(i,t),s=jr(i,e),_=Ie.NONE,m=ie.NONE;if(o){let v=r.scrollTop;o===Ie.UP?v>0&&(_=Ie.UP):r.scrollHeight-v>r.clientHeight&&(_=Ie.DOWN);}if(s){let v=r.scrollLeft;n==="rtl"?s===ie.RIGHT?v<0&&(m=ie.RIGHT):r.scrollWidth+v>r.clientWidth&&(m=ie.LEFT):s===ie.LEFT?v>0&&(m=ie.LEFT):r.scrollWidth-v>r.clientWidth&&(m=ie.RIGHT);}return[_,m];}var ai={capture:!0},Pn={passive:!1,capture:!0},Ga=(()=>{let i=class i{};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(t,o){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0}));let r=i;return r;})(),Kr=(()=>{let i=class i{_ngZone=u(Ge);_document=u(Ot);_styleLoader=u(Ro);_renderer=u(xt).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set();_dragInstances=new Set();_activeDragInstances=Qe([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new x();pointerUp=new x();scroll=new x();constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e);}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=pt(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,Pn);});}removeDropContainer(e){this._dropInstances.delete(e);}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.();}startDragging(e,t){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(Ga),this._activeDragInstances.update(o=>[...o,e]),this._activeDragInstances().length===1)){let o=t.type.startsWith("touch"),s=m=>this.pointerUp.next(m),_=[["scroll",m=>this.scroll.next(m),ai],["selectstart",this._preventDefaultWhileDragging,Pn]];o?_.push(["touchend",s,ai],["touchcancel",s,ai]):_.push(["mouseup",s,ai]),o||_.push(["mousemove",m=>this.pointerMove.next(m),Pn]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=_.map(([m,v,I])=>pt(this._renderer,this._document,m,v,I));});}}stopDragging(e){this._activeDragInstances.update(t=>{let o=t.indexOf(e);return o>-1?(t.splice(o,1),[...t]):t;}),this._activeDragInstances().length===0&&this._clearGlobalListeners();}isDragging(e){return this._activeDragInstances().indexOf(e)>-1;}scrolled(e){let t=[this.scroll];return e&&e!==this._document&&t.push(new Xt(o=>this._ngZone.runOutsideAngular(()=>{let s=pt(this._renderer,e,"scroll",_=>{this._activeDragInstances().length&&o.next(_);},ai);return()=>{s();};}))),ui(...t);}registerDirectiveNode(e,t){this._domNodesToDirectives??=new WeakMap(),this._domNodesToDirectives.set(e,t);}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e);}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null;}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete();}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault();};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e));};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0;}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275prov",qe({token:i,factory:i.Éµfac,providedIn:"root"}));let r=i;return r;})(),Ha={dragStartThreshold:5,pointerDirectionChangeThreshold:5},qr=(()=>{let i=class i{_document=u(Ot);_ngZone=u(Ge);_viewportRuler=u(Tr);_dragDropRegistry=u(Kr);_renderer=u(xt).createRenderer(null,null);constructor(){}createDrag(e,t=Ha){return new Rn(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer);}createDropList(e){return new An(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler);}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275prov",qe({token:i,factory:i.Éµfac,providedIn:"root"}));let r=i;return r;})(),zr=new It("CDK_DRAG_PARENT");var Ua=new It("CdkDragHandle");var Qr=new It("CDK_DRAG_CONFIG"),Zr=new It("CdkDropList"),Jr=(()=>{let i=class i{element=u(Rt);dropContainer=u(Zr,{optional:!0,skipSelf:!0});_ngZone=u(Ge);_viewContainerRef=u(sn);_dir=u(En,{optional:!0});_changeDetectorRef=u(wt);_selfHandle=u(Ua,{optional:!0,self:!0});_parentDrag=u(zr,{optional:!0,skipSelf:!0});_dragDropRegistry=u(Kr);_destroyed=new x();_handles=new $n([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled);}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled;}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new k();released=new k();ended=new k();entered=new k();exited=new k();dropped=new k();moved=new Xt(e=>{let t=this._dragRef.moved.pipe(pi(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(e);return()=>{t.unsubscribe();};});_injector=u(nn);constructor(){let e=this.dropContainer,t=u(Qr,{optional:!0}),o=u(qr);this._dragRef=o.createDrag(this.element,{dragStartThreshold:t&&t.dragStartThreshold!=null?t.dragStartThreshold:5,pointerDirectionChangeThreshold:t&&t.pointerDirectionChangeThreshold!=null?t.pointerDirectionChangeThreshold:5,zIndex:t?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),t&&this._assignDefaults(t),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(bt(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale;})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef);}getPlaceholderElement(){return this._dragRef.getPlaceholderElement();}getRootElement(){return this._dragRef.getRootElement();}reset(){this._dragRef.reset();}getFreeDragPosition(){return this._dragRef.getFreeDragPosition();}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e);}ngAfterViewInit(){on(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition);},{injector:this._injector});}ngOnChanges(e){let t=e.rootElementSelector,o=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition);}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose();});}_addHandle(e){let t=this._handles.getValue();t.push(e),this._handles.next(t);}_removeHandle(e){let t=this._handles.getValue(),o=t.indexOf(e);o>-1&&(t.splice(o,1),this._handles.next(t));}_setPreviewTemplate(e){this._previewTemplate=e;}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null);}_setPlaceholderTemplate(e){this._placeholderTemplate=e;}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null);}_updateRootElement(){let e=this.element.nativeElement,t=e;this.rootElementSelector&&(t=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e);}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):ke(e):null;}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let t=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,_=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof o=="object"&&o?o:Ai(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(_).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value);}}),e.beforeStarted.pipe(Gn(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return;}let t=this.element.nativeElement.parentElement;for(;t;){let o=this._dragDropRegistry.getDragDirectiveForNode(t);if(o){e.withParent(o._dragRef);break;}t=t.parentElement;}});}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck();}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event});}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck();}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex});}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this});}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event});});}_assignDefaults(e){let{lockAxis:t,dragStartDelay:o,constrainPosition:s,previewClass:_,boundaryElement:m,draggingDisabled:v,rootElementSelector:I,previewContainer:b}=e;this.disabled=v??!1,this.dragStartDelay=o||0,t&&(this.lockAxis=t),s&&(this.constrainPosition=s),_&&(this.previewClass=_),m&&(this.boundaryElement=m),I&&(this.rootElementSelector=I),b&&(this.previewContainer=b);}_setupHandlesListener(){this._handles.pipe(fi(e=>{let t=e.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t);}),jt(e=>ui(...e.map(t=>t._stateChanges.pipe(gi(t))))),bt(this._destroyed)).subscribe(e=>{let t=this._dragRef,o=e.element.nativeElement;e.disabled?t.disableHandle(o):t.enableHandle(o);});}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275dir",yi({type:i,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,o){t&2&&At("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging());},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",V],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Ae]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[et([{provide:zr,useExisting:i}]),qt]}));let r=i;return r;})(),Br=new It("CdkDropListGroup");var es=(()=>{let i=class i{element=u(Rt);_changeDetectorRef=u(wt);_scrollDispatcher=u(Pr);_dir=u(En,{optional:!0});_group=u(Br,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new x();_scrollableParentsResolved;_dropListRef;connectedTo=[];data;orientation;id=u(Ao).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled;}set disabled(e){this._dropListRef.disabled=this._disabled=e;}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new k();entered=new k();exited=new k();sorted=new k();_unsortedItems=new Set();constructor(){let e=u(qr),t=u(Qr,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,t&&this._assignDefaults(t),this._dropListRef.enterPredicate=(o,s)=>this.enterPredicate(o.data,s.data),this._dropListRef.sortPredicate=(o,s,_)=>this.sortPredicate(o,s.data,_.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),this._group&&this._group._items.add(this);}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(t=>t._dragRef));}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let t=this._latestSortedRefs.indexOf(e._dragRef);t>-1&&(this._latestSortedRefs.splice(t,1),this._syncItemsWithRef(this._latestSortedRefs));}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1);}ngOnDestroy(){let e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete();}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(gi(this._dir.value),bt(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{let t=xo(this.connectedTo).map(o=>{if(typeof o=="string"){let s=i._dropLists.find(_=>_.id===o);return s;}return o;});if(this._group&&this._group._items.forEach(o=>{t.indexOf(o)===-1&&t.push(o);}),!this._scrollableParentsResolved){let o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0;}if(this.elementContainerSelector){let o=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(o);}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=Ai(this.autoScrollStep,2),e.connectedTo(t.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation);});}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(t=>t._dragRef)),this._changeDetectorRef.markForCheck();}),e.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex});}),e.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck();}),e.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data});}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck();}),ui(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck());}_assignDefaults(e){let{lockAxis:t,draggingDisabled:o,sortingDisabled:s,listAutoScrollDisabled:_,listOrientation:m}=e;this.disabled=o??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=_??!1,this.orientation=m||"vertical",t&&(this.lockAxis=t);}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e);}};f(i,"_dropLists",[]),f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275dir",yi({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,o){t&2&&(X("id",o.id),At("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()));},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",V],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",V],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",V],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[et([{provide:Br,useValue:void 0},{provide:Zr,useExisting:i}])]}));let r=i;return r;})();var Wa=["videoShareModal"];function Xa(r,i){if(r&1&&g(0,"my-video-playlist-miniature",16),r&2){let n=p();c("playlist",n.playlist)("toManage",!1)("displayChannel",!0)("displayDescription",!0)("displayPrivacy",!0);}}function ja(r,i){if(r&1&&g(0,"my-action-dropdown",17),r&2){let n=p();c("entry",n.playlist)("actions",n.playlistActions);}}function Ka(r,i){r&1&&(d(0,"div",18)(1,"div"),C(2,2),l(),d(3,"div"),C(4,3),l(),d(5,"div"),q(6,4),g(7,"a",19),Q(),l()());}function qa(r,i){if(r&1){let n=T();d(0,"div",20)(1,"my-video-playlist-element-miniature",21),M("elementRemoved",function(t){S(n);let o=p();return y(o.onElementRemoved(t));}),l()();}if(r&2){let n=i.$implicit,e=p();c("cdkDragStartDelay",e.getDragStartDelay()),a(),c("playlistElement",n)("playlist",e.playlist)("owned",!0)("position",n.position);}}var ts=(()=>{let i=class i{hooks=u(vo);notifier=u(N);router=u(we);confirmService=u(ct);route=u(nt);screenService=u(yo);videoPlaylistService=u(Me);videoShareModal=ge("videoShareModal");playlistElements=[];playlist;playlistActions=[];pagination={currentPage:1,itemsPerPage:10,totalItems:null};onDataSubject=new x();videoPlaylistId;paramsSub;ngOnInit(){this.playlistActions=[[{label:"o ante e kulupu sitelen",iconName:"edit",linkBuilder:e=>["/my-library","video-playlists","update",e.shortUUID]},{label:"o weka e kulupu sitelen",iconName:"delete",handler:e=>this.deleteVideoPlaylist(e)}]],this.paramsSub=this.route.params.subscribe(e=>{this.videoPlaylistId=e.videoPlaylistId,this.loadElements(),this.loadPlaylistInfo();});}ngOnDestroy(){this.paramsSub&&this.paramsSub.unsubscribe();}drop(e){let t=e.previousIndex,o=e.currentIndex;if(t===o)return;let s=this.playlistElements[t].position,_=this.playlistElements[o].position;s>_&&_--;let m=this.playlistElements[t];this.playlistElements.splice(t,1),this.playlistElements.splice(o,0,m),this.videoPlaylistService.reorderPlaylist(this.playlist.id,s,_).subscribe({next:()=>{this.reorderClientPositions();},error:v=>this.notifier.error(v.message)});}onElementRemoved(e){let t=this.findFirst();this.playlistElements=this.playlistElements.filter(o=>o.id!==e.id),Yt(this.pagination),this.reorderClientPositions(t);}onNearOfBottom(){this.pagination.totalItems<=this.pagination.currentPage*this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.loadElements());}trackByFn(e,t){return t.id;}isRegularPlaylist(e){return e?.type.id===Pi.REGULAR;}showShareModal(){this.videoShareModal().show();}deleteVideoPlaylist(e){return Ke(this,null,function*(){(yield this.confirmService.confirm("sina wile ala wile weka e kulupu sitelen \""+e.displayName+"\"?","o weka"))!==!1&&this.videoPlaylistService.removeVideoPlaylist(e).subscribe({next:()=>{this.router.navigate(["/my-library","video-playlists"]),this.notifier.success("mi weka e kulupu sitelen \""+e.displayName+"\".");},error:o=>this.notifier.error(o.message)});});}getDragStartDelay(){return this.screenService.isInTouchScreen()?500:null;}loadElements(){this.hooks.wrapObsFun(this.videoPlaylistService.getPlaylistVideos.bind(this.videoPlaylistService),{videoPlaylistId:this.videoPlaylistId,componentPagination:this.pagination},"my-library","filter:api.my-library.video-playlist-elements.list.params","filter:api.my-library.video-playlist-elements.list.result").subscribe(({total:e,data:t})=>{this.playlistElements=this.playlistElements.concat(t),this.pagination.totalItems=e,this.onDataSubject.next(t);});}loadPlaylistInfo(){this.videoPlaylistService.getVideoPlaylist(this.videoPlaylistId).subscribe(e=>{this.playlist=e;});}reorderClientPositions(e){if(this.playlistElements.length===0)return;let t=e||this.findFirst(),o=1;for(let _ of this.playlistElements)_.position=o,o++;let s=this.findFirst();t&&s&&t.id!==s.id&&this.loadPlaylistInfo();}findFirst(){return this.playlistElements.find(e=>e.position===1);}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],viewQuery:function(t,o){t&1&&Ce(o.videoShareModal,Wa,5),t&2&&oe();},decls:13,vars:7,consts:()=>{let e;e="o pana";let t;t="sitelen li lon ala kulupu ni.";let o;o="o lukin e sitelen lon ilo PeerTube o pana e ona lon ni.";let s;return s="sina wile sona mute la o lukin e "+"\uFFFD#7\uFFFD"+"lipu sona"+"\uFFFD/#7\uFFFD"+". ",[["videoShareModal",""],e,t,o,s,[1,"root"],[1,"playlist-info"],[3,"playlist","toManage","displayChannel","displayDescription","displayPrivacy",4,"ngIf"],[1,"playlist-buttons"],["icon","share",1,"me-3",3,"click"],["label","More",3,"entry","actions",4,"ngIf"],[1,"playlist-elements"],["class","no-results",4,"ngIf"],["myInfiniteScroller","","cdkDropList","",1,"videos",3,"nearOfBottom","cdkDropListDropped","dataObservable"],["class","video","cdkDrag","",3,"cdkDragStartDelay",4,"ngFor","ngForOf","ngForTrackBy"],[3,"playlist"],[3,"playlist","toManage","displayChannel","displayDescription","displayPrivacy"],["label","More",3,"entry","actions"],[1,"no-results"],["target","_blank","href","https://docs.joinpeertube.org/use/library#playlist"],["cdkDrag","",1,"video",3,"cdkDragStartDelay"],[3,"elementRemoved","playlistElement","playlist","owned","position"]];},template:function(t,o){if(t&1){let s=T();d(0,"div",5)(1,"div",6),h(2,Xa,1,5,"my-video-playlist-miniature",7),d(3,"div",8)(4,"my-button",9),M("click",function(){return S(s),y(o.showShareModal());}),C(5,1),l(),h(6,ja,1,2,"my-action-dropdown",10),l()(),d(7,"div",11),h(8,Ka,8,0,"div",12),d(9,"div",13),M("nearOfBottom",function(){return S(s),y(o.onNearOfBottom());})("cdkDropListDropped",function(m){return S(s),y(o.drop(m));}),h(10,qa,2,5,"div",14),l()()(),g(11,"my-video-share",15,0);}t&2&&(a(2),c("ngIf",o.playlist),a(4),c("ngIf",o.isRegularPlaylist(o.playlist)),a(2),c("ngIf",o.pagination.totalItems===0),a(),c("dataObservable",o.onDataSubject.asObservable()),a(),c("ngForOf",o.playlistElements)("ngForTrackBy",o.trackByFn),a(),c("playlist",o.playlist));},dependencies:[w,ze,Bi,$t,$e,es,le,Jr,lr,ar],styles:[`.root[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr}.playlist-info[_ngcontent-%COMP%]{grid-column:1;display:flex;flex-direction:column;margin-inline-end:1rem}.playlist-buttons[_ngcontent-%COMP%]{display:flex;margin:30px 0 10px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.video[_ngcontent-%COMP%]:last-child{border:0}.videos.cdk-drop-list-dragging[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.playlist-elements[_ngcontent-%COMP%]{grid-column:2}my-video-playlist-miniature[_ngcontent-%COMP%]{width:280px}@media screen and (max-width: 800px){my-video-playlist-miniature[_ngcontent-%COMP%]{width:201px}}@media screen and (max-width: 500px){.root[_ngcontent-%COMP%]{display:block}.playlist-info[_ngcontent-%COMP%]{width:calc(100% + 2 * var(--x-margin-content));padding-top:20px;margin-bottom:10px}my-video-playlist-miniature[_ngcontent-%COMP%], .playlist-buttons[_ngcontent-%COMP%]{margin-inline-start:auto;margin-inline-end:auto}  my-video-playlist-element-miniature .video{padding:5px!important}  my-video-playlist-element-miniature .position{margin-inline-end:.3125rem!important}}
/*# sourceMappingURL=my-video-playlist-elements.component-E2HWDMJF.css.map */`]}));let r=i;return r;})();var Qa=r=>({"input-error":r}),Za=r=>["/my-library/video-playlists/update",r];function Ja(r,i){if(r&1&&(d(0,"my-alert",35),E(1),l()),r&2){let n=p();a(),P(n.error);}}function el(r,i){r&1&&(d(0,"li",17),C(1,6),l());}function tl(r,i){if(r&1&&(d(0,"a",38),E(1),l()),r&2){let n=p(2);c("routerLink",R(2,Za,n.videoPlaylistToUpdate==null?null:n.videoPlaylistToUpdate.shortUUID)),a(),A(" ",n.videoPlaylistToUpdate==null?null:n.videoPlaylistToUpdate.displayName," ");}}function il(r,i){if(r&1&&(d(0,"li",17),C(1,7),l(),d(2,"li",36),h(3,tl,2,4,"a",37),l()),r&2){let n=p();a(3),c("ngIf",n.videoPlaylistToUpdate);}}function nl(r,i){r&1&&(d(0,"h2",18),C(1,8),l());}function ol(r,i){r&1&&(d(0,"h2",18),C(1,9),l());}function rl(r,i){if(r&1&&(d(0,"div",39),E(1),l()),r&2){let n=p();a(),A(" ",n.formErrors.displayName," ");}}function sl(r,i){if(r&1&&(d(0,"div",39),E(1),l()),r&2){let n=p();a(),P(n.formErrors.privacy);}}function al(r,i){if(r&1&&(d(0,"div",39),E(1),l()),r&2){let n=p();a(),P(n.formErrors.videoChannelId);}}var is=(()=>{let i=class i extends Ht{formReactiveService=u(Ve);authService=u(H);notifier=u(N);router=u(we);route=u(nt);videoPlaylistService=u(Me);serverService=u(ve);error;paramsSub;ngOnInit(){this.buildForm({displayName:Vi,privacy:Fi,description:$i,videoChannelId:ki,thumbnailfile:null}),this.form.get("privacy").valueChanges.subscribe(e=>{zi(this.form.get("videoChannelId"),e);}),st(this.authService).subscribe(e=>this.userVideoChannels=e),this.paramsSub=this.route.params.pipe(pi(e=>e.videoPlaylistId),jt(e=>mi([this.videoPlaylistService.getVideoPlaylist(e),this.serverService.getVideoPlaylistPrivacies()]))).subscribe({next:([e,t])=>{this.videoPlaylistToUpdate=e,this.videoPlaylistPrivacies=t,this.hydrateFormFromPlaylist();},error:e=>{this.error=e.message;}});}ngOnDestroy(){this.paramsSub&&this.paramsSub.unsubscribe();}formValidated(){this.error=void 0;let e=this.form.value,t={displayName:e.displayName,privacy:e.privacy,description:e.description||null,videoChannelId:e.videoChannelId||null,thumbnailfile:e.thumbnailfile||void 0};this.videoPlaylistService.updateVideoPlaylist(this.videoPlaylistToUpdate,t).subscribe({next:()=>{this.notifier.success("mi ante e kulupu sitelen \""+t.displayName+"\"."),this.router.navigate(["/my-library","video-playlists"]);},error:o=>{this.error=o.message;}});}isCreation(){return!1;}getFormButtonTitle(){return"o ante";}hydrateFormFromPlaylist(){this.form.patchValue({displayName:this.videoPlaylistToUpdate.displayName,privacy:this.videoPlaylistToUpdate.privacy.id,description:this.videoPlaylistToUpdate.description,videoChannelId:this.videoPlaylistToUpdate.videoChannel?this.videoPlaylistToUpdate.videoChannel.id:null}),fetch(this.videoPlaylistToUpdate.thumbnailUrl).then(e=>e.blob()).then(e=>{this.form.patchValue({thumbnailfile:e});});}};f(i,"\u0275fac",(()=>{let e;return function(o){return(e||(e=W(i)))(o||i);};})()),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],features:[U],decls:39,vars:15,consts:()=>{let e;e="o ante";let t;t="kulupu sitelen mi";let o;o="sitelen lawa";let s;s="nimi jan";let _;_="ma ni li seme";let m;m="wawa len";let v;v="lipu sitelen";let I;I="o pali";let b;b="o ante";let Y;Y="KULUPU SITELEN SIN";let he;return he="UPDATE PLAYLIST",[t,o,s,_,m,v,I,b,Y,he,["type","danger",4,"ngIf"],[1,"pt-two-cols"],[1,"title-col"],["aria-label","breadcrumb"],[1,"pt-breadcrumb"],[1,"breadcrumb-item"],["routerLink","/my-library/video-playlists"],[1,"breadcrumb-item","active"],[1,"visually-hidden"],[1,"content-col"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","thumbnailfile"],["inputLabel",e,"inputName","thumbnailfile","formControlName","thumbnailfile","previewWidth","223px","previewHeight","122px"],["for","displayName"],["type","text","id","displayName","formControlName","displayName",1,"form-control",3,"ngClass"],["class","form-error","role","alert",4,"ngIf"],["for","description"],["helpType","markdownText"],["inputId","description","formControlName","description",3,"formError"],["for","privacy"],["inputId","privacy","formControlName","privacy",3,"items"],["for","videoChannelId"],["inputId","videoChannelId","formControlName","videoChannelId",3,"items"],["type","submit",1,"peertube-button","primary-button",3,"value","disabled"],["type","danger"],["aria-current","page",1,"breadcrumb-item","active"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["role","alert",1,"form-error"]];},template:function(t,o){t&1&&(h(0,Ja,2,1,"my-alert",10),d(1,"div",11)(2,"div",12)(3,"nav",13)(4,"ol",14)(5,"li",15)(6,"a",16),C(7,0),l()(),h(8,el,2,0,"li",17)(9,il,4,1),l()(),h(10,nl,2,0,"h2",18)(11,ol,2,0,"h2",18),l(),d(12,"div",19)(13,"form",20),M("ngSubmit",function(){return o.formValidated();}),d(14,"div",21)(15,"label",22),C(16,1),l(),g(17,"my-preview-upload",23),l(),d(18,"div",21)(19,"label",24),C(20,2),l(),g(21,"input",25),h(22,rl,2,1,"div",26),l(),d(23,"div",21)(24,"label",27),C(25,3),l(),g(26,"my-help",28)(27,"my-markdown-textarea",29),l(),d(28,"div",21)(29,"label",30),C(30,4),l(),g(31,"my-select-options",31),h(32,sl,2,1,"div",26),l(),d(33,"div",21)(34,"label",32),C(35,5),l(),g(36,"my-select-channel",33),h(37,al,2,1,"div",26),l(),g(38,"input",34),l()()()),t&2&&(c("ngIf",o.error),a(8),fe(o.isCreation()?8:9),a(2),fe(o.isCreation()?10:11),a(3),c("formGroup",o.form),a(8),c("ngClass",R(13,Qa,o.formErrors.displayName)),a(),c("ngIf",o.formErrors.displayName),a(5),c("formError",o.formErrors.description),a(4),c("items",o.videoPlaylistPrivacies),a(),c("ngIf",o.formErrors.privacy),a(4),c("items",o.userVideoChannels),a(),c("ngIf",o.formErrors.videoChannelId),a(),Je("value",o.getFormButtonTitle()),c("disabled",!o.form.valid));},dependencies:[w,ce,K,Lt,Dt,j,Ne,Ye,De,Le,Wi,G,Ni,Yi,wi,St,dt],styles:[`input[type=text][_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) var(--input-x-padding);width:340px;max-width:340px;color:var(--input-fg);background-color:var(--input-bg);border:1px solid var(--input-border-color);border-radius:var(--input-border-radius);line-height:24px}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder);font-size:14px}input[type=text][readonly][_ngcontent-%COMP%]{color:var(--fg-300)}input[type=text][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100);outline:0}input[type=text][disabled][_ngcontent-%COMP%]{color:var(--fg-300);opacity:.8}@media screen and (max-width: 380px){input[type=text][_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]{padding:0;margin:0;position:relative;height:min-content;width:340px}@media screen and (max-width: 310px){.peertube-select-container[_ngcontent-%COMP%]{width:100%}}.peertube-select-container[_ngcontent-%COMP%]:after{top:50%;right:calc(0% + 15px);content:" ";height:0;width:0;position:absolute;pointer-events:none;border:5px solid rgba(0,0,0,0);border-top-color:var(--fg-300);margin-top:-2px;z-index:100}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{line-height:24px}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:inherit;background-color:transparent;border:1px solid var(--bg-secondary-500)!important}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:active, .peertube-select-container[_ngcontent-%COMP%]   select.active[_ngcontent-%COMP%], .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible{color:inherit;background-color:var(--bg-secondary-500);border-color:var(--bg-secondary-500)}.peertube-select-container[_ngcontent-%COMP%]   select.btn[_ngcontent-%COMP%]:active, .peertube-select-container[_ngcontent-%COMP%]   select.btn[_ngcontent-%COMP%]:focus-visible, .peertube-select-container[_ngcontent-%COMP%]   select.btn.show[_ngcontent-%COMP%]{color:inherit!important;background-color:var(--bg-secondary-500)!important;border-color:var(--bg-secondary-500)!important}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{color:inherit;background-color:var(--bg-secondary-450)}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.8}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:not(.icon-only)   my-global-icon[_ngcontent-%COMP%]{color:var(--secondary-icon-color)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) calc(var(--input-x-padding) + 23px) var(--input-y-padding) var(--input-x-padding);position:relative;border:1px solid var(--input-border-color)!important;-webkit-appearance:none;appearance:none;text-overflow:ellipsis;color:var(--input-fg);background:var(--input-bg);border-radius:var(--input-border-radius)}.peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .peertube-select-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100)}.peertube-select-container[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{opacity:.5}my-select-channel[_ngcontent-%COMP%], my-select-options[_ngcontent-%COMP%]{display:block;max-width:340px}.content-col[_ngcontent-%COMP%]{max-width:500px}
/*# sourceMappingURL=my-video-playlist-edit.component-WP2XP4RF.css.map */`]}));let r=i;return r;})();var ll=r=>["update",r];function cl(r,i){if(r&1&&(d(0,"span",8),E(1),l()),r&2){let n=p();a(),A(" ",n.getTotalTitle(),"");}}function dl(r,i){if(r&1){let n=T();d(0,"div",12)(1,"my-delete-button",13),M("click",function(){S(n);let t=p().$implicit,o=p();return y(o.deleteVideoPlaylist(t));}),l(),g(2,"my-edit-button",14),l();}if(r&2){let n=p().$implicit;a(2),c("ptRouterLink",R(1,ll,n.shortUUID));}}function _l(r,i){if(r&1&&(d(0,"div",9),g(1,"my-video-playlist-miniature",10),h(2,dl,3,3,"div",11),l()),r&2){let n=i.$implicit,e=p();a(),c("playlist",n)("toManage",!0)("displayChannel",!0)("displayDescription",!0)("displayPrivacy",!0)("displayAsRow",!0),a(),c("ngIf",e.isRegularPlaylist(n));}}var ns=(()=>{let i=class i{authService=u(H);notifier=u(N);confirmService=u(ct);videoPlaylistService=u(Me);videoPlaylists=[];pagination={currentPage:1,itemsPerPage:5,totalItems:null};onDataSubject=new x();search;deleteVideoPlaylist(e){return Ke(this,null,function*(){(yield this.confirmService.confirm("sina wile ala wile weka e kulupu sitelen \""+e.displayName+"\"?","o weka"))!==!1&&this.videoPlaylistService.removeVideoPlaylist(e).subscribe({next:()=>{this.videoPlaylists=this.videoPlaylists.filter(o=>o.id!==e.id),Yt(this.pagination),this.notifier.success("mi weka e kulupu sitelen \""+e.displayName+"\".");},error:o=>this.notifier.error(o.message)});});}isRegularPlaylist(e){return e.type.id===Pi.REGULAR;}onNearOfBottom(){this.pagination.totalItems<=this.pagination.currentPage*this.pagination.itemsPerPage||(this.pagination.currentPage+=1,this.loadVideoPlaylists());}onSearch(e){this.search=e,at(this.pagination),this.loadVideoPlaylists(!0);}getTotalTitle(){return Xe(""+this.pagination.totalItems+" {total, plural, =1 {playlist} other {playlists}}",{total:this.pagination.totalItems});}loadVideoPlaylists(e=!1){this.authService.userInformationLoaded.pipe(Tt(()=>{let t=this.authService.getUser();return this.videoPlaylistService.listAccountPlaylists(t.account,this.pagination,"-updatedAt",this.search);})).subscribe(t=>{e&&(this.videoPlaylists=[]),this.videoPlaylists=this.videoPlaylists.concat(t.data),this.pagination.totalItems=t.total,this.onDataSubject.next(t.data);});}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],decls:9,vars:3,consts:()=>{let e;return e="o pali e kulupu sitelen",[e,[1,"video-playlists-header","d-flex","justify-content-between","align-items-end","gap-2","flex-wrap"],[3,"search"],["class","total-items",4,"ngIf"],["routerLink","create",1,"peertube-create-button"],["iconName","add","aria-hidden","true"],["myInfiniteScroller","",1,"video-playlists",3,"nearOfBottom","dataObservable"],["class","video-playlist",4,"ngFor","ngForOf"],[1,"total-items"],[1,"video-playlist"],[3,"playlist","toManage","displayChannel","displayDescription","displayPrivacy","displayAsRow"],["class","video-playlist-buttons",4,"ngIf"],[1,"video-playlist-buttons"],["label","",3,"click"],["label","",3,"ptRouterLink"]];},template:function(t,o){t&1&&(d(0,"div",1)(1,"my-advanced-input-filter",2),M("search",function(_){return o.onSearch(_);}),l(),h(2,cl,2,1,"span",3),d(3,"a",4),g(4,"my-global-icon",5),D(5),C(6,0),L(),l()(),d(7,"div",6),M("nearOfBottom",function(){return o.onNearOfBottom();}),h(8,_l,3,7,"div",7),l()),t&2&&(a(2),c("ngIf",o.pagination.totalItems),a(5),c("dataObservable",o.onDataSubject.asObservable()),a(),c("ngForOf",o.videoPlaylists));},dependencies:[Fe,w,Ee,ce,$e,le,Bi,kt,Hi],styles:[`input[type=text][_ngcontent-%COMP%]{font-size:16px;padding:var(--input-y-padding) var(--input-x-padding);width:300px;max-width:300px;color:var(--input-fg);background-color:var(--input-bg);border:1px solid var(--input-border-color);border-radius:var(--input-border-radius);line-height:24px}input[type=text][_ngcontent-%COMP%]::placeholder{color:var(--input-placeholder);font-size:14px}input[type=text][readonly][_ngcontent-%COMP%]{color:var(--fg-300)}input[type=text][_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem var(--fg-100);outline:0}input[type=text][disabled][_ngcontent-%COMP%]{color:var(--fg-300);opacity:.8}@media screen and (max-width: 340px){input[type=text][_ngcontent-%COMP%]{width:100%}}.video-playlist[_ngcontent-%COMP%]{display:flex;min-height:130px;padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid var(--input-border-color)}@media screen and (max-width: 800px){.video-playlist[_ngcontent-%COMP%]{min-height:initial;padding-bottom:10px;margin-bottom:10px}}.video-playlist-buttons[_ngcontent-%COMP%]{display:flex;align-self:flex-end;margin-inline-start:.625rem}.video-playlists-header[_ngcontent-%COMP%]{margin-bottom:30px}my-video-playlist-miniature[_ngcontent-%COMP%]{display:block;flex-grow:1}my-delete-button[_ngcontent-%COMP%]{margin-inline-end:.625rem}@media screen and (max-width: 800px){.video-playlists-header[_ngcontent-%COMP%]{text-align:center}.video-playlist[_ngcontent-%COMP%]{flex-wrap:wrap}.video-playlist-buttons[_ngcontent-%COMP%]{margin-top:10px;margin-inline-start:auto}}@media screen and (max-width: 500px){.action-button[_ngcontent-%COMP%]{margin-inline-start:0}}
/*# sourceMappingURL=my-video-playlists.component-VW6OKJL2.css.map */`]}));let r=i;return r;})();var os=(()=>{let i=class i{serverService=u(ve);menuEntries=[];serverConfig;ngOnInit(){this.serverConfig=this.serverService.getHTMLConfig(),this.buildMenu();}buildMenu(){this.menuEntries=[{label:"Manage my videos",routerLink:"/my-library/videos"},{label:"toki anpa",routerLink:"/my-library/comments-on-my-videos",children:[{label:"Comments on my videos",routerLink:"/my-library/comments-on-my-videos"},{label:"Watched words",routerLink:"/my-library/watched-words/list"},{label:"Auto tag policies",routerLink:"/my-library/auto-tag-policies"}]},{label:"wile",routerLink:"/my-library/video-imports",children:[{label:"Imports",routerLink:"/my-library/video-imports",isDisplayed:()=>this.isVideoImportEnabled()},{label:"ante lawa",routerLink:"/my-library/ownership"}]}];}isVideoImportEnabled(){let e=this.serverConfig.import.videos;return e.http.enabled||e.torrent.enabled;}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],decls:8,vars:1,consts:()=>{let e;e="sitelen mi";let t;return t="Skip the sub menu",[["myVideoSpaceContent",""],t,[1,"root"],[1,"margin-content"],["href","#my-video-space-content",1,"visually-hidden-focusable","skip-to-content-sub-menu",3,"click"],["h1Icon","videos","h1",e,3,"menuEntries"],["tabindex","-1","id","my-video-space-content",1,"margin-content","pb-5","outline-0"]];},template:function(t,o){if(t&1){let s=T();d(0,"div",2)(1,"div",3)(2,"a",4),M("click",function(m){S(s);let v=me(6);return m.preventDefault(),y(v.focus());}),C(3,1),l(),g(4,"my-horizontal-menu",5),l(),d(5,"div",6,0),g(7,"router-outlet"),l()();}t&2&&(a(4),c("menuEntries",o.menuEntries));},dependencies:[Nt,Ft],encapsulation:2}));let r=i;return r;})();var pl=r=>({active:r}),rs=(()=>{let i=class i{checked=Qt(!1);channel=ee.required();inputName=ee(void 0);label=ee("Toggle this channel");propagateChange=e=>{};writeValue(e){this.checked.set(e);}registerOnChange(e){this.propagateChange=e;}registerOnTouched(){}toggle(){this.checked.set(!this.checked()),this.propagateChange(this.checked());}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["my-channel-toggle"]],inputs:{checked:[1,"checked"],channel:[1,"channel"],inputName:[1,"inputName"],label:[1,"label"]},outputs:{checked:"checkedChange"},features:[et([{provide:Oi,useExisting:Kt(()=>i),multi:!0}])],decls:4,vars:6,consts:[[1,"root","button-unstyle",3,"click","ngClass","title"],["actorType","channel","size","34",3,"actor"],[1,"name"]],template:function(t,o){t&1&&(d(0,"button",0),M("click",function(){return o.toggle();}),g(1,"my-actor-avatar",1),d(2,"div",2),E(3),l()()),t&2&&(c("ngClass",R(4,pl,o.checked()))("title",o.label()),a(),c("actor",o.channel()),a(2),P(o.channel().displayName));},dependencies:[it,G,Be],styles:[`.root[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding-inline-start:17px}.root[_ngcontent-%COMP%]:hover{opacity:.9}.name[_ngcontent-%COMP%]{border-radius:4px;color:var(--fg-400);background-color:var(--bg-secondary-400);max-width:130px;padding-top:.75rem;padding-bottom:.75rem;padding-inline-end:.5rem;padding-inline-start:calc(1.275rem + .3vw);font-size:.875rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (min-width: 1200px){.name[_ngcontent-%COMP%]{padding-inline-start:1.5rem}}my-actor-avatar[_ngcontent-%COMP%]{position:absolute;left:0;border:2px solid var(--bg-secondary-400);border-radius:5px}.root.active[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:700;background-color:var(--bg-secondary-450)}.root.active[_ngcontent-%COMP%]   my-actor-avatar[_ngcontent-%COMP%]{border-color:var(--bg-secondary-450);background-color:var(--bg-secondary-450)}
/*# sourceMappingURL=channel-toggle.component-7FKWPH44.css.map */`]}));let r=i;return r;})();var _s=Cs(Ss());function ml(r,i){if(r&1&&(d(0,"span",1),E(1),l()),r&2){let n=p();c("ngClass",n.badgeClass),a(),P(n.label);}}var ss=(()=>{let i=class i{video=ee.required();states={[z.PUBLISHED]:"badge-green",[z.TO_TRANSCODE]:"badge-brown",[z.TO_IMPORT]:"badge-brown",[z.WAITING_FOR_LIVE]:"badge-blue",[z.LIVE_ENDED]:"badge-green",[z.TO_MOVE_TO_EXTERNAL_STORAGE]:"badge-brown",[z.TRANSCODING_FAILED]:"badge-red",[z.TO_MOVE_TO_EXTERNAL_STORAGE_FAILED]:"badge-red",[z.TO_EDIT]:"badge-brown",[z.TO_MOVE_TO_FILE_SYSTEM]:"badge-brown",[z.TO_MOVE_TO_FILE_SYSTEM_FAILED]:"badge-brown"};label;badgeClass;ngOnChanges(){this.buildBadgeAndLabel();}buildBadgeAndLabel(){let e=this.video();if(!e.state){this.label="";return;}let t=e.state.id;switch(this.badgeClass=this.states[e.state.id],t){case z.PUBLISHED:if(e.privacy.id===de.PRIVATE){this.label="In your library",this.badgeClass="badge-grey";return;}if(e.privacy.id===de.INTERNAL){this.label="Internal",this.badgeClass="badge-blue";return;}this.label="pana lon";return;case z.WAITING_FOR_LIVE:this.label="Waiting live";return;case z.LIVE_ENDED:this.label="Live ended";return;case z.TRANSCODING_FAILED:this.label="ante nasin li pakala";return;case z.TO_MOVE_TO_FILE_SYSTEM:this.label="Moving to file system";return;case z.TO_MOVE_TO_FILE_SYSTEM_FAILED:this.label="Moving to file system failed";return;case z.TO_MOVE_TO_EXTERNAL_STORAGE:this.label="Moving to external storage";return;case z.TO_MOVE_TO_EXTERNAL_STORAGE_FAILED:this.label="tawa li pakala";return;case z.TO_TRANSCODE:this.label=this.video().waitTranscoding===!0?"tenpo kama la mi ante e nasin":"mi o ante e nasin";return;case z.TO_IMPORT:this.label="mi o kama jo";return;case z.TO_EDIT:this.label="mi o ante";return;default:return t;}}};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["my-video-state-badge"]],inputs:{video:[1,"video"]},features:[qt],decls:1,vars:1,consts:[["class","pt-badge",3,"ngClass",4,"ngIf"],[1,"pt-badge",3,"ngClass"]],template:function(t,o){t&1&&h(0,ml,2,2,"span",0),t&2&&c("ngIf",o.label);},dependencies:[it,G,w],encapsulation:2}));let r=i;return r;})();var ul=["container"],hl=["focusInput"],gl=["multiIn"],fl=["multiContainer"],Cl=["ddBtn"],Sl=["items"],yl=["scroller"],vl=["overlay"],Ml=r=>({"p-autocomplete-token":!0,"p-focus":r}),as=r=>({$implicit:r}),Ji=r=>({height:r}),ls=(r,i)=>({$implicit:r,options:i}),El=r=>({options:r}),Il=()=>({}),Ol=(r,i,n)=>({"p-highlight":r,"p-focus":i,"p-disabled":n}),Pl=(r,i)=>({$implicit:r,index:i});function Tl(r,i){if(r&1){let n=T();d(0,"input",20,3),M("input",function(t){S(n);let o=p();return y(o.onInput(t));})("keydown",function(t){S(n);let o=p();return y(o.onKeyDown(t));})("change",function(t){S(n);let o=p();return y(o.onInputChange(t));})("focus",function(t){S(n);let o=p();return y(o.onInputFocus(t));})("blur",function(t){S(n);let o=p();return y(o.onInputBlur(t));})("paste",function(t){S(n);let o=p();return y(o.onInputPaste(t));})("keyup",function(t){S(n);let o=p();return y(o.onInputKeyUp(t));}),l();}if(r&2){let n,e=p();Zt(e.inputStyleClass),c("autofocus",e.autofocus)("ngClass",e.inputClass)("ngStyle",e.inputStyle)("type",e.type)("autocomplete",e.autocomplete)("required",e.required)("name",e.name)("tabindex",e.disabled?-1:e.tabindex)("readonly",e.readonly)("disabled",e.disabled),X("value",e.inputValue())("id",e.inputId)("placeholder",e.placeholder)("size",e.size)("maxlength",e.maxlength)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-expanded",(n=e.overlayVisible)!==null&&n!==void 0?n:!1)("aria-controls",e.overlayVisible?e.id+"_list":null)("aria-activedescendant",e.focused?e.focusedOptionId:void 0);}}function bl(r,i){if(r&1){let n=T();d(0,"TimesIcon",23),M("click",function(){S(n);let t=p(2);return y(t.clear());}),l();}r&2&&(c("styleClass","p-autocomplete-clear-icon"),X("aria-hidden",!0));}function Rl(r,i){}function xl(r,i){r&1&&h(0,Rl,0,0,"ng-template");}function Al(r,i){if(r&1){let n=T();d(0,"span",24),M("click",function(){S(n);let t=p(2);return y(t.clear());}),h(1,xl,1,0,null,17),l();}if(r&2){let n=p(2);X("aria-hidden",!0),a(),c("ngTemplateOutlet",n.clearIconTemplate);}}function wl(r,i){if(r&1&&(D(0),h(1,bl,1,2,"TimesIcon",21)(2,Al,2,2,"span",22),L()),r&2){let n=p();a(),c("ngIf",!n.clearIconTemplate),a(),c("ngIf",n.clearIconTemplate);}}function Nl(r,i){r&1&&te(0);}function Dl(r,i){if(r&1&&(d(0,"span",35),E(1),l()),r&2){let n=p().$implicit,e=p(2);a(),P(e.getMultipleLabel(n));}}function Ll(r,i){r&1&&g(0,"TimesCircleIcon",36),r&2&&(c("styleClass","p-autocomplete-token-icon"),X("aria-hidden",!0));}function Yl(r,i){}function Vl(r,i){r&1&&h(0,Yl,0,0,"ng-template");}function Fl(r,i){if(r&1&&(d(0,"span",37),h(1,Vl,1,0,null,17),l()),r&2){let n=p(3);X("aria-hidden",!0),a(),c("ngTemplateOutlet",n.removeIconTemplate);}}function $l(r,i){if(r&1){let n=T();d(0,"li",29,5),h(2,Nl,1,0,"ng-container",30)(3,Dl,2,1,"span",31),d(4,"span",32),M("click",function(t){let o=S(n).index,s=p(2);return y(s.readonly?"":s.removeOption(t,o));}),h(5,Ll,1,2,"TimesCircleIcon",33)(6,Fl,2,2,"span",34),l()();}if(r&2){let n=i.$implicit,e=i.index,t=p(2);c("ngClass",R(11,Ml,t.focusedMultipleOptionIndex()===e)),X("id",t.id+"_multiple_option_"+e)("aria-label",t.getOptionLabel(n))("aria-setsize",t.modelValue().length)("aria-posinset",e+1)("aria-selected",!0),a(2),c("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",R(13,as,n)),a(),c("ngIf",!t.selectedItemTemplate),a(2),c("ngIf",!t.removeIconTemplate),a(),c("ngIf",t.removeIconTemplate);}}function kl(r,i){if(r&1){let n=T();d(0,"ul",25,4),M("focus",function(t){S(n);let o=p();return y(o.onMultipleContainerFocus(t));})("blur",function(t){S(n);let o=p();return y(o.onMultipleContainerBlur(t));})("keydown",function(t){S(n);let o=p();return y(o.onMultipleContainerKeyDown(t));}),h(2,$l,7,15,"li",26),d(3,"li",27)(4,"input",28,3),M("input",function(t){S(n);let o=p();return y(o.onInput(t));})("keydown",function(t){S(n);let o=p();return y(o.onKeyDown(t));})("change",function(t){S(n);let o=p();return y(o.onInputChange(t));})("focus",function(t){S(n);let o=p();return y(o.onInputFocus(t));})("blur",function(t){S(n);let o=p();return y(o.onInputBlur(t));})("paste",function(t){S(n);let o=p();return y(o.onInputPaste(t));})("keyup",function(t){S(n);let o=p();return y(o.onInputKeyUp(t));}),l()()();}if(r&2){let n,e=p();c("ngClass",e.multiContainerClass)("tabindex",-1),X("aria-orientation","horizontal")("aria-activedescendant",e.focused?e.focusedMultipleOptionId:void 0),a(2),c("ngForOf",e.modelValue()),a(2),Zt(e.inputStyleClass),c("autofocus",e.autofocus)("ngClass",e.inputClass)("ngStyle",e.inputStyle)("autocomplete",e.autocomplete)("required",e.required)("tabindex",e.disabled?-1:e.tabindex)("readonly",e.readonly)("disabled",e.disabled),X("type",e.type)("id",e.inputId)("name",e.name)("placeholder",e.filled?null:e.placeholder)("size",e.size)("maxlength",e.maxlength)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-expanded",(n=e.overlayVisible)!==null&&n!==void 0?n:!1)("aria-controls",e.overlayVisible?e.id+"_list":null)("aria-activedescendant",e.focused?e.focusedOptionId:void 0);}}function zl(r,i){r&1&&g(0,"SpinnerIcon",40),r&2&&(c("styleClass","p-autocomplete-loader")("spin",!0),X("aria-hidden",!0));}function Bl(r,i){}function Gl(r,i){r&1&&h(0,Bl,0,0,"ng-template");}function Hl(r,i){if(r&1&&(d(0,"span",41),h(1,Gl,1,0,null,17),l()),r&2){let n=p(2);X("aria-hidden",!0),a(),c("ngTemplateOutlet",n.loadingIconTemplate);}}function Ul(r,i){if(r&1&&(D(0),h(1,zl,1,3,"SpinnerIcon",38)(2,Hl,2,2,"span",39),L()),r&2){let n=p();a(),c("ngIf",!n.loadingIconTemplate),a(),c("ngIf",n.loadingIconTemplate);}}function Wl(r,i){if(r&1&&g(0,"span",44),r&2){let n=p(2);c("ngClass",n.dropdownIcon),X("aria-hidden",!0);}}function Xl(r,i){r&1&&g(0,"ChevronDownIcon");}function jl(r,i){}function Kl(r,i){r&1&&h(0,jl,0,0,"ng-template");}function ql(r,i){if(r&1&&(D(0),h(1,Xl,1,0,"ChevronDownIcon",12)(2,Kl,1,0,null,17),L()),r&2){let n=p(2);a(),c("ngIf",!n.dropdownIconTemplate),a(),c("ngTemplateOutlet",n.dropdownIconTemplate);}}function Ql(r,i){if(r&1){let n=T();d(0,"button",42,6),M("click",function(t){S(n);let o=p();return y(o.handleDropdownClick(t));}),h(2,Wl,1,2,"span",43)(3,ql,3,2,"ng-container",12),l();}if(r&2){let n=p();c("disabled",n.disabled),X("aria-label",n.dropdownAriaLabel)("tabindex",n.tabindex),a(2),c("ngIf",n.dropdownIcon),a(),c("ngIf",!n.dropdownIcon);}}function Zl(r,i){r&1&&te(0);}function Jl(r,i){r&1&&te(0);}function ec(r,i){if(r&1&&h(0,Jl,1,0,"ng-container",30),r&2){let n=i.$implicit,e=i.options;p(2);let t=me(14);c("ngTemplateOutlet",t)("ngTemplateOutletContext",Ei(2,ls,n,e));}}function tc(r,i){r&1&&te(0);}function ic(r,i){if(r&1&&h(0,tc,1,0,"ng-container",30),r&2){let n=i.options,e=p(3);c("ngTemplateOutlet",e.loaderTemplate)("ngTemplateOutletContext",R(2,El,n));}}function nc(r,i){r&1&&(D(0),h(1,ic,1,4,"ng-template",47),L());}function oc(r,i){if(r&1){let n=T();d(0,"p-scroller",45,7),M("onLazyLoad",function(t){S(n);let o=p();return y(o.onLazyLoad.emit(t));}),h(2,ec,1,5,"ng-template",46)(3,nc,2,0,"ng-container",12),l();}if(r&2){let n=p();an(R(8,Ji,n.scrollHeight)),c("items",n.visibleOptions())("itemSize",n.virtualScrollItemSize||n._itemSize)("autoSize",!0)("lazy",n.lazy)("options",n.virtualScrollOptions),a(3),c("ngIf",n.loaderTemplate);}}function rc(r,i){r&1&&te(0);}function sc(r,i){if(r&1&&(D(0),h(1,rc,1,0,"ng-container",30),L()),r&2){let n=p(),e=me(14);a(),c("ngTemplateOutlet",e)("ngTemplateOutletContext",Ei(3,ls,n.visibleOptions(),Mi(2,Il)));}}function ac(r,i){if(r&1&&(d(0,"span"),E(1),l()),r&2){let n=p(2).$implicit,e=p(2);a(),P(e.getOptionGroupLabel(n.optionGroup));}}function lc(r,i){r&1&&te(0);}function cc(r,i){if(r&1&&(D(0),d(1,"li",51),h(2,ac,2,1,"span",12)(3,lc,1,0,"ng-container",30),l(),L()),r&2){let n=p(),e=n.$implicit,t=n.index,o=p().options,s=p();a(),c("ngStyle",R(5,Ji,o.itemSize+"px")),X("id",s.id+"_"+s.getOptionIndex(t,o)),a(),c("ngIf",!s.groupTemplate),a(),c("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",R(7,as,e.optionGroup));}}function dc(r,i){if(r&1&&(d(0,"span"),E(1),l()),r&2){let n=p(2).$implicit,e=p(2);a(),P(e.getOptionLabel(n));}}function _c(r,i){r&1&&te(0);}function pc(r,i){if(r&1){let n=T();D(0),d(1,"li",52),M("mousedown",function(t){S(n);let o=p().$implicit,s=p(2);return y(s.onOptionSelect(t,o));})("mouseenter",function(t){S(n);let o=p().index,s=p().options,_=p();return y(_.onOptionMouseEnter(t,_.getOptionIndex(o,s)));}),h(2,dc,2,1,"span",12)(3,_c,1,0,"ng-container",30),l(),L();}if(r&2){let n=p(),e=n.$implicit,t=n.index,o=p().options,s=p();a(),c("ngStyle",R(12,Ji,o.itemSize+"px"))("ngClass",Kn(14,Ol,s.isSelected(e),s.focusedOptionIndex()===s.getOptionIndex(t,o),s.isOptionDisabled(e))),X("id",s.id+"_"+s.getOptionIndex(t,o))("aria-label",s.getOptionLabel(e))("aria-selected",s.isSelected(e))("aria-disabled",s.isOptionDisabled(e))("data-p-focused",s.focusedOptionIndex()===s.getOptionIndex(t,o))("aria-setsize",s.ariaSetSize)("aria-posinset",s.getAriaPosInset(s.getOptionIndex(t,o))),a(),c("ngIf",!s.itemTemplate),a(),c("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",Ei(18,Pl,e,o.getOptions?o.getOptions(t):t));}}function mc(r,i){if(r&1&&h(0,cc,4,9,"ng-container",12)(1,pc,4,21,"ng-container",12),r&2){let n=i.$implicit,e=p(2);c("ngIf",e.isOptionGroup(n)),a(),c("ngIf",!e.isOptionGroup(n));}}function uc(r,i){if(r&1&&(D(0),E(1),L()),r&2){let n=p(3);a(),A(" ",n.searchResultMessageText," ");}}function hc(r,i){r&1&&te(0,null,9);}function gc(r,i){if(r&1&&(d(0,"li",53),h(1,uc,2,1,"ng-container",54)(2,hc,2,0,"ng-container",17),l()),r&2){let n=p().options,e=p();c("ngStyle",R(4,Ji,n.itemSize+"px")),a(),c("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),a(),c("ngTemplateOutlet",e.emptyTemplate);}}function fc(r,i){if(r&1&&(d(0,"ul",48,8),h(2,mc,2,2,"ng-template",49)(3,gc,3,6,"li",50),l()),r&2){let n=i.$implicit,e=i.options,t=p();an(e.contentStyle),c("ngClass",e.contentStyleClass),X("id",t.id+"_list")("aria-label",t.listLabel),a(2),c("ngForOf",n),a(),c("ngIf",!n||n&&n.length===0&&t.showEmptyMessage);}}function Cc(r,i){r&1&&te(0);}var Sc={provide:Oi,useExisting:Kt(()=>Ln),multi:!0},Ln=(()=>{let i=class i{document;el;renderer;cd;config;overlayService;zone;minLength=1;delay=300;style;panelStyle;styleClass;panelStyleClass;inputStyle;inputId;inputStyleClass;placeholder;readonly;disabled;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;maxlength;name;required;size;appendTo;autoHighlight;forceSelection;type="text";autoZIndex=!0;baseZIndex=0;ariaLabel;dropdownAriaLabel;ariaLabelledBy;dropdownIcon;unique=!0;group;completeOnFocus=!1;showClear=!1;field;dropdown;showEmptyMessage=!0;dropdownMode="blank";multiple;tabindex;dataKey;emptyMessage;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;autocomplete="off";optionGroupChildren="items";optionGroupLabel="label";overlayOptions;get suggestions(){return this._suggestions();}set suggestions(e){this._suggestions.set(e),this.handleSuggestionsChange();}get itemSize(){return this._itemSize;}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.");}optionLabel;optionValue;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!1;selectOnFocus;searchLocale;optionDisabled;focusOnHover;variant="outlined";completeMethod=new k();onSelect=new k();onUnselect=new k();onFocus=new k();onBlur=new k();onDropdownClick=new k();onClear=new k();onKeyUp=new k();onShow=new k();onHide=new k();onLazyLoad=new k();containerEL;inputEL;multiInputEl;multiContainerEL;dropdownButton;itemsViewChild;scroller;overlayViewChild;templates;_itemSize;itemsWrapper;itemTemplate;emptyTemplate;headerTemplate;footerTemplate;selectedItemTemplate;groupTemplate;loaderTemplate;removeIconTemplate;loadingIconTemplate;clearIconTemplate;dropdownIconTemplate;value;_suggestions=Qe(null);onModelChange=()=>{};onModelTouched=()=>{};timeout;overlayVisible;suggestionsUpdated;highlightOption;highlightOptionChanged;focused=!1;_filled;get filled(){return this._filled;}set filled(e){this._filled=e;}loading;scrollHandler;listId;searchTimeout;dirty=!1;modelValue=Qe(null);focusedMultipleOptionIndex=Qe(-1);focusedOptionIndex=Qe(-1);visibleOptions=ln(()=>this.group?this.flatOptions(this._suggestions()):this._suggestions()||[]);inputValue=ln(()=>{let e=this.modelValue(),t=this.getSelectedOption(e);if(e){if(typeof e=="object"||this.optionValue){let o=this.getOptionLabel(t);return o??e;}else return e;}else return"";});get focusedMultipleOptionId(){return this.focusedMultipleOptionIndex()!==-1?`${this.id}_multiple_option_${this.focusedMultipleOptionIndex()}`:null;}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null;}get containerClass(){return{"p-autocomplete p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-focus":this.focused,"p-autocomplete-dd":this.dropdown,"p-autocomplete-multiple":this.multiple,"p-inputwrapper-focus":this.focused,"p-overlay-open":this.overlayVisible};}get multiContainerClass(){return{"p-autocomplete-multiple-container p-component p-inputtext":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"};}get panelClass(){return{"p-autocomplete-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1};}get panelStyles(){return ne({"max-height":this.virtualScroll?"auto":this.scrollHeight},this.panelStyle);}get inputClass(){return{"p-autocomplete-input p-inputtext p-component":!this.multiple,"p-autocomplete-dd-input":this.dropdown,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"};}get searchResultMessageText(){return Z.isNotEmpty(this.visibleOptions())&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText;}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||"";}get emptySearchMessageText(){return this.emptyMessage||this.config.translation.emptySearchMessage||"";}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||"";}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||"";}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText;}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length;}get listLabel(){return this.config.getTranslation(co.ARIA).listLabel;}get virtualScrollerDisabled(){return!this.virtualScroll;}get optionValueSelected(){return typeof this.modelValue()=="string"&&this.optionValue;}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled&&!this.loading;}constructor(e,t,o,s,_,m,v){this.document=e,this.el=t,this.renderer=o,this.cd=s,this.config=_,this.overlayService=m,this.zone=v,qn(()=>{this.filled=Z.isNotEmpty(this.modelValue());});}ngOnInit(){this.id=this.id||so(),this.cd.detectChanges();}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlayViewChild&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay();},1),this.suggestionsUpdated=!1;});}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"removetokenicon":this.removeIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;default:this.itemTemplate=e.template;break;}});}handleSuggestionsChange(){if(this.loading){this._suggestions().length>0||this.showEmptyMessage?this.show():this.emptyTemplate?this.show():this.hide();let e=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(e),this.suggestionsUpdated=!0,this.loading=!1,this.cd.markForCheck();}}flatOptions(e){return(e||[]).reduce((t,o,s)=>{t.push({optionGroup:o,group:!0,index:s});let _=this.getOptionGroupChildren(o);return _&&_.forEach(m=>t.push(m)),t;},[]);}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group;}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e));}findLastOptionIndex(){return Z.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e));}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e;}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e;}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1;}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidOption(o)):-1;return t>-1?t+e+1:e;}findPrevOptionIndex(e){let t=e>0?Z.findLastIndex(this.visibleOptions().slice(0,e),o=>this.isValidOption(o)):-1;return t>-1?t:e;}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e);}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e));}isOptionDisabled(e){return this.optionDisabled?Z.resolveFieldData(e,this.optionDisabled):!1;}isSelected(e){return this.multiple?this.unique?this.modelValue()?.find(t=>Z.equals(t,this.getOptionValue(e),this.equalityKey())):!1:Z.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey());}isOptionMatched(e,t){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.searchLocale)===t.toLocaleLowerCase(this.searchLocale);}isInputClicked(e){return e.target===this.inputEL.nativeElement;}isDropdownClicked(e){return this.dropdownButton?.nativeElement?e.target===this.dropdownButton.nativeElement||this.dropdownButton.nativeElement.contains(e.target):!1;}equalityKey(){return this.dataKey;}onContainerClick(e){this.disabled||this.loading||this.isInputClicked(e)||this.isDropdownClicked(e)||(!this.overlayViewChild||!this.overlayViewChild.overlayViewChild?.nativeElement.contains(e.target))&&ye.focus(this.inputEL.nativeElement);}handleDropdownClick(e){let t;this.overlayVisible?this.hide(!0):(ye.focus(this.inputEL.nativeElement),t=this.inputEL.nativeElement.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,t,"dropdown")),this.onDropdownClick.emit({originalEvent:e,query:t});}onInput(e){this.searchTimeout&&clearTimeout(this.searchTimeout);let t=e.target.value;this.maxlength!==null&&(t=t.split("").slice(0,this.maxlength).join("")),!this.multiple&&!this.forceSelection&&this.updateModel(t),t.length===0&&!this.multiple&&!this.completeOnFocus?(this.onClear.emit(),this.hide()):t.length>=this.minLength?(this.focusedOptionIndex.set(-1),this.searchTimeout=setTimeout(()=>{this.search(e,t,"input");},this.delay)):this.hide();}onInputChange(e){if(this.forceSelection){let t=!1;if(this.visibleOptions()){let o=this.visibleOptions().find(s=>this.isOptionMatched(s,this.inputEL.nativeElement.value||""));o!==void 0&&(t=!0,!this.isSelected(o)&&this.onOptionSelect(e,o));}t||(this.inputEL.nativeElement.value="",!this.multiple&&this.updateModel(null));}}onInputFocus(e){if(this.disabled)return;!this.dirty&&this.completeOnFocus&&(this.search(e,e.target.value,"focus"),this.show()),this.dirty=!0,this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e);}onMultipleContainerFocus(e){this.disabled||(this.focused=!0);}onMultipleContainerBlur(e){this.focusedMultipleOptionIndex.set(-1),this.focused=!1;}onMultipleContainerKeyDown(e){if(this.disabled){e.preventDefault();return;}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break;default:break;}}onInputBlur(e){this.dirty=!1,this.focused=!1,this.focusedOptionIndex.set(-1),this.forceSelection||this.onModelTouched(),this.onBlur.emit(e);}onInputPaste(e){this.onKeyDown(e);}onInputKeyUp(e){this.onKeyUp.emit(e);}onKeyDown(e){if(this.disabled){e.preventDefault();return;}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break;case"ShiftLeft":case"ShiftRight":break;default:break;}}onArrowDownKey(e){if(!this.overlayVisible)return;let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t),e.preventDefault(),e.stopPropagation();}onArrowUpKey(e){if(this.overlayVisible)if(e.altKey)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let t=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,t),e.preventDefault(),e.stopPropagation();}}onArrowLeftKey(e){let t=e.currentTarget;this.focusedOptionIndex.set(-1),this.multiple&&(Z.isEmpty(t.value)&&this.hasSelectedOption()?(ye.focus(this.multiContainerEL.nativeElement),this.focusedMultipleOptionIndex.set(this.modelValue().length)):e.stopPropagation());}onArrowRightKey(e){this.focusedOptionIndex.set(-1),this.multiple&&e.stopPropagation();}onHomeKey(e){let{currentTarget:t}=e,o=t.value.length;t.setSelectionRange(0,e.shiftKey?o:0),this.focusedOptionIndex.set(-1),e.preventDefault();}onEndKey(e){let{currentTarget:t}=e,o=t.value.length;t.setSelectionRange(e.shiftKey?0:o,o),this.focusedOptionIndex.set(-1),e.preventDefault();}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault();}onPageUpKey(e){this.scrollInView(0),e.preventDefault();}onEnterKey(e){this.overlayVisible?(this.focusedOptionIndex()!==-1&&(this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),e.preventDefault()),this.hide()):this.onArrowDownKey(e);}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault();}onTabKey(e){this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide();}onBackspaceKey(e){if(this.multiple){if(Z.isNotEmpty(this.modelValue())&&!this.inputEL.nativeElement.value){let t=this.modelValue()[this.modelValue().length-1],o=this.modelValue().slice(0,-1);this.updateModel(o),this.onUnselect.emit({originalEvent:e,value:t});}e.stopPropagation();}}onArrowLeftKeyOnMultiple(e){let t=this.focusedMultipleOptionIndex()<1?0:this.focusedMultipleOptionIndex()-1;this.focusedMultipleOptionIndex.set(t);}onArrowRightKeyOnMultiple(e){let t=this.focusedMultipleOptionIndex();t++,this.focusedMultipleOptionIndex.set(t),t>this.modelValue().length-1&&(this.focusedMultipleOptionIndex.set(-1),ye.focus(this.inputEL.nativeElement));}onBackspaceKeyOnMultiple(e){this.focusedMultipleOptionIndex()!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex());}onOptionSelect(e,t,o=!0){let s=this.getOptionValue(t);this.multiple?(this.inputEL.nativeElement.value="",this.isSelected(t)||this.updateModel([...(this.modelValue()||[]),s])):this.updateModel(s),this.onModelTouched(),this.onSelect.emit({originalEvent:e,value:t}),o&&this.hide(!0);}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t);}search(e,t,o){t!=null&&(o==="input"&&t.trim().length<this.minLength||(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:t})));}removeOption(e,t){e.stopPropagation();let o=this.modelValue()[t],s=this.modelValue().filter((_,m)=>m!==t).map(_=>this.getOptionValue(_));this.updateModel(s),this.onUnselect.emit({originalEvent:e,value:o}),ye.focus(this.inputEL.nativeElement);}updateModel(e){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.updateInputValue(),this.cd.markForCheck();}updateInputValue(){this.inputEL&&this.inputEL.nativeElement&&(this.multiple?this.inputEL.nativeElement.value="":this.inputEL.nativeElement.value=this.inputValue());}autoUpdateModel(){if((this.selectOnFocus||this.autoHighlight)&&this.autoOptionFocus&&!this.hasSelectedOption()){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1);}}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let o=ye.findSingle(this.itemsViewChild.nativeElement,`li[id="${t}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex());},0);}}changeFocusedOptionIndex(e,t){this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions()[t],!1));}show(e=!1){this.dirty=!0,this.overlayVisible=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),e&&ye.focus(this.inputEL.nativeElement),e&&ye.focus(this.inputEL.nativeElement),this.onShow.emit(),this.cd.markForCheck();}hide(e=!1){let t=()=>{this.dirty=e,this.overlayVisible=!1,this.focusedOptionIndex.set(-1),e&&ye.focus(this.inputEL.nativeElement),this.onHide.emit(),this.cd.markForCheck();};this.virtualScroll&&this.scroller.onScrollChange(event),setTimeout(()=>{t();},0);}clear(){this.updateModel(null),this.inputEL.nativeElement.value="",this.onClear.emit();}writeValue(e){this.value=e,this.modelValue.set(e),this.updateInputValue(),this.cd.markForCheck();}hasSelectedOption(){return Z.isNotEmpty(this.modelValue());}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1;}getOptionLabel(e){return this.field||this.optionLabel?Z.resolveFieldData(e,this.field||this.optionLabel):e&&e.label!=null?e.label:e;}getOptionValue(e){return this.optionValue?Z.resolveFieldData(e,this.optionValue):e;}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index;}getOptionGroupLabel(e){return this.optionGroupLabel?Z.resolveFieldData(e,this.optionGroupLabel):e&&e.label!=null?e.label:e;}getOptionGroupChildren(e){return this.optionGroupChildren?Z.resolveFieldData(e,this.optionGroupChildren):e.items;}getSelectedOption(e){return this.optionValue?(this.suggestions||[]).find(t=>Z.resolveFieldData(t,this.optionValue)===e):e;}getMultipleLabel(e){let t=this.getSelectedOption(e);return this.getOptionLabel(t);}registerOnChange(e){this.onModelChange=e;}registerOnTouched(e){this.onModelTouched=e;}setDisabledState(e){this.disabled=e,this.cd.markForCheck();}onOverlayAnimationStart(e){if(e.toState==="visible"&&(this.itemsWrapper=ye.findSingle(this.overlayViewChild.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-autocomplete-panel"),this.virtualScroll&&(this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.scroller.viewInit()),this.visibleOptions()&&this.visibleOptions().length))if(this.virtualScroll){let t=this.modelValue()?this.focusedOptionIndex():-1;t!==-1&&this.scroller?.scrollToIndex(t);}else{let t=ye.findSingle(this.itemsWrapper,".p-autocomplete-item.p-highlight");t&&t.scrollIntoView({block:"nearest",inline:"center"});}}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null);}};f(i,"\u0275fac",function(t){return new(t||i)(Ze(Ot),Ze(Rt),Ze(rn),Ze(wt),Ze(lo),Ze(ao),Ze(Ge));}),f(i,"\u0275cmp",O({type:i,selectors:[["p-autoComplete"]],contentQueries:function(t,o,s){if(t&1&&Xn(s,Se,4),t&2){let _;Oe(_=Pe())&&(o.templates=_);}},viewQuery:function(t,o){if(t&1&&(xe(ul,5),xe(hl,5),xe(gl,5),xe(fl,5),xe(Cl,5),xe(Sl,5),xe(yl,5),xe(vl,5)),t&2){let s;Oe(s=Pe())&&(o.containerEL=s.first),Oe(s=Pe())&&(o.inputEL=s.first),Oe(s=Pe())&&(o.multiInputEl=s.first),Oe(s=Pe())&&(o.multiContainerEL=s.first),Oe(s=Pe())&&(o.dropdownButton=s.first),Oe(s=Pe())&&(o.itemsViewChild=s.first),Oe(s=Pe())&&(o.scroller=s.first),Oe(s=Pe())&&(o.overlayViewChild=s.first);}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,o){t&2&&At("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused&&!o.disabled||o.autofocus||o.overlayVisible)("p-autocomplete-clearable",o.showClear&&!o.disabled);},inputs:{minLength:[2,"minLength","minLength",Ae],delay:[2,"delay","delay",Ae],style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:[2,"readonly","readonly",V],disabled:[2,"disabled","disabled",V],scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",V],virtualScroll:[2,"virtualScroll","virtualScroll",V],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Ae],virtualScrollOptions:"virtualScrollOptions",maxlength:[2,"maxlength","maxlength",e=>Ae(e,null)],name:"name",required:[2,"required","required",V],size:[2,"size","size",Ae],appendTo:"appendTo",autoHighlight:[2,"autoHighlight","autoHighlight",V],forceSelection:[2,"forceSelection","forceSelection",V],type:"type",autoZIndex:[2,"autoZIndex","autoZIndex",V],baseZIndex:[2,"baseZIndex","baseZIndex",Ae],ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:[2,"unique","unique",V],group:[2,"group","group",V],completeOnFocus:[2,"completeOnFocus","completeOnFocus",V],showClear:[2,"showClear","showClear",V],field:"field",dropdown:[2,"dropdown","dropdown",V],showEmptyMessage:[2,"showEmptyMessage","showEmptyMessage",V],dropdownMode:"dropdownMode",multiple:[2,"multiple","multiple",V],tabindex:[2,"tabindex","tabindex",Ae],dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",V],autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",overlayOptions:"overlayOptions",suggestions:"suggestions",itemSize:"itemSize",optionLabel:"optionLabel",optionValue:"optionValue",id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",V],selectOnFocus:[2,"selectOnFocus","selectOnFocus",V],searchLocale:[2,"searchLocale","searchLocale",V],optionDisabled:"optionDisabled",focusOnHover:[2,"focusOnHover","focusOnHover",V],variant:"variant"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},standalone:!1,features:[et([Sc])],decls:18,vars:24,consts:[["container",""],["overlay",""],["buildInItems",""],["focusInput",""],["multiContainer",""],["token",""],["ddBtn",""],["scroller",""],["items",""],["empty",""],[3,"click","ngClass","ngStyle"],["pAutoFocus","","aria-autocomplete","list","role","combobox",3,"autofocus","ngClass","ngStyle","class","type","autocomplete","required","name","tabindex","readonly","disabled","input","keydown","change","focus","blur","paste","keyup",4,"ngIf"],[4,"ngIf"],["role","listbox",3,"ngClass","tabindex","focus","blur","keydown",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown p-button-icon-only","pRipple","",3,"disabled","click",4,"ngIf"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],["pAutoFocus","","aria-autocomplete","list","role","combobox",3,"input","keydown","change","focus","blur","paste","keyup","autofocus","ngClass","ngStyle","type","autocomplete","required","name","tabindex","readonly","disabled"],[3,"styleClass","click",4,"ngIf"],["class","p-autocomplete-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-autocomplete-clear-icon",3,"click"],["role","listbox",3,"focus","blur","keydown","ngClass","tabindex"],["role","option",3,"ngClass",4,"ngFor","ngForOf"],["role","option",1,"p-autocomplete-input-token"],["pAutoFocus","","role","combobox","aria-autocomplete","list",3,"input","keydown","change","focus","blur","paste","keyup","autofocus","ngClass","ngStyle","autocomplete","required","tabindex","readonly","disabled"],["role","option",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],[1,"p-autocomplete-token-icon",3,"click"],[3,"styleClass",4,"ngIf"],["class","p-autocomplete-token-icon",4,"ngIf"],[1,"p-autocomplete-token-label"],[3,"styleClass"],[1,"p-autocomplete-token-icon"],[3,"styleClass","spin",4,"ngIf"],["class","p-autocomplete-loader pi-spin ",4,"ngIf"],[3,"styleClass","spin"],[1,"p-autocomplete-loader","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-autocomplete-items",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-autocomplete-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-autocomplete-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-autocomplete-item",3,"mousedown","mouseenter","ngStyle","ngClass"],["role","option",1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"]],template:function(t,o){if(t&1){let s=T();d(0,"div",10,0),M("click",function(m){return S(s),y(o.onContainerClick(m));}),h(2,Tl,2,23,"input",11)(3,wl,3,2,"ng-container",12)(4,kl,6,27,"ul",13)(5,Ul,3,2,"ng-container",12)(6,Ql,4,5,"button",14),d(7,"p-overlay",15,1),ae("visibleChange",function(m){return S(s),se(o.overlayVisible,m)||(o.overlayVisible=m),y(m);}),M("onAnimationStart",function(m){return S(s),y(o.onOverlayAnimationStart(m));})("onHide",function(){return S(s),y(o.hide());}),d(9,"div",16),h(10,Zl,1,0,"ng-container",17)(11,oc,4,10,"p-scroller",18)(12,sc,2,6,"ng-container",12)(13,fc,4,7,"ng-template",null,2,tt)(15,Cc,1,0,"ng-container",17),l(),d(16,"span",19),E(17),l()()();}t&2&&(Zt(o.styleClass),c("ngClass",o.containerClass)("ngStyle",o.style),a(2),c("ngIf",!o.multiple),a(),c("ngIf",o.isVisibleClearIcon),a(),c("ngIf",o.multiple),a(),c("ngIf",o.loading),a(),c("ngIf",o.dropdown),a(),re("visible",o.overlayVisible),c("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions),a(2),Zt(o.panelStyleClass),c("ngClass",o.panelClass)("ngStyle",o.panelStyles),a(),c("ngTemplateOutlet",o.headerTemplate),a(),c("ngIf",o.virtualScroll),a(),c("ngIf",!o.virtualScroll),a(3),c("ngTemplateOutlet",o.footerTemplate),a(2),A(" ",o.selectedMessageText," "));},dependencies:()=>[G,le,w,Ii,Qn,Io,Se,ko,_o,Oo,Eo,mn,Cn,pn,yn],styles:[`@layer primeng{.p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{position:absolute;top:50%;margin-top:-.5rem}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-top-right-radius:0;border-bottom-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-top-left-radius:0;border-bottom-left-radius:0}.p-autocomplete-panel{overflow:auto}.p-autocomplete-items{margin:0;padding:0;list-style-type:none}.p-autocomplete-item{cursor:pointer;white-space:nowrap;position:relative;overflow:hidden}.p-autocomplete-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-autocomplete-token{width:fit-content;cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-autocomplete-token-icon{display:flex;cursor:pointer}.p-autocomplete-input-token{flex:1 1 auto;display:inline-flex}.p-autocomplete-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}.p-autocomplete-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-autocomplete-clearable{position:relative}}
`],encapsulation:2,changeDetection:0}));let r=i;return r;})(),cs=(()=>{let i=class i{};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275mod",Si({type:i})),f(i,"\u0275inj",Ci({imports:[it,fn,Yo,zo,Te,po,Sn,gn,mn,Cn,pn,yn,fn,Te,Sn,gn]}));let r=i;return r;})();var vc=["modal"];function Mc(r,i){if(r&1&&(d(0,"div",16),E(1),l()),r&2){let n=p(2);a(),A(" ",n.formErrors.username," ");}}function Ec(r,i){if(r&1){let n=T();d(0,"div",3)(1,"h4",4),C(2,1),l(),d(3,"button",5),M("click",function(){let t=S(n).dismiss;return y(t());}),g(4,"my-global-icon",6),l()(),d(5,"div",7)(6,"div",8)(7,"label",9),C(8,2),l(),d(9,"p-autoComplete",10),M("completeMethod",function(t){S(n);let o=p();return y(o.search(t));}),l(),h(10,Mc,2,1,"div",11),l()(),d(11,"div",12)(12,"div",13)(13,"input",14),M("click",function(){let t=S(n).dismiss;return y(t());})("key.enter",function(){let t=S(n).dismiss;return y(t());}),l(),d(14,"input",15),M("click",function(){let t=S(n).close;return y(t());}),l()()();}if(r&2){let n=p();a(5),c("formGroup",n.form),a(4),c("suggestions",n.usernamePropositions),a(),c("ngIf",n.formErrors.username),a(4),c("disabled",!n.form.valid);}}var ds=(()=>{let i=class i extends _t{formReactiveService=u(Ve);videoOwnershipService=u(Bt);notifier=u(N);userService=u(xi);modalService=u(bi);modal=ge("modal");usernamePropositions;error=null;video=void 0;ngOnInit(){this.buildForm({username:Sr}),this.usernamePropositions=[];}show(e){this.video=e,this.modalService.open(this.modal(),{centered:!0}).result.then(()=>this.changeOwnership()).catch(t=>t);}search(e){let t=e.query;this.userService.autocomplete(t).subscribe({next:o=>{this.usernamePropositions=o;},error:o=>this.notifier.error(o.message)});}changeOwnership(){let e=this.form.value.username;this.videoOwnershipService.changeOwnership(this.video.id,e).subscribe({next:()=>this.notifier.success("mi toki e wile ni tawa ona."),error:t=>this.notifier.error(t.message)});}};f(i,"\u0275fac",(()=>{let e;return function(o){return(e||(e=W(i)))(o||i);};})()),f(i,"\u0275cmp",O({type:i,selectors:[["my-video-change-ownership"]],viewQuery:function(t,o){t&1&&Ce(o.modal,vc,5),t&2&&oe();},features:[U],decls:2,vars:0,consts:()=>{let e;e="Close this modal";let t;t="o pana ala";let o;o="o pana";let s;s="o ante e lawa";let _;return _="jan seme o kama lawa?",[["modal",""],s,_,[1,"modal-header"],[1,"modal-title"],["title",e,1,"border-0","p-0",3,"click"],["iconName","cross"],[1,"modal-body",3,"formGroup"],[1,"form-group"],["for","next-ownership-username"],["formControlName","username","id","next-ownership-username",3,"completeMethod","suggestions"],["class","form-error","role","alert",4,"ngIf"],[1,"modal-footer"],[1,"inputs"],["type","button","role","button","value",t,1,"peertube-button","secondary-button",3,"click","key.enter"],["type","submit","value",o,1,"peertube-button","primary-button",3,"click","disabled"],["role","alert",1,"form-error"]];},template:function(t,o){t&1&&h(0,Ec,15,4,"ng-template",null,0,tt);},dependencies:[Fe,K,j,Ne,Ye,De,Le,cs,Ln,w],styles:[`p-autocomplete[_ngcontent-%COMP%]{display:block}
/*# sourceMappingURL=video-change-ownership.component-QFCRVR3G.css.map */`]}));let r=i;return r;})();var Ic=["videoChangeOwnershipModal"],Oc=r=>({loading:r}),Pc=r=>["/videos","manage",r],Tc=()=>[],bc=r=>["/w/p/",r],Rc=r=>["/videos/manage",r,"stats"],xc=(r,i)=>i.id;function Ac(r,i){if(r&1){let n=T();d(0,"my-channel-toggle",25),ae("ngModelChange",function(t){let o=S(n).$implicit;return se(o.selected,t)||(o.selected=t),y(t);}),M("ngModelChange",function(){S(n);let t=p();return y(t.onFilter());}),l();}if(r&2){let n=i.$implicit;c("channel",n),re("ngModel",n.selected);}}function wc(r,i){if(r&1&&g(0,"my-action-dropdown",28),r&2){let n=p(2);c("actions",n.bulkActions)("entry",n.selectedRows);}}function Nc(r,i){if(r&1&&(d(0,"strong",29),C(1,5),ue(2,"myNumberFormatter"),l()),r&2){let n=p(2);c("hidden",n.loading),a(2),_e(n.totalRecords)(ii(2,3,n.totalRecords)),pe(1);}}function Dc(r,i){if(r&1){let n=T();d(0,"div",26)(1,"div",27),h(2,wc,1,2,"my-action-dropdown",28)(3,Nc,3,5,"strong",29),l(),d(4,"div",30)(5,"div",31)(6,"label",32),C(7,3),l(),d(8,"my-advanced-input-filter",33),M("search",function(t){S(n);let o=p();return y(o.onSearch(t));}),l()(),d(9,"div",31)(10,"label",34),C(11,4),l(),d(12,"my-select-checkbox",35),ae("ngModelChange",function(t){S(n);let o=p();return se(o.selectedFilterItems,t)||(o.selectedFilterItems=t),y(t);}),M("ngModelChange",function(){S(n);let t=p();return y(t.onFilter());}),l()()()();}if(r&2){let n=p();a(2),fe(n.isInSelectionMode()?2:3),a(10),c("availableItems",n.filterItems)("selectableGroup",!1),re("ngModel",n.selectedFilterItems);}}function Lc(r,i){r&1&&g(0,"my-button",36);}function Yc(r,i){r&1&&g(0,"my-button",37);}function Vc(r,i){r&1&&g(0,"my-button",38);}function Fc(r,i){if(r&1&&h(0,Lc,1,0,"my-button",36)(1,Yc,1,0,"my-button",37)(2,Vc,1,0,"my-button",38),r&2){let n=i.$implicit;fe(n===1?0:n===-1?1:n===0?2:-1);}}function $c(r,i){r&1&&(D(0),C(1,6),L());}function kc(r,i){if(r&1&&(d(0,"th",57),E(1),g(2,"p-sortIcon",58),l()),r&2){let n=p(2);c("ngbTooltip",n.sortTooltip),a(),A("",n.getColumn("duration").label," ");}}function zc(r,i){if(r&1&&(d(0,"th",59),E(1),g(2,"p-sortIcon",60),l()),r&2){let n=p(2);c("ngbTooltip",n.sortTooltip),a(),A("",n.getColumn("name").label," ");}}function Bc(r,i){if(r&1&&(d(0,"th",61),E(1),l()),r&2){let n=p(2);a(),P(n.getColumn("privacy").label);}}function Gc(r,i){if(r&1&&(d(0,"th",61),E(1),l()),r&2){let n=p(2);a(),P(n.getColumn("sensitive").label);}}function Hc(r,i){if(r&1&&(d(0,"th",61),E(1),l()),r&2){let n=p(2);a(),P(n.getColumn("playlists").label);}}function Uc(r,i){if(r&1&&(d(0,"th",62),E(1),g(2,"p-sortIcon",63),l()),r&2){let n=p(2);c("ngbTooltip",n.sortTooltip),a(),A("",n.getColumn("insights").label," ");}}function Wc(r,i){if(r&1&&(d(0,"th",64),E(1),g(2,"p-sortIcon",65),l()),r&2){let n=p(2);c("ngbTooltip",n.sortTooltip),a(),A("",n.getColumn("comments").label," ");}}function Xc(r,i){if(r&1&&(d(0,"th",66),q(1,8),g(2,"p-sortIcon",67),Q(),l()),r&2){let n=p(2);c("ngbTooltip",n.sortTooltip),a(2),_e(n.getColumn("published").label),pe(1);}}function jc(r,i){if(r&1&&(d(0,"th",61),E(1),l()),r&2){let n=p(2);a(),P(n.getColumn("state").label);}}function Kc(r,i){if(r&1){let n=T();d(0,"div",56)(1,"my-peertube-checkbox",68),ae("ngModelChange",function(t){let o=S(n).$implicit;return se(o.selected,t)||(o.selected=t),y(t);}),M("ngModelChange",function(){S(n);let t=p(2);return y(t.saveSelectedColumns());}),l()();}if(r&2){let n=i.$implicit;a(),c("inputName","column-"+n.id),re("ngModel",n.selected),c("labelText",n.label);}}function qc(r,i){if(r&1&&(d(0,"tr")(1,"th",39),g(2,"p-tableHeaderCheckbox",40),l(),h(3,kc,3,2,"th",41)(4,zc,3,2,"th",42)(5,Bc,2,1,"th",43)(6,Gc,2,1,"th",43)(7,Hc,2,1,"th",43)(8,Uc,3,2,"th",44)(9,Wc,3,2,"th",45)(10,Xc,3,2,"th",46)(11,jc,2,1,"th",43),d(12,"th",47)(13,"div",48)(14,"span",49),E(15,"Actions"),l(),d(16,"span",50)(17,"div",51,1),g(19,"my-button",52),d(20,"div",53)(21,"div",54)(22,"div",55),C(23,7),l(),Jt(24,Kc,2,3,"div",56,vi),l()()()()()()()),r&2){let n=me(18),e=p();a(3),c("ngIf",e.isSelected("duration")),a(),c("ngIf",e.isSelected("name")),a(),c("ngIf",e.isSelected("privacy")),a(),c("ngIf",e.isSelected("sensitive")),a(),c("ngIf",e.isSelected("playlists")),a(),c("ngIf",e.isSelected("insights")),a(),c("ngIf",e.isSelected("comments")),a(),c("ngIf",e.isSelected("published")),a(),c("ngIf",e.isSelected("state")),a(8),c("show",n.isOpen()),a(5),ei(e.columns);}}function Qc(r,i){if(r&1&&(d(0,"td"),g(1,"my-video-cell",77),l()),r&2){let n=p().$implicit;a(),c("video",n);}}function Zc(r,i){if(r&1&&(d(0,"td"),g(1,"my-video-cell",78),l()),r&2){let n=p().$implicit;a(),c("video",n);}}function Jc(r,i){if(r&1&&(d(0,"span",82),C(1,9),l()),r&2){let n=p(2).$implicit;c("ngbTooltip",n.blacklistedReason);}}function ed(r,i){if(r&1&&(d(0,"td")(1,"div",79),g(2,"my-video-privacy-badge",80),h(3,Jc,2,1,"span",81),l()()),r&2){let n=p().$implicit;a(2),c("video",n),a(),c("ngIf",n.blacklisted);}}function td(r,i){if(r&1&&(d(0,"td"),g(1,"my-video-nsfw-badge",80),l()),r&2){let n=p().$implicit;a(),c("video",n);}}function id(r,i){if(r&1&&(d(0,"a",85),E(1),l()),r&2){let n=i.$implicit;c("routerLink",R(2,bc,n.playlistShortUUID)),a(),A(" ",n.playlistDisplayName," ");}}function nd(r,i){if(r&1&&(d(0,"td")(1,"div",83),h(2,id,2,4,"a",84),l()()),r&2){let n=p().$implicit,e=p();a(2),c("ngForOf",e.videosContainedInPlaylists[n.id]||Mi(1,Tc));}}function od(r,i){if(r&1&&(D(0),C(1,11),ue(2,"myNumberFormatter"),L()),r&2){let n=p(2).$implicit;a(2),_e(n.viewers)(ii(2,2,n.views)),pe(1);}}function rd(r,i){if(r&1&&(d(0,"td")(1,"a",86),D(2),C(3,10),ue(4,"myNumberFormatter"),L(),g(5,"br"),h(6,od,3,4,"ng-container"),l()()),r&2){let n=p().$implicit;a(),c("routerLink",R(6,Rc,n.shortUUID)),a(3),_e(n.views)(ii(4,4,n.views)),pe(3),a(2),fe(n.isLive?6:-1);}}function sd(r,i){if(r&1&&(d(0,"td")(1,"span"),C(2,12),ue(3,"myNumberFormatter"),l()()),r&2){let n=p().$implicit;a(3),_e(n.comments)(ii(3,2,n.comments)),pe(2);}}function ad(r,i){if(r&1&&(d(0,"td"),E(1),ue(2,"ptDate"),l()),r&2){let n=p().$implicit;a(),A(" ",Ue(2,1,n.publishedAt,"short")," ");}}function ld(r,i){if(r&1&&(d(0,"td"),g(1,"my-video-state-badge",80),l()),r&2){let n=p().$implicit;a(),c("video",n);}}function cd(r,i){if(r&1){let n=T();d(0,"tr",69)(1,"td",70),g(2,"p-tableCheckbox",71),l(),h(3,Qc,2,1,"td",72)(4,Zc,2,1,"td",72)(5,ed,4,2,"td",72)(6,td,2,1,"td",72)(7,nd,3,2,"td",72)(8,rd,7,8,"td",72)(9,sd,4,4,"td",72)(10,ad,3,4,"td",72)(11,ld,2,1,"td",72),d(12,"td",73)(13,"div",74),g(14,"my-button",75),d(15,"my-video-actions-dropdown",76),M("videoRemoved",function(){S(n);let t=p();return y(t.reloadData());})("videoFilesRemoved",function(){S(n);let t=p();return y(t.reloadData());})("transcodingCreated",function(){S(n);let t=p();return y(t.reloadData());})("videoExistsInPlaylistChange",function(){let t=S(n).$implicit,o=p();return y(o.fetchVideosContainedInPlaylists([t]));}),l()()()();}if(r&2){let n=i.$implicit,e=p();c("pSelectableRow",n),a(2),c("value",n),a(),c("ngIf",e.isSelected("duration")),a(),c("ngIf",e.isSelected("name")),a(),c("ngIf",e.isSelected("privacy")),a(),c("ngIf",e.isSelected("sensitive")),a(),c("ngIf",e.isSelected("playlists")),a(),c("ngIf",e.isSelected("insights")),a(),c("ngIf",e.isSelected("comments")),a(),c("ngIf",e.isSelected("published")),a(),c("ngIf",e.isSelected("state")),a(3),c("ptRouterLink",R(15,Pc,n.shortUUID)),a(),c("video",n)("displayOptions",e.videoActionsOptions)("moreActions",e.moreVideoActions);}}function dd(r,i){r&1&&(D(0),C(1,13),L());}function _d(r,i){r&1&&(D(0),C(1,14),L());}function pd(r,i){if(r&1&&(d(0,"tr")(1,"td",87)(2,"div",88),h(3,dd,2,0,"ng-container",72)(4,_d,2,0,"ng-container",72),l()()()),r&2){let n=p();a(3),c("ngIf",n.search),a(),c("ngIf",!n.search);}}var md=(0,_s.default)("peertube:my-videos"),ps=(()=>{let i=class i extends lt{route=u(nt);router=u(we);confirmService=u(ct);auth=u(H);notifier=u(N);videoService=u(wo);playlistService=u(Me);server=u(ve);peertubeLocalStorage=u(fo);peertubeRouter=u(So);headerService=u(Mo);videoChangeOwnershipModal=ge("videoChangeOwnershipModal");videos=[];totalRecords=0;sort={field:"publishedAt",order:-1};rowsPerPage=5;pagination={count:this.rowsPerPage,start:0};videosContainedInPlaylists={};bulkActions=[];videoActionsOptions={playlist:!0,download:!0,update:!1,blacklist:!1,delete:!0,report:!1,duplicate:!1,mute:!1,liveInfo:!0,removeFiles:!1,transcoding:!1};moreVideoActions=[];loading=!0;user;channels=[];filterItems=[];selectedFilterItems=[];columns=[];get serverConfig(){return this.server.getHTMLConfig();}ngOnInit(){this.initialize(),this.headerService.setSearchHidden(!0),this.user=this.auth.getUser(),this.columns=[{id:"duration",label:"suli tenpo",selected:!0},{id:"name",label:"nimi",selected:!0},{id:"privacy",label:"wawa len",selected:!0},{id:"sensitive",label:"ijo pi ken ike",selected:!0},{id:"playlists",label:"kulupu sitelen",selected:!0},{id:"insights",label:"Insights",selected:!0},{id:"comments",label:"toki anpa",selected:!0},{id:"published",label:"pana lon",selected:!0},{id:"state",label:"pali li awen anu pini anu seme",selected:!0}],this.filterItems=[{id:"live",label:"Lives"},{id:"vod",label:"tenpo sama"},{id:"public",label:"Public videos"},{id:"internal",label:"Internal videos"},{id:"unlisted",label:"Unlisted videos"},{id:"password-protected",label:"Password protected videos"},{id:"private",label:"Private videos"}],this.subscribeToQueryChanges(),this.buildActions(),this.loadSelectedColumns();}ngOnDestroy(){this.headerService.setSearchHidden(!1);}subscribeToQueryChanges(){this.route.queryParams.subscribe(e=>{this.parseQueryParams(e);});}parseQueryParams(e){md("Parse query params",{queryParams:e});{let t=e.channelNameOneOf?new Set(Ti(e.channelNameOneOf)):new Set();this.user=this.auth.getUser(),this.channels=this.user.videoChannels.map(o=>Re(ne({},o),{selected:t.has(o.name)}));}{this.selectedFilterItems=[];let t=Ti(e.videoType);t.includes("live")&&this.selectedFilterItems.push("live"),t.includes("vod")&&this.selectedFilterItems.push("vod");let o=e.privacyOneOf?new Set(Ti(e.privacyOneOf).map(s=>parseInt(s))):new Set();o.has(de.PUBLIC)&&this.selectedFilterItems.push("public"),o.has(de.INTERNAL)&&this.selectedFilterItems.push("internal"),o.has(de.UNLISTED)&&this.selectedFilterItems.push("unlisted"),o.has(de.PASSWORD_PROTECTED)&&this.selectedFilterItems.push("password-protected"),o.has(de.PRIVATE)&&this.selectedFilterItems.push("private");}e.start!==void 0&&(this.pagination.start=+e.start),e.count!==void 0&&(this.pagination.count=this.rowsPerPage=+e.count),e.sortOrder!==void 0&&(this.sort.order=+e.sortOrder),e.sortField!==void 0&&(this.sort.field=e.sortField),e.search!==void 0&&(this.search=e.search),this.reloadData();}loadLazy(e){this.parseLazy(e)&&(this.updateUrl(),this.saveSort());}getIdentifier(){return"MyVideosComponent";}isSelected(e){return this.columns.some(t=>t.id===e&&t.selected);}getColumn(e){return this.columns.find(t=>t.id===e);}loadSelectedColumns(){let e=this.peertubeLocalStorage.getItem(i.LS_SELECTED_COLUMNS_KEY);if(e)try{let t=JSON.parse(e);for(let o of this.columns)o.selected=t.includes(o.id);}catch(t){Ri.error("Cannot load selected columns.",t);}}saveSelectedColumns(){let e=this.columns.filter(t=>t.selected).map(t=>t.id);this.peertubeLocalStorage.setItem(i.LS_SELECTED_COLUMNS_KEY,JSON.stringify(e));}onSearch(e){this.search=e,this.sort={field:"match",order:-1},this.onFilter();}onFilter(){this.resetPagination(),this.updateUrl();}updateUrl(){let e=this.channels.filter(o=>o.selected).map(o=>o.name),t=Re(ne(ne({},this.route.snapshot.queryParams),_n(this.buildCommonVideoFilters(),["privacyOneOf","videoType"])),{search:this.search,channelNameOneOf:e,start:this.pagination.start,count:this.pagination.count,sortOrder:this.sort.order,sortField:this.sort.field});this.peertubeRouter.silentNavigate(["."],t,this.route);}buildCommonVideoFilters(){let e=new Set(this.selectedFilterItems),t,o=[];e.has("live")&&(o.push("live"),e.has("vod")||(t=!0)),e.has("vod")&&(o.push("vod"),e.has("live")||(t=!1));let s=[];return e.has("public")&&s.push(de.PUBLIC),e.has("internal")&&s.push(de.INTERNAL),e.has("unlisted")&&s.push(de.UNLISTED),e.has("password-protected")&&s.push(de.PASSWORD_PROTECTED),e.has("private")&&s.push(de.PRIVATE),{isLive:t,videoType:o,privacyOneOf:s};}reloadDataInternal(){this.loading=!0;let e=this.channels.filter(t=>t.selected).map(t=>t.name);return this.videoService.listMyVideos(ne({restPagination:this.pagination,sort:this.sort,search:this.search,channelNameOneOf:e.length!==0?e:void 0},_n(this.buildCommonVideoFilters(),["isLive","privacyOneOf"]))).pipe(Hn(()=>this.loading=!1)).subscribe({next:t=>{this.videos=t.data,this.totalRecords=t.total,this.fetchVideosContainedInPlaylists(t.data);},error:t=>this.notifier.error(t.message)});}fetchVideosContainedInPlaylists(e){this.playlistService.doVideosExistInPlaylist(e.map(t=>t.id)).subscribe(t=>{this.videosContainedInPlaylists=Object.keys(t).reduce((o,s)=>Re(ne({},o),{[s]:uo(t[+s],_=>_.playlistId)}),this.videosContainedInPlaylists);});}removeVideos(e){return Ke(this,null,function*(){let t=Xe("Are you sure you want to delete {count, plural, =1 {this video} other {these {count} videos}}?",{count:e.length});(yield this.confirmService.confirm(t,"o weka"))!==!1&&this.videoService.removeVideo(e.map(s=>s.id)).subscribe({next:()=>{this.notifier.success(Xe("Deleted {count, plural, =1 {1 video} other {{count} videos}}.",{count:e.length})),this.reloadData();},error:s=>this.notifier.error(s.message)});});}changeOwnership(e){this.videoChangeOwnershipModal().show(e);}buildActions(){this.moreVideoActions=[[{label:"o ante e lawa",handler:({video:e})=>this.changeOwnership(e),iconName:"ownership-change"}]],this.bulkActions=[[{label:"o weka",handler:e=>this.removeVideos(e),iconName:"delete"}]];}};f(i,"LS_SELECTED_COLUMNS_KEY","user-my-videos-selected-columns"),f(i,"\u0275fac",(()=>{let e;return function(o){return(e||(e=W(i)))(o||i);};})()),f(i,"\u0275cmp",O({type:i,selectors:[["my-videos"]],viewQuery:function(t,o){t&1&&Ce(o.videoChangeOwnershipModal,Ic,5),t&2&&oe();},features:[U],decls:14,vars:19,consts:()=>{let e;e="Per channel:";let t;t="pali pi ijo mute";let o;o="Search your videos";let s;s="sitelen ale";let _;_="o alasa";let m;m="wile alasa";let v;v="",v=ti(v,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let I;I="\n          "+v+"\n        ";let b;b="videos per page";let Y;Y="o luka e ale";let he;he="Open table configuration";let F;F="Column displayed:";let ci;ci="\n          "+"\uFFFD0\uFFFD"+"\n          "+"\uFFFD#2\uFFFD"+"\n          "+"\uFFFD/#2\uFFFD"+"\n        ";let J;J="o luka e ni";let di;di="Manage";let Wt;Wt="len";let Pt;Pt="Navigate to the video stats page";let vt;vt="{VAR_PLURAL, plural, =0 {No views} =1 {1 view} other {{INTERPOLATION} views}}",vt=ti(vt,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let Mt;Mt="{VAR_PLURAL, plural, =0 {No viewers} =1 {1 viewer} other {{INTERPOLATION} viewers}}",Mt=ti(Mt,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let _i;_i="{VAR_PLURAL, plural, =0 {No comments} =1 {1 comment} other {{INTERPOLATION} comments}}",_i=ti(_i,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let Vn;Vn="No video found matching current filters.";let Fn;return Fn="You don't have any videos published yet.",[["videoChangeOwnershipModal",""],["columnsDropdown","ngbDropdown"],e,_,m,I,b,F,ci,Wt,vt,Mt,_i,Vn,Fn,[1,"channel-filters"],[1,"channels-label"],[3,"channel","ngModel"],["dataKey","id",1,"new-p-table","sticky-p-table","cell-wrap",3,"selectionChange","onLazyLoad","value","paginator","totalRecords","rows","first","rowsPerPageOptions","sortField","sortOrder","resizableColumns","selection","lazy","lazyLoadOnInit","selectionPageOnly","showCurrentPageReport","currentPageReportTemplate","expandedRowKeys","ngClass"],["pTemplate","caption"],["pTemplate","sorticon"],["pTemplate","paginatorright"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"ngModelChange","channel","ngModel"],[1,"caption"],[1,"left-buttons"],["label",t,"theme","primary",3,"actions","entry"],[3,"hidden"],[1,"ms-auto","right-form"],[1,"d-flex","align-items-center"],["for","table-search",1,"label-inline","d-none","d-inline-block-mw"],["inputId","table-search","icon","true","emitOnInit","false","placeholder",o,3,"search"],["for","table-filter",1,"label-inline"],["inputId","table-filter","showToggleAll","false","showClear","true","placeholder",s,3,"ngModelChange","availableItems","selectableGroup","ngModel"],["small","true","active","true","rounded","true","theme","tertiary","icon","chevron-up",1,"ms-2"],["small","true","active","true","rounded","true","theme","tertiary","icon","chevron-down",1,"ms-2"],["small","true","rounded","true","theme","tertiary","icon","chevron-down",1,"ms-2"],["scope","col","width","25px",1,"checkbox-cell"],["ariaLabel",Y],["scope","col","container","body","pSortableColumn","duration",3,"ngbTooltip",4,"ngIf"],["scope","col","container","body","pSortableColumn","name",3,"ngbTooltip",4,"ngIf"],["scope","col",4,"ngIf"],["scope","col","container","body","pSortableColumn","views",3,"ngbTooltip",4,"ngIf"],["scope","col","container","body","pSortableColumn","comments",3,"ngbTooltip",4,"ngIf"],["scope","col","container","body","pSortableColumn","publishedAt",3,"ngbTooltip",4,"ngIf"],["scope","col","width","250px",1,"action-head"],[1,"d-flex","align-items-center","justify-content-between"],["i18",""],[1,"c-hand","column-toggle"],["ngbDropdown","","placement","bottom-left auto","container","body","autoClose","outside"],["theme","tertiary","icon","columns","ngbDropdownToggle","","title",he,3,"show"],["ngbDropdownMenu","",1,"p-3"],[1,"form-group"],[1,"muted","small","mb-2"],[1,"ms-1","mb-1"],["scope","col","container","body","pSortableColumn","duration",3,"ngbTooltip"],["field","duration"],["scope","col","container","body","pSortableColumn","name",3,"ngbTooltip"],["field","name"],["scope","col"],["scope","col","container","body","pSortableColumn","views",3,"ngbTooltip"],["field","views"],["scope","col","container","body","pSortableColumn","comments",3,"ngbTooltip"],["field","comments"],["scope","col","container","body","pSortableColumn","publishedAt",3,"ngbTooltip"],["field","publishedAt"],[3,"ngModelChange","inputName","ngModel","labelText"],[3,"pSelectableRow"],[1,"checkbox-cell"],["ariaLabel",J,3,"value"],[4,"ngIf"],[1,"action-cell"],[1,"d-flex","justify-content-end"],["label",di,"theme","secondary","icon","film","responsiveLabel","true",1,"me-3",3,"ptRouterLink"],["placement","bottom auto","buttonDirection","horizontal","buttonStyled","true",3,"videoRemoved","videoFilesRemoved","transcodingCreated","videoExistsInPlaylistChange","video","displayOptions","moreActions"],["thumbnail","true","title","false",3,"video"],["thumbnail","false","title","true",1,"video-cell-name",3,"video"],[1,"d-flex","flex-wrap","gap-1"],[3,"video"],["class","pt-badge badge-red",3,"ngbTooltip",4,"ngIf"],[1,"pt-badge","badge-red",3,"ngbTooltip"],[1,"badges","playlists"],["class","pt-badge badge-secondary pt-badge-keep-case",3,"routerLink",4,"ngFor","ngForOf"],[1,"pt-badge","badge-secondary","pt-badge-keep-case",3,"routerLink"],["title",Pt,1,"pt",3,"routerLink"],["myAutoColspan",""],[1,"no-results"]];},template:function(t,o){if(t&1){let s=T();d(0,"div",15)(1,"div",16),C(2,2),l(),Jt(3,Ac,1,2,"my-channel-toggle",17,xc),l(),d(5,"p-table",18),ae("selectionChange",function(m){return S(s),se(o.selectedRows,m)||(o.selectedRows=m),y(m);}),M("onLazyLoad",function(m){return S(s),y(o.loadLazy(m));}),h(6,Dc,13,4,"ng-template",19)(7,Fc,3,1,"ng-template",20)(8,$c,2,0,"ng-template",21)(9,qc,26,10,"ng-template",22)(10,cd,16,17,"ng-template",23)(11,pd,5,2,"ng-template",24),l(),g(12,"my-video-change-ownership",null,0);}t&2&&(a(3),ei(o.channels),a(2),c("value",o.videos)("paginator",o.totalRecords>0)("totalRecords",o.totalRecords)("rows",o.rowsPerPage)("first",o.pagination.start)("rowsPerPageOptions",o.rowsPerPageOptions)("sortField",o.sort.field)("sortOrder",o.sort.order)("resizableColumns",!0),re("selection",o.selectedRows),c("lazy",!0)("lazyLoadOnInit",!1)("selectionPageOnly",!0)("showCurrentPageReport",!0)("currentPageReportTemplate",o.getPaginationTemplate())("expandedRowKeys",o.expandedRows)("ngClass",R(17,Oc,o.loading)));},dependencies:[it,G,le,w,K,j,ot,gt,mt,Se,ut,Bo,ht,Ho,Uo,Te,$t,Ee,ze,rt,Fo,Gi,ce,No,ds,Jo,ss,ro,oo,no,io,Vt,rs,ft,Po,Ct,jo],styles:[`my-select-checkbox[_ngcontent-%COMP%]{min-width:250px}.pt-badge[_ngcontent-%COMP%]{margin-inline-end:.3125rem}.playlists[_ngcontent-%COMP%]   .pt-badge[_ngcontent-%COMP%]{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.video-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}.video-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   my-global-icon[_ngcontent-%COMP%]{position:relative;top:-2px;display:inline-block;width:16px;height:16px;line-height:16px;margin-inline-start:.1875rem}.right-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem}td[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}.channel-filters[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:1rem;border-bottom:1px solid var(--bg-secondary-400);margin-bottom:1rem;gap:1rem;overflow:hidden}.channel-filters[_ngcontent-%COMP%]:hover{overflow:auto}.channel-filters[_ngcontent-%COMP%]   .channels-label[_ngcontent-%COMP%]{color:var(--fg-200);font-weight:700;white-space:nowrap}@media screen and (min-width: 800px){.video-cell-name[_ngcontent-%COMP%]{width:300px;display:block}}@media screen and (max-width: 800px){my-video-cell[_ngcontent-%COMP%]{max-width:120px;display:block}}
/*# sourceMappingURL=my-videos.component-CC225W5W.css.map */`]}));let r=i;return r;})();var ms=(()=>{let i=class i{};f(i,"\u0275fac",function(t){return new(t||i)();}),f(i,"\u0275cmp",O({type:i,selectors:[["ng-component"]],decls:6,vars:0,consts:()=>{let e;e="Comments that contain any of the watched words are automatically tagged with the name of the list.";let t;return t="These automatic tags can be used to filter comments or "+"\uFFFD#4\uFFFD"+"automatically block"+"\uFFFD/#4\uFFFD"+" them.",[e,t,[1,"d-block"],[1,"d-block","mb-3"],["routerLink","/my-account/auto-tag-policies"],["mode","user"]];},template:function(t,o){t&1&&(d(0,"em",2),C(1,0),l(),d(2,"em",3),q(3,1),g(4,"a",4),Q(),l(),g(5,"my-watched-words-list-admin-owner",5));},dependencies:[qo,ce],encapsulation:2}));let r=i;return r;})();var Yn={path:"",providers:[Me,Do,Vo,Lo,ir,zt,Gt,Ko,Qo,Xo],resolve:{user:er},canActivateChild:[Co]},gs=[{path:"videos/comments",redirectTo:"comments-on-my-videos",pathMatch:"full"},{path:"comments-on-my-videos",component:cr,data:{meta:{title:"Comments on your videos"}}},{path:"watched-words/list",component:ms,data:{meta:{title:"Your watched words"}}},{path:"auto-tag-policies",component:dr,data:{meta:{title:"Your automatic tag policies"}}},{path:"videos",component:ps,data:{meta:{title:"sitelen mi"}}},{path:"video-imports",component:Ir,data:{meta:{title:"sitelen mi tan ma ante"}}},{path:"ownership",component:vr,data:{meta:{title:"ante lawa"}}}],fs=[{path:"",redirectTo:"video-channels",pathMatch:"full"},{path:"video-channels",loadChildren:()=>import("./chunk-H4X75H2D.js")},{path:"followers",component:pr,data:{meta:{title:"jan ni li lukin e sina"}}},{path:"video-channel-syncs",component:ji,data:{meta:{title:"My synchronizations"}}},{path:"video-channel-syncs/create",component:Er,data:{meta:{title:"Create new synchronization"}}}],ud=[{path:"video-playlists",component:ns,data:{meta:{title:"kulupu sitelen mi"}}},{path:"video-playlists/create",component:Or,data:{meta:{title:"o pali e kulupu sitelen sin"}}},{path:"video-playlists/:videoPlaylistId",component:ts,data:{meta:{title:"ijo pi kulupu sitelen"}}},{path:"video-playlists/update/:videoPlaylistId",component:is,data:{meta:{title:"o ante e kulupu sitelen"}}},{path:"subscriptions",component:ur,data:{meta:{title:"wile lukin mi"}}},{path:"history/videos",component:gr,data:{meta:{title:"lukin sitelen mi"},reuse:{enabled:!0,key:"my-videos-history-list"}}}];function us(r){if(r.length===0)return!1;let i=r[0].path;return gs.some(n=>n.path===i||n.path.startsWith(`${i}/`));}function hs(r){if(r.length===0)return!1;let i=r[0].path;return fs.some(n=>n.path===i||n.path.startsWith(`${i}/`));}var A0=[Re(ne({},Yn),{component:os,canMatch:[(r,i)=>us(i)],children:gs}),Re(ne({},Yn),{component:_r,canMatch:[(r,i)=>hs(i)],children:fs}),Re(ne({},Yn),{component:fr,canMatch:[(r,i)=>!us(i)&&!hs(i)],children:ud})];export{A0 as default};/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*///# sourceMappingURL=chunk-VNUGWIL2.js.map