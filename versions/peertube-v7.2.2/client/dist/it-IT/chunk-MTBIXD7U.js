import{b as en}from"./chunk-GFNWPGXC.js";import{a as nn}from"./chunk-IESFBSCZ.js";import{d as k,e as j,f as Q,g as W,h as q,i as V}from"./chunk-RT7DTAS6.js";import{a as Y}from"./chunk-PE7TFI7A.js";import{Bc as z,Cb as d,Cc as G,Da as A,Dc as T,Ea as D,Ha as r,Mb as L,Na as h,Nb as B,Pb as I,Qb as O,Qg as K,Rb as w,Sa as E,Xf as Z,Ya as s,Zb as F,aa as N,eb as o,ee as X,nb as a,ob as i,oc as U,pb as c,qb as C,rb as S,sa as P,ta as u,xb as p,xg as J,yb as x,zb as $}from"./chunk-F7FAPFPY.js";import{i as f,j as b}from"./chunk-AI7IVZV2.js";var on=["accordion"];function an(n,t){if(n&1&&(a(0,"h2",14),I(1),i()),n&2){let e=d();r(),O(e.about==null?null:e.about.instance.name);}}function rn(n,t){if(n&1&&(a(0,"div",15),I(1),i()),n&2){let e=d();r(),O(e.about==null?null:e.about.instance.shortDescription);}}function cn(n,t){n&1&&c(0,"my-instance-features-table");}function ln(n,t){n&1&&(a(0,"div",16)(1,"div",17)(2,"button",18),c(3,"my-global-icon",19),C(4),p(5,1),S(),i()(),a(6,"div",20)(7,"div",21),s(8,cn,1,0,"ng-template"),i()()());}function _n(n,t){if(n&1&&(a(0,"div",28)(1,"strong"),p(2,3),i(),c(3,"div",29),i(),a(4,"div",28)(5,"strong"),p(6,4),i(),c(7,"div",29),i(),a(8,"div",28)(9,"strong"),p(10,5),i(),c(11,"div",29),i()),n&2){let e=d(3);r(3),o("innerHTML",e.aboutHtml.administrator,A),r(4),o("innerHTML",e.about.instance.maintenanceLifetime,A),r(4),o("innerHTML",e.about.instance.businessModel,A);}}function sn(n,t){n&1&&(a(0,"div",27)(1,"div",17)(2,"button",18),c(3,"my-global-icon",19),C(4),p(5,2),S(),i()(),a(6,"div",20)(7,"div",21),s(8,_n,12,3,"ng-template"),i()()());}function dn(n,t){if(n&1&&c(0,"div",31),n&2){let e=d(3);o("innerHTML",e.aboutHtml.terms,A);}}function mn(n,t){if(n&1&&(a(0,"div",30)(1,"div",17)(2,"button",18),c(3,"my-global-icon",19),I(4),i()(),a(5,"div",20)(6,"div",21),s(7,dn,1,1,"ng-template"),i()()()),n&2){let e=d(2);r(4),w(" ",e.getTermsTitle()," ");}}function pn(n,t){if(n&1&&c(0,"div",31),n&2){let e=d(3);o("innerHTML",e.aboutHtml.moderationInformation,A);}}function un(n,t){n&1&&(a(0,"div",32)(1,"div",17)(2,"button",18),c(3,"my-global-icon",19),C(4),p(5,6),S(),i()(),a(6,"div",20)(7,"div",21),s(8,pn,1,1,"ng-template"),i()()());}function An(n,t){if(n&1&&c(0,"div",31),n&2){let e=d(3);o("innerHTML",e.aboutHtml.codeOfConduct,A);}}function gn(n,t){n&1&&(a(0,"div",33)(1,"div",17)(2,"button",18),c(3,"my-global-icon",19),C(4),p(5,7),S(),i()(),a(6,"div",20)(7,"div",21),s(8,An,1,1,"ng-template"),i()()());}function Cn(n,t){if(n&1&&c(0,"div",31),n&2){let e=d().$implicit;o("innerHTML",e.html,A);}}function Sn(n,t){if(n&1&&(a(0,"div",34)(1,"div",17)(2,"button",18),c(3,"my-global-icon",19),C(4),p(5,8),S(),i()(),a(6,"div",20)(7,"div",21),s(8,Cn,1,1,"ng-template"),i()()()),n&2){let e=t.$implicit;o("id",e.id),r(5),x(e.title),$(5);}}function fn(n,t){if(n&1&&(C(0),s(1,sn,9,0,"div",22)(2,mn,8,1,"div",23)(3,un,9,0,"div",24)(4,gn,9,0,"div",25)(5,Sn,9,2,"div",26),S()),n&2){let e=d();r(),o("ngIf",e.getAdministratorsPanel()),r(),o("ngIf",e.termsPanel),r(),o("ngIf",e.moderationPanel),r(),o("ngIf",e.codeOfConductPanel),r(),o("ngForOf",e.pluginPanels);}}var Dn=(()=>{let t=class t{instanceService=N(nn);notifier=N(Z);hookService=N(K);accordion=h("accordion");init=P();displayInstanceName=u(!0);displayInstanceShortDescription=u(!0);pluginScope=u(void 0);pluginHook=u(void 0);panels=u({features:!0,administrators:!0,moderation:!0,codeOfConduct:!0,terms:!0});about;aboutHtml={terms:"",codeOfConduct:"",moderationInformation:"",administrator:""};pluginPanels=[];ngOnInit(){return b(this,null,function*(){this.instanceService.getAbout().subscribe({next:_=>b(this,null,function*(){this.about=_,this.aboutHtml=yield this.instanceService.buildHtml(_),this.init.emit(this);}),error:_=>this.notifier.error(_.message)}),this.pluginPanels=yield this.hookService.wrapObject([],this.pluginScope(),this.pluginHook());});}expandTerms(){this.accordion().expand("terms");}expandCodeOfConduct(){this.accordion().expand("code-of-conduct");}getAdministratorsPanel(){return!this.about||!this.panels().administrators?!1:!!(this.aboutHtml?.administrator||this.about?.instance.maintenanceLifetime||this.about?.instance.businessModel);}getTermsTitle(){return"Condizioni di "+this.about.instance.name+"";}get moderationPanel(){return this.panels().moderation&&!!this.aboutHtml.moderationInformation;}get codeOfConductPanel(){return this.panels().codeOfConduct&&!!this.aboutHtml.codeOfConduct;}get termsPanel(){return this.panels().terms&&!!this.aboutHtml.terms;}};f(t,"\u0275fac",function(l){return new(l||t)();}),f(t,"\u0275cmp",E({type:t,selectors:[["my-instance-about-accordion"]],viewQuery:function(l,m){l&1&&L(m.accordion,on,5),l&2&&B();},inputs:{displayInstanceName:[1,"displayInstanceName"],displayInstanceShortDescription:[1,"displayInstanceShortDescription"],pluginScope:[1,"pluginScope"],pluginHook:[1,"pluginHook"],panels:[1,"panels"]},outputs:{init:"init"},decls:6,vars:5,consts:()=>{let _;_="Funzionalit\xE0 in questa istanza";let l;l="Amministratori & Sostenibilit\xE0";let m;m="Chi siamo?";let v;v="Per quanto tempo pensiamo di mantenere questa istanza?";let R;R="Come finanzieremo questa istanza?";let M;M="Informazioni sulla moderazione";let H;H="Codice di condotta";let y;return y=""+"\uFFFD0\uFFFD"+"",[["accordion","ngbAccordion"],_,l,m,v,R,M,H,y,["class","instance-name",4,"ngIf"],["class","instance-short-description ellipsis-multiline-3",4,"ngIf"],["ngbAccordion","",3,"closeOthers"],["ngbAccordionItem","instance-features",4,"ngIf"],[4,"ngIf"],[1,"instance-name"],[1,"instance-short-description","ellipsis-multiline-3"],["ngbAccordionItem","instance-features"],["ngbAccordionHeader",""],["ngbAccordionButton",""],["iconName","playlists"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["ngbAccordionItem","",4,"ngIf"],["ngbAccordionItem","terms",4,"ngIf"],["ngbAccordionItem","moderation-information",4,"ngIf"],["ngbAccordionItem","code-of-conduct",4,"ngIf"],["ngbAccordionItem","",3,"id",4,"ngFor","ngForOf"],["ngbAccordionItem",""],[1,"block"],[3,"innerHTML"],["ngbAccordionItem","terms"],[1,"block",3,"innerHTML"],["ngbAccordionItem","moderation-information"],["ngbAccordionItem","code-of-conduct"],["ngbAccordionItem","",3,"id"]];},template:function(l,m){l&1&&(s(0,an,2,1,"h2",9)(1,rn,2,1,"div",10),a(2,"div",11,0),s(4,ln,9,0,"div",12)(5,fn,6,5,"ng-container",13),i()),l&2&&(o("ngIf",m.displayInstanceName()),r(),o("ngIf",m.displayInstanceShortDescription()),r(),o("closeOthers",!0),r(2),o("ngIf",m.panels().features),r(),o("ngIf",m.about));},dependencies:[T,V,q,W,Q,Y,j,k,en,G],styles:[`.instance-name[_ngcontent-%COMP%]{line-height:1.7rem}.instance-short-description[_ngcontent-%COMP%]{font-size:1rem;margin:25px 0}.block[_ngcontent-%COMP%]{margin-bottom:15px}my-global-icon[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;line-height:24px;margin-inline-end:.9375rem}
/*# sourceMappingURL=instance-about-accordion.component-3ZV7IPRH.css.map */`]}));let n=t;return n;})();var Nn=n=>({rounded:n});function En(n,t){if(n&1&&(a(0,"div",1),c(1,"img",2),i()),n&2){let e=d();o("ngClass",F(2,Nn,e.rounded())),r(),o("src",e.instanceBannerUrl,D);}}var Un=(()=>{let t=class t{server=N(J);rounded=u(!1,{transform:U});instanceBannerUrl;ngOnInit(){let{instance:_}=this.server.getHTMLConfig();this.instanceBannerUrl=X(_.banners,"width")?.path;}};f(t,"\u0275fac",function(l){return new(l||t)();}),f(t,"\u0275cmp",E({type:t,selectors:[["my-instance-banner"]],inputs:{rounded:[1,"rounded"]},decls:1,vars:1,consts:[["class","banner",3,"ngClass",4,"ngIf"],[1,"banner",3,"ngClass"],["alt","",1,"rounded",3,"src"]],template:function(l,m){l&1&&s(0,En,2,4,"div",0),l&2&&o("ngIf",m.instanceBannerUrl);},dependencies:[T,z],encapsulation:2}));let n=t;return n;})();export{Dn as a,Un as b};/**i18n:1cf7c077143c4c267fdafbe5508f191afcef21bad6aba22a3a8dc180e1003753*///# sourceMappingURL=chunk-MTBIXD7U.js.map