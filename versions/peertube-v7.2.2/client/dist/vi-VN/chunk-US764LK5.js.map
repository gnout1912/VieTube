{"version":3,"mappings":"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","names":["ɵɵelementContainerStart","ɵɵi18n","E","W","e","o","j","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","ErrorPageComponent_Conditional_1_Conditional_6_Template","ErrorPageComponent_Conditional_1_Conditional_7_Template","ɵɵelement","_","c","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","status","ɵɵconditional","type","B","H","Q","ErrorPageComponent_Conditional_2_Conditional_6_Template","ErrorPageComponent_Conditional_2_Conditional_7_Template","J","K","ɵɵi18nExp","pathname","M","V","Z","ee","te","ErrorPageComponent_Conditional_4_Conditional_6_Template","ErrorPageComponent_Conditional_4_Conditional_7_Template","ErrorPageComponent_Conditional_4_Conditional_15_Template","ErrorPageComponent_Conditional_4_Conditional_16_Template","ErrorPageComponent","titleService","inject","Title","router","Router","HttpStatusCode","NOT_FOUND_404","constructor","state","getCurrentNavigation","extras","obj","ngOnInit","includes","I_AM_A_TEAPOT_418","setTitle","$localize","window","location","getMascotName","FORBIDDEN_403","O","selectors","decls","vars","consts","i18n_0","w","X","ErrorPageComponent_Conditional_1_Template","ErrorPageComponent_Conditional_2_Template","ErrorPageComponent_Conditional_3_Template","ErrorPageComponent_Conditional_4_Template","s","ctx","ɵɵpropertyInterpolate1","ɵɵsanitizeUrl","dependencies","LoginLinkComponent","styles","_ErrorPageComponent","routes_default","path","component","data","meta","title","se","default"],"ignoreList":[],"sources":["src/app/+error-page/error-page.component.html","src/app/+error-page/error-page.component.ts","src/app/+error-page/routes.ts"],"sourcesContent":["<div class=\"root\">\n  @if (status === 401) {\n    <div class=\"box\">\n      <strong>{{ status }}.</strong>\n      <span class=\"ms-1 muted\" i18n>You are not authorized here.</span>\n\n      <div class=\"text mt-4\">\n        @if (type === 'video') {\n          <ng-container i18n>You might need to login to see the video.</ng-container>\n        } @else {\n          <ng-container i18n>You might need to login to see the resource.</ng-container>\n        }\n      </div>\n\n      <my-login-link className=\"peertube-button-big-link primary-button mt-5\"></my-login-link>\n    </div>\n  } @else if (status === 403) {\n    <div class=\"box\">\n      <strong>{{ status }}.</strong>\n      <span class=\"ms-1 muted\" i18n>You are not authorized here.</span>\n\n      <div class=\"text mt-4\">\n        @if (type === 'video') {\n          <ng-container i18n>You might need to check your account is allowed by the video or instance owner.</ng-container>\n        } @else {\n          <ng-container i18n>You might need to check your account is allowed by the resource or instance owner.</ng-container>\n        }\n      </div>\n    </div>\n  } @else if (status === 418) {\n    <div class=\"box\">\n      <strong>{{ status }}.</strong>\n      <span class=\"ms-1 muted\">I'm a teapot.</span>\n\n      <div class=\"text mt-4\" i18n=\"Description of a tea flavour, keeping the 'requested entity body' as a technical expression referring to a web request\">\n        The requested entity body blends sweet bits with a mellow earthiness.\n      </div>\n      <div class=\"muted\" i18n=\"This is about Sepia's tea\">Sepia seems to like it.</div>\n    </div>\n  } @else {\n    <div class=\"box\">\n      <strong>{{ status }}.</strong>\n      <span class=\"ms-1 muted\" i18n>That's an error.</span>\n\n      <div class=\"text mt-4\">\n        @if (type === 'video') {\n          <ng-container i18n>We couldn't find any video tied to the URL {{ pathname }} you were looking for.</ng-container>\n        } @else {\n          <ng-container i18n>We couldn't find any resource tied to the URL {{ pathname }} you were looking for.</ng-container>\n        }\n      </div>\n\n      <div class=\"muted mt-4\">\n        <span i18n=\"Possible reasons preceding a list of reasons a `Not Found` error page may occur\">Possible reasons:</span>\n\n        <ul>\n          <li i18n>You may have used an outdated or broken link</li>\n\n          <li>\n            @if (type === 'video') {\n              <ng-container i18n>The video may have been moved or deleted</ng-container>\n            } @else {\n              <ng-container i18n>The resource may have been moved or deleted</ng-container>\n            }\n          </li>\n\n          <li i18n>You may have typed the address or URL incorrectly</li>\n        </ul>\n      </div>\n    </div>\n  }\n\n  <img src='/client/assets/images/mascot/{{ getMascotName() }}.svg' alt='{{ status }} mascot' class=\"mb-4 h-auto\">\n</div>\n","import { Component, OnInit, inject } from '@angular/core'\nimport { Title } from '@angular/platform-browser'\nimport { Router } from '@angular/router'\nimport { LoginLinkComponent } from '@app/shared/shared-main/users/login-link.component'\nimport { HttpStatusCode, HttpStatusCodeType } from '@peertube/peertube-models'\n\n@Component({\n  selector: 'my-error-page',\n  templateUrl: './error-page.component.html',\n  styleUrls: [ './error-page.component.scss' ],\n  imports: [ LoginLinkComponent ]\n})\nexport class ErrorPageComponent implements OnInit {\n  private titleService = inject(Title)\n  private router = inject(Router)\n\n  status: HttpStatusCodeType = HttpStatusCode.NOT_FOUND_404\n  type: 'video' | 'other' = 'other'\n\n  public constructor () {\n    const state = this.router.getCurrentNavigation()?.extras.state\n    this.type = state?.type || this.type\n    this.status = state?.obj.status || this.status\n  }\n\n  ngOnInit () {\n    if (this.pathname.includes('teapot')) {\n      this.status = HttpStatusCode.I_AM_A_TEAPOT_418\n      this.titleService.setTitle($localize`I'm a teapot` + ' - PeerTube')\n    }\n  }\n\n  get pathname () {\n    return window.location.pathname\n  }\n\n  getMascotName () {\n    switch (this.status) {\n      case HttpStatusCode.I_AM_A_TEAPOT_418:\n        return 'happy'\n      case HttpStatusCode.FORBIDDEN_403:\n        return 'arguing'\n      case HttpStatusCode.NOT_FOUND_404:\n      default:\n        return 'defeated'\n    }\n  }\n}\n","import { Routes } from '@angular/router'\nimport { ErrorPageComponent } from './error-page.component'\n\nexport default [\n  {\n    path: '',\n    component: ErrorPageComponent,\n    data: {\n      meta: {\n        title: $localize`Not found`\n      }\n    }\n  }\n] satisfies Routes\n"]}